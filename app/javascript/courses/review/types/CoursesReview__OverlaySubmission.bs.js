// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var DateFns = require("../../../shared/utils/DateFns.bs.js");
var ArrayUtils = require("../../../shared/utils/ArrayUtils.bs.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Json_decode = require("@glennsl/bs-json/src/Json_decode.bs.js");
var CoursesReview__Grade = require("./CoursesReview__Grade.bs.js");
var CoursesReview__Feedback = require("./CoursesReview__Feedback.bs.js");
var SubmissionChecklistItem = require("./SubmissionChecklistItem.bs.js");

function id(t) {
  return t.id;
}

function createdAt(t) {
  return t.createdAt;
}

function passedAt(t) {
  return t.passedAt;
}

function evaluatorName(t) {
  return t.evaluatorName;
}

function evaluatedAt(t) {
  return t.evaluatedAt;
}

function grades(t) {
  return t.grades;
}

function feedback(t) {
  return t.feedback;
}

function checklist(t) {
  return t.checklist;
}

function make(id, createdAt, passedAt, evaluatorName, feedback, grades, evaluatedAt, checklist) {
  return {
          id: id,
          createdAt: createdAt,
          passedAt: passedAt,
          evaluatorName: evaluatorName,
          evaluatedAt: evaluatedAt,
          feedback: feedback,
          grades: grades,
          checklist: checklist
        };
}

function makeFromJs(details) {
  return details.map((function (s) {
                var partial_arg = SubmissionChecklistItem.makeFiles(s.files);
                return make(s.id, DateFns.decodeISO(s.createdAt), Belt_Option.map(s.passedAt, DateFns.decodeISO), s.evaluatorName, s.feedback.map((function (f) {
                                  return CoursesReview__Feedback.make(f.coachName, f.coachAvatarUrl, f.coachTitle, DateFns.decodeISO(f.createdAt), f.value);
                                })), s.grades.map((function (g) {
                                  return CoursesReview__Grade.make(g.evaluationCriterionId, g.grade);
                                })), Belt_Option.map(s.evaluatedAt, DateFns.decodeISO), Json_decode.array((function (param) {
                                  return SubmissionChecklistItem.decode(partial_arg, param);
                                }), s.checklist));
              }));
}

function feedbackSent(t) {
  return ArrayUtils.isNotEmpty(t.feedback);
}

function updateFeedback(feedback, t) {
  return {
          id: t.id,
          createdAt: t.createdAt,
          passedAt: t.passedAt,
          evaluatorName: t.evaluatorName,
          evaluatedAt: t.evaluatedAt,
          feedback: feedback,
          grades: t.grades,
          checklist: t.checklist
        };
}

exports.id = id;
exports.createdAt = createdAt;
exports.passedAt = passedAt;
exports.evaluatorName = evaluatorName;
exports.evaluatedAt = evaluatedAt;
exports.grades = grades;
exports.feedback = feedback;
exports.checklist = checklist;
exports.make = make;
exports.makeFromJs = makeFromJs;
exports.feedbackSent = feedbackSent;
exports.updateFeedback = updateFeedback;
/* DateFns Not a pure module */
