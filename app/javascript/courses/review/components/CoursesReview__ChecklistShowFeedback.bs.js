// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var MarkdownBlock = require("../../../shared/components/MarkdownBlock.bs.js");

((require("./CoursesReview__ChecklistShowFeedback.css")));

function str(prim) {
  return prim;
}

function feedbackClasses(truncated) {
  if (truncated) {
    return "relative overflow-hidden h-12";
  } else {
    return "relative h-auto";
  }
}

function optionalStringLength(feedback) {
  if (feedback !== undefined) {
    return feedback.length;
  } else {
    return 0;
  }
}

function CoursesReview__ChecklistShowFeedback(Props) {
  var feedback = Props.feedback;
  var truncationRequired = optionalStringLength(feedback) > 150;
  var match = React.useState((function () {
          return truncationRequired;
        }));
  if (feedback !== undefined) {
    var setTruncated = match[1];
    var truncated = match[0];
    return React.createElement("div", {
                className: truncated ? "relative overflow-hidden h-12" : "relative h-auto"
              }, React.createElement(MarkdownBlock.make, {
                    markdown: feedback,
                    className: "text-sm",
                    profile: /* Permissive */2
                  }), truncationRequired && truncated ? React.createElement("div", {
                      className: "checklist-show-feedback__show-all-button absolute bottom-0 w-full"
                    }, React.createElement("button", {
                          className: "block w-full text-center rounded-lg text-primary-500 text-xs font-semibold focus:outline-none hover:text-primary-400",
                          onClick: (function (param) {
                              return Curry._1(setTruncated, (function (param) {
                                            return false;
                                          }));
                            })
                        }, React.createElement("span", {
                              className: "inline-block bg-gray-100 px-2"
                            }, "Show All"))) : null);
  } else {
    return null;
  }
}

var make = CoursesReview__ChecklistShowFeedback;

exports.str = str;
exports.feedbackClasses = feedbackClasses;
exports.optionalStringLength = optionalStringLength;
exports.make = make;
/*  Not a pure module */
