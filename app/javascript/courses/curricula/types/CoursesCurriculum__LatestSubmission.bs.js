// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var DateFns = require("../../../shared/utils/DateFns.bs.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var Json_decode = require("@glennsl/bs-json/src/Json_decode.bs.js");

function decode(json) {
  return {
          targetId: Json_decode.field("targetId", Json_decode.string, json),
          passedAt: Belt_Option.map(Json_decode.optional((function (param) {
                      return Json_decode.field("passedAt", Json_decode.string, param);
                    }), json), DateFns.parseISO),
          evaluatorId: Caml_option.null_to_opt(Json_decode.field("evaluatorId", (function (param) {
                      return Json_decode.nullable(Json_decode.string, param);
                    }), json))
        };
}

function targetId(t) {
  return t.targetId;
}

function hasPassed(t) {
  return t.passedAt !== undefined;
}

function hasBeenEvaluated(t) {
  return t.evaluatorId !== undefined;
}

function make(pending, targetId) {
  return {
          targetId: targetId,
          passedAt: pending ? undefined : Caml_option.some(new Date()),
          evaluatorId: undefined
        };
}

exports.decode = decode;
exports.targetId = targetId;
exports.hasPassed = hasPassed;
exports.hasBeenEvaluated = hasBeenEvaluated;
exports.make = make;
/* DateFns Not a pure module */
