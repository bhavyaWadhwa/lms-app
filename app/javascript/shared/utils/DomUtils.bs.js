// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Json = require("@glennsl/bs-json/src/Json.bs.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var Caml_exceptions = require("bs-platform/lib/js/caml_exceptions.js");

var DataElementMissing = Caml_exceptions.create("DomUtils.DataElementMissing");

var RootElementMissing = Caml_exceptions.create("DomUtils.RootElementMissing");

var RootAttributeMissing = Caml_exceptions.create("DomUtils.RootAttributeMissing");

function parseJSONTag(idOpt, param) {
  var id = idOpt !== undefined ? idOpt : "react-root-data";
  var match = document.getElementById(id);
  var tmp;
  if (match == null) {
    throw [
          DataElementMissing,
          id
        ];
  } else {
    tmp = match.innerHTML;
  }
  return Json.parseOrRaise(tmp);
}

function parseJSONAttribute(idOpt, attributeOpt, param) {
  var id = idOpt !== undefined ? idOpt : "react-root";
  var attribute = attributeOpt !== undefined ? attributeOpt : "data-json-props";
  var match = document.getElementById(id);
  var tmp;
  if (match == null) {
    throw [
          RootElementMissing,
          id
        ];
  } else {
    var match$1 = match.getAttribute(attribute);
    if (match$1 == null) {
      throw [
            RootAttributeMissing,
            attribute
          ];
    } else {
      tmp = match$1;
    }
  }
  return Json.parseOrRaise(tmp);
}

function redirect(path) {
  window.location = path;
  return /* () */0;
}

function reload(param) {
  window.location.reload();
  return /* () */0;
}

function isDevelopment(param) {
  var match = document.documentElement.getAttribute("data-env");
  if (match == null) {
    return false;
  } else {
    return match === "development";
  }
}

function goBack(param) {
  window.history.back();
  return /* () */0;
}

function hasUrlParam(key) {
  return Belt_Option.isSome(Caml_option.nullable_to_opt(new URLSearchParams(window.location.search).get(key)));
}

var $$FormData = { };

var $$EventTarget = { };

var $$Element = { };

exports.DataElementMissing = DataElementMissing;
exports.RootElementMissing = RootElementMissing;
exports.RootAttributeMissing = RootAttributeMissing;
exports.parseJSONTag = parseJSONTag;
exports.parseJSONAttribute = parseJSONAttribute;
exports.redirect = redirect;
exports.reload = reload;
exports.isDevelopment = isDevelopment;
exports.goBack = goBack;
exports.hasUrlParam = hasUrlParam;
exports.$$FormData = $$FormData;
exports.$$EventTarget = $$EventTarget;
exports.$$Element = $$Element;
/* No side effect */
