{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar FaIcon = require(\"../../../../shared/components/FaIcon.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar WindowUtils = require(\"../../../../shared/utils/WindowUtils.bs.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar CourseCoaches__Team = require(\"../../types/course_coaches/CourseCoaches__Team.bs.js\");\n\nvar CourseCoaches__CourseCoach = require(\"../../types/course_coaches/CourseCoaches__CourseCoach.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction deleteIconClasses(deleting) {\n  if (deleting) {\n    return \"fas fa-spinner fa-pulse\";\n  } else {\n    return \"far fa-trash-alt\";\n  }\n}\n\nvar ppx_printed_query = \"mutation ($teamId: ID!, $coachId: ID!)  {\\ndeleteCoachTeamEnrollment(teamId: $teamId, coachId: $coachId)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"deleteCoachTeamEnrollment\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type DeleteCoachTeamEnrollmentPayload is missing\");\n    }\n\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field deleteCoachTeamEnrollment on type Mutation is missing\");\n  }\n\n  return {\n    deleteCoachTeamEnrollment: tmp\n  };\n}\n\nfunction make(teamId, coachId, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"teamId\", teamId],\n    /* tuple */\n    [\"coachId\", coachId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var teamId = variables.teamId;\n  var coachId = variables.coachId;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"teamId\", teamId],\n    /* tuple */\n    [\"coachId\", coachId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(teamId, coachId, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"teamId\", teamId],\n  /* tuple */\n  [\"coachId\", coachId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, teamId, coachId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"teamId\", teamId],\n  /* tuple */\n  [\"coachId\", coachId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar DeleteCoachTeamEnrollmentQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction deleteTeamEnrollment(team, coach, setDeleting, removeTeamEnrollmentCB, $$event) {\n  $$event.preventDefault();\n  return WindowUtils.confirm(undefined, \"Are you sure you want to remove \" + (CourseCoaches__Team.name(team) + \" from the list of assigned teams?\"), function (param) {\n    Curry._1(setDeleting, function (param) {\n      return true;\n    });\n\n    (function (eta) {\n      return GraphqlQuery.sendQuery(undefined, eta);\n    })(make(CourseCoaches__Team.id(team), CourseCoaches__CourseCoach.id(coach),\n    /* () */\n    0)).then(function (response) {\n      if (response.deleteCoachTeamEnrollment.success) {\n        Curry._1(removeTeamEnrollmentCB, CourseCoaches__Team.id(team));\n      } else {\n        Curry._1(setDeleting, function (param) {\n          return false;\n        });\n      }\n\n      return Promise.resolve(response);\n    });\n    return (\n      /* () */\n      0\n    );\n  });\n}\n\nfunction CourseCoaches__InfoFormTeam(Props) {\n  var team = Props.team;\n  var coach = Props.coach;\n  var removeTeamEnrollmentCB = Props.removeTeamEnrollmentCB;\n  var match = React.useState(function () {\n    return false;\n  });\n  var setDeleting = match[1];\n  return React.createElement(\"div\", {\n    key: CourseCoaches__Team.id(team),\n    \"aria-label\": \"Team \" + CourseCoaches__Team.name(team),\n    className: \"flex items-center justify-between bg-gray-100 text-xs text-gray-900 border rounded pl-3 mt-2\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-1 justify-between items-center\"\n  }, React.createElement(\"div\", {\n    className: \"font-semibold w-1/2\"\n  }, CourseCoaches__Team.students(team).map(function (student, index) {\n    return React.createElement(\"div\", {\n      key: String(index),\n      className: \"p-1\"\n    }, student);\n  })), CourseCoaches__Team.students(team).length > 1 ? React.createElement(\"div\", {\n    className: \"w-1/2\"\n  }, React.createElement(\"p\", {\n    className: \"text-tiny\"\n  }, \"Team\"), React.createElement(\"p\", {\n    className: \"font-semibold\"\n  }, CourseCoaches__Team.name(team))) : null), React.createElement(\"div\", {\n    className: \"w-10 text-center flex-shrink-0 hover:text-gray-900 hover:bg-gray-200\"\n  }, React.createElement(\"button\", {\n    className: \"p-3\",\n    title: \"Delete \" + CourseCoaches__Team.name(team),\n    onClick: function onClick(param) {\n      return deleteTeamEnrollment(team, coach, setDeleting, removeTeamEnrollmentCB, param);\n    }\n  }, React.createElement(FaIcon.make, {\n    classes: match[0] ? \"fas fa-spinner fa-pulse\" : \"far fa-trash-alt\"\n  }))));\n}\n\nvar make$1 = CourseCoaches__InfoFormTeam;\nexports.str = str;\nexports.deleteIconClasses = deleteIconClasses;\nexports.DeleteCoachTeamEnrollmentQuery = DeleteCoachTeamEnrollmentQuery;\nexports.deleteTeamEnrollment = deleteTeamEnrollment;\nexports.make = make$1;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/course_coaches/CourseCoaches__InfoFormTeam.bs.js"],"names":["Curry","require","React","FaIcon","Js_exn","Js_dict","Js_json","Js_option","Caml_option","WindowUtils","GraphqlQuery","CourseCoaches__Team","CourseCoaches__CourseCoach","str","prim","deleteIconClasses","deleting","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeBoolean","raiseError","JSON","stringify","success","deleteCoachTeamEnrollment","make","teamId","coachId","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","DeleteCoachTeamEnrollmentQuery","deleteTeamEnrollment","team","coach","setDeleting","removeTeamEnrollmentCB","$$event","preventDefault","confirm","name","eta","sendQuery","id","then","response","Promise","resolve","CourseCoaches__InfoFormTeam","Props","useState","createElement","key","className","students","map","student","index","String","length","title","onClick","classes","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar FaIcon = require(\"../../../../shared/components/FaIcon.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar WindowUtils = require(\"../../../../shared/utils/WindowUtils.bs.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar CourseCoaches__Team = require(\"../../types/course_coaches/CourseCoaches__Team.bs.js\");\nvar CourseCoaches__CourseCoach = require(\"../../types/course_coaches/CourseCoaches__CourseCoach.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction deleteIconClasses(deleting) {\n  if (deleting) {\n    return \"fas fa-spinner fa-pulse\";\n  } else {\n    return \"far fa-trash-alt\";\n  }\n}\n\nvar ppx_printed_query = \"mutation ($teamId: ID!, $coachId: ID!)  {\\ndeleteCoachTeamEnrollment(teamId: $teamId, coachId: $coachId)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"deleteCoachTeamEnrollment\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type DeleteCoachTeamEnrollmentPayload is missing\");\n    }\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field deleteCoachTeamEnrollment on type Mutation is missing\");\n  }\n  return {\n          deleteCoachTeamEnrollment: tmp\n        };\n}\n\nfunction make(teamId, coachId, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"teamId\",\n                    teamId\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var teamId = variables.teamId;\n  var coachId = variables.coachId;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"teamId\",\n                    teamId\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(teamId, coachId, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"teamId\",\n                  teamId\n                ],\n                /* tuple */[\n                  \"coachId\",\n                  coachId\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, teamId, coachId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"teamId\",\n                      teamId\n                    ],\n                    /* tuple */[\n                      \"coachId\",\n                      coachId\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar DeleteCoachTeamEnrollmentQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction deleteTeamEnrollment(team, coach, setDeleting, removeTeamEnrollmentCB, $$event) {\n  $$event.preventDefault();\n  return WindowUtils.confirm(undefined, \"Are you sure you want to remove \" + (CourseCoaches__Team.name(team) + \" from the list of assigned teams?\"), (function (param) {\n                Curry._1(setDeleting, (function (param) {\n                        return true;\n                      }));\n                (function (eta) {\n                        return GraphqlQuery.sendQuery(undefined, eta);\n                      })(make(CourseCoaches__Team.id(team), CourseCoaches__CourseCoach.id(coach), /* () */0)).then((function (response) {\n                        if (response.deleteCoachTeamEnrollment.success) {\n                          Curry._1(removeTeamEnrollmentCB, CourseCoaches__Team.id(team));\n                        } else {\n                          Curry._1(setDeleting, (function (param) {\n                                  return false;\n                                }));\n                        }\n                        return Promise.resolve(response);\n                      }));\n                return /* () */0;\n              }));\n}\n\nfunction CourseCoaches__InfoFormTeam(Props) {\n  var team = Props.team;\n  var coach = Props.coach;\n  var removeTeamEnrollmentCB = Props.removeTeamEnrollmentCB;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setDeleting = match[1];\n  return React.createElement(\"div\", {\n              key: CourseCoaches__Team.id(team),\n              \"aria-label\": \"Team \" + CourseCoaches__Team.name(team),\n              className: \"flex items-center justify-between bg-gray-100 text-xs text-gray-900 border rounded pl-3 mt-2\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-1 justify-between items-center\"\n                }, React.createElement(\"div\", {\n                      className: \"font-semibold w-1/2\"\n                    }, CourseCoaches__Team.students(team).map((function (student, index) {\n                            return React.createElement(\"div\", {\n                                        key: String(index),\n                                        className: \"p-1\"\n                                      }, student);\n                          }))), CourseCoaches__Team.students(team).length > 1 ? React.createElement(\"div\", {\n                        className: \"w-1/2\"\n                      }, React.createElement(\"p\", {\n                            className: \"text-tiny\"\n                          }, \"Team\"), React.createElement(\"p\", {\n                            className: \"font-semibold\"\n                          }, CourseCoaches__Team.name(team))) : null), React.createElement(\"div\", {\n                  className: \"w-10 text-center flex-shrink-0 hover:text-gray-900 hover:bg-gray-200\"\n                }, React.createElement(\"button\", {\n                      className: \"p-3\",\n                      title: \"Delete \" + CourseCoaches__Team.name(team),\n                      onClick: (function (param) {\n                          return deleteTeamEnrollment(team, coach, setDeleting, removeTeamEnrollmentCB, param);\n                        })\n                    }, React.createElement(FaIcon.make, {\n                          classes: match[0] ? \"fas fa-spinner fa-pulse\" : \"far fa-trash-alt\"\n                        }))));\n}\n\nvar make$1 = CourseCoaches__InfoFormTeam;\n\nexports.str = str;\nexports.deleteIconClasses = deleteIconClasses;\nexports.DeleteCoachTeamEnrollmentQuery = DeleteCoachTeamEnrollmentQuery;\nexports.deleteTeamEnrollment = deleteTeamEnrollment;\nexports.make = make$1;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}