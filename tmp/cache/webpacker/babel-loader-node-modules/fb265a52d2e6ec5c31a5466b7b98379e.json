{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\n\nvar CoursesReview__OverlaySubmission = require(\"./CoursesReview__OverlaySubmission.bs.js\");\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction title(t) {\n  return t.title;\n}\n\nfunction levelId(t) {\n  return t.levelId;\n}\n\nfunction userNames(t) {\n  return t.userNames;\n}\n\nfunction coachIds(t) {\n  return t.coachIds;\n}\n\nfunction failed(t) {\n  var match = t.status;\n\n  if (match !== undefined) {\n    return OptionUtils.mapWithDefault(function (param) {\n      return false;\n    }, true, match.passedAt);\n  } else {\n    return false;\n  }\n}\n\nfunction pendingReview(t) {\n  return OptionUtils.mapWithDefault(function (param) {\n    return false;\n  }, true, t.status);\n}\n\nfunction feedbackSent(t) {\n  return OptionUtils.mapWithDefault(function (status) {\n    return status.feedbackSent;\n  }, false, t.status);\n}\n\nfunction createdAtPretty(t) {\n  return DateFns.format(t.createdAt, \"MMMM d, yyyy\");\n}\n\nfunction timeDistance(t) {\n  return DateFns.formatDistanceToNowStrict(t.createdAt, true, undefined, undefined,\n  /* () */\n  0);\n}\n\nfunction sortArray(sortDirection, submissions) {\n  var sortDescending = ArrayUtils.copyAndSort(function (x, y) {\n    return DateFns.differenceInSeconds(y.createdAt, x.createdAt);\n  }, submissions);\n\n  if (sortDirection >= 235215128) {\n    return sortDescending;\n  } else {\n    return sortDescending.reverse();\n  }\n}\n\nfunction make(id, title, createdAt, levelId, userNames, status, coachIds) {\n  return {\n    id: id,\n    title: title,\n    createdAt: createdAt,\n    levelId: levelId,\n    userNames: userNames,\n    status: status,\n    coachIds: coachIds\n  };\n}\n\nfunction makeStatus(passedAt, feedbackSent) {\n  return {\n    passedAt: passedAt,\n    feedbackSent: feedbackSent\n  };\n}\n\nfunction decodeJs(details) {\n  return details.map(function (s) {\n    if (s !== undefined) {\n      var submission = Caml_option.valFromOption(s);\n      var status = Belt_Option.map(submission.evaluatedAt, function (param) {\n        return {\n          passedAt: Belt_Option.map(submission.passedAt, DateFns.decodeISO),\n          feedbackSent: submission.feedbackSent\n        };\n      });\n      return (\n        /* :: */\n        [make(submission.id, submission.title, DateFns.decodeISO(submission.createdAt), submission.levelId, submission.userNames, status, submission.coachIds),\n        /* [] */\n        0]\n      );\n    } else {\n      return (\n        /* [] */\n        0\n      );\n    }\n  });\n}\n\nfunction replace(e, l) {\n  return $$Array.map(function (s) {\n    if (s.id === e.id) {\n      return e;\n    } else {\n      return s;\n    }\n  }, l);\n}\n\nfunction statusEq(overlaySubmission, t) {\n  var match = t.status;\n  var match$1 = CoursesReview__OverlaySubmission.evaluatedAt(overlaySubmission);\n\n  if (match !== undefined) {\n    if (match$1 !== undefined) {\n      return Caml_obj.caml_equal(match.passedAt, CoursesReview__OverlaySubmission.passedAt(overlaySubmission));\n    } else {\n      return false;\n    }\n  } else {\n    return match$1 === undefined;\n  }\n}\n\nexports.id = id;\nexports.title = title;\nexports.levelId = levelId;\nexports.userNames = userNames;\nexports.coachIds = coachIds;\nexports.failed = failed;\nexports.pendingReview = pendingReview;\nexports.feedbackSent = feedbackSent;\nexports.createdAtPretty = createdAtPretty;\nexports.timeDistance = timeDistance;\nexports.sortArray = sortArray;\nexports.make = make;\nexports.makeStatus = makeStatus;\nexports.decodeJs = decodeJs;\nexports.replace = replace;\nexports.statusEq = statusEq;\n/* DateFns Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/review/types/CoursesReview__IndexSubmission.bs.js"],"names":["$$Array","require","DateFns","Caml_obj","ArrayUtils","Belt_Option","Caml_option","OptionUtils","CoursesReview__OverlaySubmission","id","t","title","levelId","userNames","coachIds","failed","match","status","undefined","mapWithDefault","param","passedAt","pendingReview","feedbackSent","createdAtPretty","format","createdAt","timeDistance","formatDistanceToNowStrict","sortArray","sortDirection","submissions","sortDescending","copyAndSort","x","y","differenceInSeconds","reverse","make","makeStatus","decodeJs","details","map","s","submission","valFromOption","evaluatedAt","decodeISO","replace","e","l","statusEq","overlaySubmission","match$1","caml_equal","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\nvar CoursesReview__OverlaySubmission = require(\"./CoursesReview__OverlaySubmission.bs.js\");\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction title(t) {\n  return t.title;\n}\n\nfunction levelId(t) {\n  return t.levelId;\n}\n\nfunction userNames(t) {\n  return t.userNames;\n}\n\nfunction coachIds(t) {\n  return t.coachIds;\n}\n\nfunction failed(t) {\n  var match = t.status;\n  if (match !== undefined) {\n    return OptionUtils.mapWithDefault((function (param) {\n                  return false;\n                }), true, match.passedAt);\n  } else {\n    return false;\n  }\n}\n\nfunction pendingReview(t) {\n  return OptionUtils.mapWithDefault((function (param) {\n                return false;\n              }), true, t.status);\n}\n\nfunction feedbackSent(t) {\n  return OptionUtils.mapWithDefault((function (status) {\n                return status.feedbackSent;\n              }), false, t.status);\n}\n\nfunction createdAtPretty(t) {\n  return DateFns.format(t.createdAt, \"MMMM d, yyyy\");\n}\n\nfunction timeDistance(t) {\n  return DateFns.formatDistanceToNowStrict(t.createdAt, true, undefined, undefined, /* () */0);\n}\n\nfunction sortArray(sortDirection, submissions) {\n  var sortDescending = ArrayUtils.copyAndSort((function (x, y) {\n          return DateFns.differenceInSeconds(y.createdAt, x.createdAt);\n        }), submissions);\n  if (sortDirection >= 235215128) {\n    return sortDescending;\n  } else {\n    return sortDescending.reverse();\n  }\n}\n\nfunction make(id, title, createdAt, levelId, userNames, status, coachIds) {\n  return {\n          id: id,\n          title: title,\n          createdAt: createdAt,\n          levelId: levelId,\n          userNames: userNames,\n          status: status,\n          coachIds: coachIds\n        };\n}\n\nfunction makeStatus(passedAt, feedbackSent) {\n  return {\n          passedAt: passedAt,\n          feedbackSent: feedbackSent\n        };\n}\n\nfunction decodeJs(details) {\n  return details.map((function (s) {\n                if (s !== undefined) {\n                  var submission = Caml_option.valFromOption(s);\n                  var status = Belt_Option.map(submission.evaluatedAt, (function (param) {\n                          return {\n                                  passedAt: Belt_Option.map(submission.passedAt, DateFns.decodeISO),\n                                  feedbackSent: submission.feedbackSent\n                                };\n                        }));\n                  return /* :: */[\n                          make(submission.id, submission.title, DateFns.decodeISO(submission.createdAt), submission.levelId, submission.userNames, status, submission.coachIds),\n                          /* [] */0\n                        ];\n                } else {\n                  return /* [] */0;\n                }\n              }));\n}\n\nfunction replace(e, l) {\n  return $$Array.map((function (s) {\n                if (s.id === e.id) {\n                  return e;\n                } else {\n                  return s;\n                }\n              }), l);\n}\n\nfunction statusEq(overlaySubmission, t) {\n  var match = t.status;\n  var match$1 = CoursesReview__OverlaySubmission.evaluatedAt(overlaySubmission);\n  if (match !== undefined) {\n    if (match$1 !== undefined) {\n      return Caml_obj.caml_equal(match.passedAt, CoursesReview__OverlaySubmission.passedAt(overlaySubmission));\n    } else {\n      return false;\n    }\n  } else {\n    return match$1 === undefined;\n  }\n}\n\nexports.id = id;\nexports.title = title;\nexports.levelId = levelId;\nexports.userNames = userNames;\nexports.coachIds = coachIds;\nexports.failed = failed;\nexports.pendingReview = pendingReview;\nexports.feedbackSent = feedbackSent;\nexports.createdAtPretty = createdAtPretty;\nexports.timeDistance = timeDistance;\nexports.sortArray = sortArray;\nexports.make = make;\nexports.makeStatus = makeStatus;\nexports.decodeJs = decodeJs;\nexports.replace = replace;\nexports.statusEq = statusEq;\n/* DateFns Not a pure module */\n"]},"metadata":{},"sourceType":"module"}