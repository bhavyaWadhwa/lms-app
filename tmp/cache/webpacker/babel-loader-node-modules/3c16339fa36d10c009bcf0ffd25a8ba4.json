{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\n\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\n\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\n\nvar StudentsEditor__StudentInfo = require(\"../../types/students_editor/StudentsEditor__StudentInfo.bs.js\");\n\nvar StudentsEditor__StudentInfoForm = require(\"./StudentsEditor__StudentInfoForm.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction formInvalid(state) {\n  return ArrayUtils.isEmpty(state.studentsToAdd);\n}\n\nfunction handleErrorCB(send, param) {\n  return Curry._1(send,\n  /* SetSaving */\n  Block.__(2, [false]));\n}\n\nfunction appliedTags(students) {\n  return $$Array.of_list(ListUtils.distinct(List.flatten($$Array.to_list($$Array.map(function (student) {\n    return $$Array.to_list(StudentsEditor__StudentInfo.tags(student));\n  }, students)))));\n}\n\nfunction allKnownTags(incomingTags, appliedTags) {\n  return ArrayUtils.distinct($$Array.append(appliedTags, incomingTags));\n}\n\nfunction handleResponseCB(submitCB, state, json) {\n  var match = Json_decode.field(\"studentCount\", function (param) {\n    return Json_decode.pair(Json_decode.$$int, Json_decode.$$int, param);\n  }, json);\n  var studentsRequested = match[1];\n  var studentsAdded = match[0];\n  var tags = appliedTags(state.studentsToAdd);\n\n  Curry._1(submitCB, tags);\n\n  if (studentsAdded === studentsRequested) {\n    return $$Notification.success(\"Success\", \"All students were created successfully.\");\n  } else {\n    var message = String(studentsAdded) + (\" of \" + (String(studentsRequested) + \" students were added. Remaining students are already a part of the course.\"));\n    return $$Notification.notice(\"Partially successful\", message);\n  }\n}\n\nfunction saveStudents(state, send, courseId, responseCB, $$event) {\n  $$event.preventDefault();\n\n  Curry._1(send,\n  /* SetSaving */\n  Block.__(2, [true]));\n\n  var payload = {};\n  payload[\"authenticity_token\"] = AuthenticityToken.fromHead(\n  /* () */\n  0);\n  payload[\"students\"] = Json_encode.array(StudentsEditor__StudentInfo.encode, state.studentsToAdd);\n  var url = \"/school/courses/\" + (courseId + \"/students\");\n  return Api.create(url, payload, responseCB, function (param) {\n    return Curry._1(send,\n    /* SetSaving */\n    Block.__(2, [false]));\n  });\n}\n\nfunction teamHeader(teamName, studentsCount) {\n  return React.createElement(\"div\", {\n    className: \"flex justify-between mb-1\"\n  }, React.createElement(\"span\", {\n    className: \"text-tiny font-semibold\"\n  }, OptionUtils.mapWithDefault(function (teamName) {\n    return React.createElement(\"span\", undefined, \"TEAM: \" + teamName);\n  }, null, teamName)), studentsCount > 1 ? null : React.createElement(\"span\", {\n    className: \"text-tiny\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-exclamation-triangle text-orange-600 mr-1\"\n  }), \"Add more team members!\"));\n}\n\nfunction renderTitleAndAffiliation(title, affiliation) {\n  var match = title === \"\";\n  var match$1 = affiliation === \"\";\n  var text = match ? match$1 ? undefined : affiliation : match$1 ? title : title + (\", \" + affiliation);\n\n  if (text !== undefined) {\n    return React.createElement(\"div\", {\n      className: \"flex items-center\"\n    }, React.createElement(\"div\", {\n      className: \"mr-1 text-xs text-gray-600\"\n    }, text));\n  } else {\n    return null;\n  }\n}\n\nfunction initialState(param) {\n  return {\n    studentsToAdd: [],\n    saving: false\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.tag | 0) {\n    case\n    /* AddStudentInfo */\n    0:\n      return {\n        studentsToAdd: $$Array.append([action[0]], state.studentsToAdd),\n        saving: state.saving\n      };\n\n    case\n    /* RemoveStudentInfo */\n    1:\n      var studentInfo = action[0];\n      return {\n        studentsToAdd: state.studentsToAdd.filter(function (s) {\n          return StudentsEditor__StudentInfo.email(s) !== StudentsEditor__StudentInfo.email(studentInfo);\n        }),\n        saving: state.saving\n      };\n\n    case\n    /* SetSaving */\n    2:\n      return {\n        studentsToAdd: state.studentsToAdd,\n        saving: action[0]\n      };\n  }\n}\n\nfunction studentCard(studentInfo, send) {\n  return React.createElement(\"div\", {\n    key: StudentsEditor__StudentInfo.email(studentInfo),\n    className: \"flex justify-between\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-col flex-1 flex-wrap p-3\"\n  }, React.createElement(\"div\", {\n    className: \"flex items-center\"\n  }, React.createElement(\"div\", {\n    className: \"mr-1 font-semibold\"\n  }, StudentsEditor__StudentInfo.name(studentInfo)), React.createElement(\"div\", {\n    className: \"text-xs text-gray-600\"\n  }, \" (\" + (StudentsEditor__StudentInfo.email(studentInfo) + \")\"))), renderTitleAndAffiliation(StudentsEditor__StudentInfo.title(studentInfo), StudentsEditor__StudentInfo.affiliation(studentInfo)), React.createElement(\"div\", {\n    className: \"flex flex-wrap\"\n  }, $$Array.map(function (tag) {\n    return React.createElement(\"div\", {\n      key: tag,\n      className: \"flex items-center bg-gray-200 border border-gray-500 rounded-lg px-2 py-px mt-1 mr-1 text-xs text-gray-900 overflow-hidden\"\n    }, tag);\n  }, StudentsEditor__StudentInfo.tags(studentInfo)))), React.createElement(\"button\", {\n    className: \"p-3 text-gray-700 hover:text-gray-900 hover:bg-gray-100\",\n    onClick: function onClick(_event) {\n      return Curry._1(send,\n      /* RemoveStudentInfo */\n      Block.__(1, [studentInfo]));\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\"\n  })));\n}\n\nfunction teamNames(studentsToAdd) {\n  return ArrayUtils.distinct($$Array.map(StudentsEditor__StudentInfo.teamName, studentsToAdd).filter(function (teamName) {\n    return OptionUtils.mapWithDefault(function (param) {\n      return true;\n    }, false, teamName);\n  }));\n}\n\nfunction findStudentsInTeam(teamName, studentsToAdd) {\n  return studentsToAdd.filter(function (s) {\n    return Caml_obj.caml_equal(StudentsEditor__StudentInfo.teamName(s), teamName);\n  });\n}\n\nfunction loneStudents(studentsToAdd, send) {\n  var students = studentsToAdd.filter(function (s) {\n    return OptionUtils.mapWithDefault(function (param) {\n      return false;\n    }, true, StudentsEditor__StudentInfo.teamName(s));\n  });\n\n  if (ArrayUtils.isNotEmpty(students)) {\n    return React.createElement(\"div\", undefined, $$Array.map(function (studentInfo) {\n      return React.createElement(\"div\", {\n        className: \"bg-white-100 border shadow rounded-lg mt-2 px-2\"\n      }, studentCard(studentInfo, send));\n    }, students));\n  } else {\n    return null;\n  }\n}\n\nfunction StudentsEditor__CreateForm(Props) {\n  var courseId = Props.courseId;\n  var submitFormCB = Props.submitFormCB;\n  var studentTags = Props.studentTags;\n  var match = React.useReducer(reducer, {\n    studentsToAdd: [],\n    saving: false\n  });\n  var send = match[1];\n  var state = match[0];\n  var appliedTags$1 = appliedTags(state.studentsToAdd);\n  var studentInfos = state.studentsToAdd;\n  return React.createElement(\"div\", {\n    className: \"mx-auto bg-white\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl p-6 mx-auto\"\n  }, React.createElement(\"h5\", {\n    className: \"uppercase text-center border-b border-gray-400 pb-2 mb-4\"\n  }, \"User Details\"), React.createElement(StudentsEditor__StudentInfoForm.make, {\n    addToListCB: function addToListCB(studentInfo) {\n      return Curry._1(send,\n      /* AddStudentInfo */\n      Block.__(0, [studentInfo]));\n    },\n    studentTags: ArrayUtils.distinct($$Array.append(appliedTags$1, studentTags)),\n    emailsToAdd: $$Array.map(StudentsEditor__StudentInfo.email, state.studentsToAdd)\n  }), React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"div\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\"\n  }, \"These new users will be added to the course:\"), studentInfos.length !== 0 ? $$Array.append([loneStudents(studentInfos, send)], $$Array.map(function (teamName) {\n    var studentsInTeam = findStudentsInTeam(teamName, studentInfos);\n    return React.createElement(\"div\", {\n      className: \"mt-3\"\n    }, teamHeader(teamName, studentsInTeam.length), React.createElement(\"div\", {\n      className: \"bg-white-100 border shadow rounded-lg\"\n    }, $$Array.map(function (studentInfo) {\n      return studentCard(studentInfo, send);\n    }, studentsInTeam)));\n  }, teamNames(studentInfos))) : React.createElement(\"div\", {\n    className: \"flex items-center justify-between bg-gray-100 border rounded p-3 italic mt-2\"\n  }, \"This list is empty! Add some students using the form above.\"))), React.createElement(\"div\", {\n    className: \"flex mt-4\"\n  }, React.createElement(\"button\", {\n    className: \"w-full btn btn-primary btn-large mt-3\" + (ArrayUtils.isEmpty(state.studentsToAdd) ? \" disabled\" : \"\"),\n    disabled: state.saving || ArrayUtils.isEmpty(state.studentsToAdd),\n    onClick: function onClick(param) {\n      return saveStudents(state, send, courseId, function (param) {\n        return handleResponseCB(submitFormCB, state, param);\n      }, param);\n    }\n  }, state.saving ? \"Saving...\" : \"Save List\"))));\n}\n\nvar make = StudentsEditor__CreateForm;\nexports.str = str;\nexports.formInvalid = formInvalid;\nexports.handleErrorCB = handleErrorCB;\nexports.appliedTags = appliedTags;\nexports.allKnownTags = allKnownTags;\nexports.handleResponseCB = handleResponseCB;\nexports.saveStudents = saveStudents;\nexports.teamHeader = teamHeader;\nexports.renderTitleAndAffiliation = renderTitleAndAffiliation;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.studentCard = studentCard;\nexports.teamNames = teamNames;\nexports.findStudentsInTeam = findStudentsInTeam;\nexports.loneStudents = loneStudents;\nexports.make = make;\n/* Api Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/students_editor/StudentsEditor__CreateForm.bs.js"],"names":["Api","require","List","$$Array","Block","Curry","React","Caml_obj","ListUtils","ArrayUtils","Json_decode","Json_encode","OptionUtils","$$Notification","AuthenticityToken","StudentsEditor__StudentInfo","StudentsEditor__StudentInfoForm","str","prim","formInvalid","state","isEmpty","studentsToAdd","handleErrorCB","send","param","_1","__","appliedTags","students","of_list","distinct","flatten","to_list","map","student","tags","allKnownTags","incomingTags","append","handleResponseCB","submitCB","json","match","field","pair","$$int","studentsRequested","studentsAdded","success","message","String","notice","saveStudents","courseId","responseCB","$$event","preventDefault","payload","fromHead","array","encode","url","create","teamHeader","teamName","studentsCount","createElement","className","mapWithDefault","undefined","renderTitleAndAffiliation","title","affiliation","match$1","text","initialState","saving","reducer","action","tag","studentInfo","filter","s","email","studentCard","key","name","onClick","_event","teamNames","findStudentsInTeam","caml_equal","loneStudents","isNotEmpty","StudentsEditor__CreateForm","Props","submitFormCB","studentTags","useReducer","appliedTags$1","studentInfos","make","addToListCB","emailsToAdd","length","studentsInTeam","disabled","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\nvar StudentsEditor__StudentInfo = require(\"../../types/students_editor/StudentsEditor__StudentInfo.bs.js\");\nvar StudentsEditor__StudentInfoForm = require(\"./StudentsEditor__StudentInfoForm.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction formInvalid(state) {\n  return ArrayUtils.isEmpty(state.studentsToAdd);\n}\n\nfunction handleErrorCB(send, param) {\n  return Curry._1(send, /* SetSaving */Block.__(2, [false]));\n}\n\nfunction appliedTags(students) {\n  return $$Array.of_list(ListUtils.distinct(List.flatten($$Array.to_list($$Array.map((function (student) {\n                                return $$Array.to_list(StudentsEditor__StudentInfo.tags(student));\n                              }), students)))));\n}\n\nfunction allKnownTags(incomingTags, appliedTags) {\n  return ArrayUtils.distinct($$Array.append(appliedTags, incomingTags));\n}\n\nfunction handleResponseCB(submitCB, state, json) {\n  var match = Json_decode.field(\"studentCount\", (function (param) {\n          return Json_decode.pair(Json_decode.$$int, Json_decode.$$int, param);\n        }), json);\n  var studentsRequested = match[1];\n  var studentsAdded = match[0];\n  var tags = appliedTags(state.studentsToAdd);\n  Curry._1(submitCB, tags);\n  if (studentsAdded === studentsRequested) {\n    return $$Notification.success(\"Success\", \"All students were created successfully.\");\n  } else {\n    var message = String(studentsAdded) + (\" of \" + (String(studentsRequested) + \" students were added. Remaining students are already a part of the course.\"));\n    return $$Notification.notice(\"Partially successful\", message);\n  }\n}\n\nfunction saveStudents(state, send, courseId, responseCB, $$event) {\n  $$event.preventDefault();\n  Curry._1(send, /* SetSaving */Block.__(2, [true]));\n  var payload = { };\n  payload[\"authenticity_token\"] = AuthenticityToken.fromHead(/* () */0);\n  payload[\"students\"] = Json_encode.array(StudentsEditor__StudentInfo.encode, state.studentsToAdd);\n  var url = \"/school/courses/\" + (courseId + \"/students\");\n  return Api.create(url, payload, responseCB, (function (param) {\n                return Curry._1(send, /* SetSaving */Block.__(2, [false]));\n              }));\n}\n\nfunction teamHeader(teamName, studentsCount) {\n  return React.createElement(\"div\", {\n              className: \"flex justify-between mb-1\"\n            }, React.createElement(\"span\", {\n                  className: \"text-tiny font-semibold\"\n                }, OptionUtils.mapWithDefault((function (teamName) {\n                        return React.createElement(\"span\", undefined, \"TEAM: \" + teamName);\n                      }), null, teamName)), studentsCount > 1 ? null : React.createElement(\"span\", {\n                    className: \"text-tiny\"\n                  }, React.createElement(\"i\", {\n                        className: \"fas fa-exclamation-triangle text-orange-600 mr-1\"\n                      }), \"Add more team members!\"));\n}\n\nfunction renderTitleAndAffiliation(title, affiliation) {\n  var match = title === \"\";\n  var match$1 = affiliation === \"\";\n  var text = match ? (\n      match$1 ? undefined : affiliation\n    ) : (\n      match$1 ? title : title + (\", \" + affiliation)\n    );\n  if (text !== undefined) {\n    return React.createElement(\"div\", {\n                className: \"flex items-center\"\n              }, React.createElement(\"div\", {\n                    className: \"mr-1 text-xs text-gray-600\"\n                  }, text));\n  } else {\n    return null;\n  }\n}\n\nfunction initialState(param) {\n  return {\n          studentsToAdd: [],\n          saving: false\n        };\n}\n\nfunction reducer(state, action) {\n  switch (action.tag | 0) {\n    case /* AddStudentInfo */0 :\n        return {\n                studentsToAdd: $$Array.append([action[0]], state.studentsToAdd),\n                saving: state.saving\n              };\n    case /* RemoveStudentInfo */1 :\n        var studentInfo = action[0];\n        return {\n                studentsToAdd: state.studentsToAdd.filter((function (s) {\n                        return StudentsEditor__StudentInfo.email(s) !== StudentsEditor__StudentInfo.email(studentInfo);\n                      })),\n                saving: state.saving\n              };\n    case /* SetSaving */2 :\n        return {\n                studentsToAdd: state.studentsToAdd,\n                saving: action[0]\n              };\n    \n  }\n}\n\nfunction studentCard(studentInfo, send) {\n  return React.createElement(\"div\", {\n              key: StudentsEditor__StudentInfo.email(studentInfo),\n              className: \"flex justify-between\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-col flex-1 flex-wrap p-3\"\n                }, React.createElement(\"div\", {\n                      className: \"flex items-center\"\n                    }, React.createElement(\"div\", {\n                          className: \"mr-1 font-semibold\"\n                        }, StudentsEditor__StudentInfo.name(studentInfo)), React.createElement(\"div\", {\n                          className: \"text-xs text-gray-600\"\n                        }, \" (\" + (StudentsEditor__StudentInfo.email(studentInfo) + \")\"))), renderTitleAndAffiliation(StudentsEditor__StudentInfo.title(studentInfo), StudentsEditor__StudentInfo.affiliation(studentInfo)), React.createElement(\"div\", {\n                      className: \"flex flex-wrap\"\n                    }, $$Array.map((function (tag) {\n                            return React.createElement(\"div\", {\n                                        key: tag,\n                                        className: \"flex items-center bg-gray-200 border border-gray-500 rounded-lg px-2 py-px mt-1 mr-1 text-xs text-gray-900 overflow-hidden\"\n                                      }, tag);\n                          }), StudentsEditor__StudentInfo.tags(studentInfo)))), React.createElement(\"button\", {\n                  className: \"p-3 text-gray-700 hover:text-gray-900 hover:bg-gray-100\",\n                  onClick: (function (_event) {\n                      return Curry._1(send, /* RemoveStudentInfo */Block.__(1, [studentInfo]));\n                    })\n                }, React.createElement(\"i\", {\n                      className: \"fas fa-trash-alt\"\n                    })));\n}\n\nfunction teamNames(studentsToAdd) {\n  return ArrayUtils.distinct($$Array.map(StudentsEditor__StudentInfo.teamName, studentsToAdd).filter((function (teamName) {\n                    return OptionUtils.mapWithDefault((function (param) {\n                                  return true;\n                                }), false, teamName);\n                  })));\n}\n\nfunction findStudentsInTeam(teamName, studentsToAdd) {\n  return studentsToAdd.filter((function (s) {\n                return Caml_obj.caml_equal(StudentsEditor__StudentInfo.teamName(s), teamName);\n              }));\n}\n\nfunction loneStudents(studentsToAdd, send) {\n  var students = studentsToAdd.filter((function (s) {\n          return OptionUtils.mapWithDefault((function (param) {\n                        return false;\n                      }), true, StudentsEditor__StudentInfo.teamName(s));\n        }));\n  if (ArrayUtils.isNotEmpty(students)) {\n    return React.createElement(\"div\", undefined, $$Array.map((function (studentInfo) {\n                      return React.createElement(\"div\", {\n                                  className: \"bg-white-100 border shadow rounded-lg mt-2 px-2\"\n                                }, studentCard(studentInfo, send));\n                    }), students));\n  } else {\n    return null;\n  }\n}\n\nfunction StudentsEditor__CreateForm(Props) {\n  var courseId = Props.courseId;\n  var submitFormCB = Props.submitFormCB;\n  var studentTags = Props.studentTags;\n  var match = React.useReducer(reducer, {\n        studentsToAdd: [],\n        saving: false\n      });\n  var send = match[1];\n  var state = match[0];\n  var appliedTags$1 = appliedTags(state.studentsToAdd);\n  var studentInfos = state.studentsToAdd;\n  return React.createElement(\"div\", {\n              className: \"mx-auto bg-white\"\n            }, React.createElement(\"div\", {\n                  className: \"max-w-2xl p-6 mx-auto\"\n                }, React.createElement(\"h5\", {\n                      className: \"uppercase text-center border-b border-gray-400 pb-2 mb-4\"\n                    }, \"User Details\"), React.createElement(StudentsEditor__StudentInfoForm.make, {\n                      addToListCB: (function (studentInfo) {\n                          return Curry._1(send, /* AddStudentInfo */Block.__(0, [studentInfo]));\n                        }),\n                      studentTags: ArrayUtils.distinct($$Array.append(appliedTags$1, studentTags)),\n                      emailsToAdd: $$Array.map(StudentsEditor__StudentInfo.email, state.studentsToAdd)\n                    }), React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                          className: \"mt-5\"\n                        }, React.createElement(\"div\", {\n                              className: \"inline-block tracking-wide text-xs font-semibold\"\n                            }, \"These new users will be added to the course:\"), studentInfos.length !== 0 ? $$Array.append([loneStudents(studentInfos, send)], $$Array.map((function (teamName) {\n                                      var studentsInTeam = findStudentsInTeam(teamName, studentInfos);\n                                      return React.createElement(\"div\", {\n                                                  className: \"mt-3\"\n                                                }, teamHeader(teamName, studentsInTeam.length), React.createElement(\"div\", {\n                                                      className: \"bg-white-100 border shadow rounded-lg\"\n                                                    }, $$Array.map((function (studentInfo) {\n                                                            return studentCard(studentInfo, send);\n                                                          }), studentsInTeam)));\n                                    }), teamNames(studentInfos))) : React.createElement(\"div\", {\n                                className: \"flex items-center justify-between bg-gray-100 border rounded p-3 italic mt-2\"\n                              }, \"This list is empty! Add some students using the form above.\"))), React.createElement(\"div\", {\n                      className: \"flex mt-4\"\n                    }, React.createElement(\"button\", {\n                          className: \"w-full btn btn-primary btn-large mt-3\" + (\n                            ArrayUtils.isEmpty(state.studentsToAdd) ? \" disabled\" : \"\"\n                          ),\n                          disabled: state.saving || ArrayUtils.isEmpty(state.studentsToAdd),\n                          onClick: (function (param) {\n                              return saveStudents(state, send, courseId, (function (param) {\n                                            return handleResponseCB(submitFormCB, state, param);\n                                          }), param);\n                            })\n                        }, state.saving ? \"Saving...\" : \"Save List\"))));\n}\n\nvar make = StudentsEditor__CreateForm;\n\nexports.str = str;\nexports.formInvalid = formInvalid;\nexports.handleErrorCB = handleErrorCB;\nexports.appliedTags = appliedTags;\nexports.allKnownTags = allKnownTags;\nexports.handleResponseCB = handleResponseCB;\nexports.saveStudents = saveStudents;\nexports.teamHeader = teamHeader;\nexports.renderTitleAndAffiliation = renderTitleAndAffiliation;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.studentCard = studentCard;\nexports.teamNames = teamNames;\nexports.findStudentsInTeam = findStudentsInTeam;\nexports.loneStudents = loneStudents;\nexports.make = make;\n/* Api Not a pure module */\n"]},"metadata":{},"sourceType":"module"}