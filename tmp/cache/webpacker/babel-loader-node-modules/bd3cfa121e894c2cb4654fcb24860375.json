{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Avatar = require(\"../../../shared/Avatar.bs.js\");\n\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar UsersHome__Course = require(\"../types/UsersHome__Course.bs.js\");\n\nvar UsersHome__Community = require(\"../types/UsersHome__Community.bs.js\");\n\nvar UsersHome__IssuedCertificate = require(\"../types/UsersHome__IssuedCertificate.bs.js\");\n\nrequire(\"courses/shared/background_patterns.css\");\n\nrequire(\"./UserHome__Root.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction headerSectiom(userName, userTitle, avatarUrl, showUserEdit) {\n  return React.createElement(\"div\", {\n    className: \"max-w-4xl mx-auto pt-12 flex items-center justify-between px-3 lg:px-0\"\n  }, React.createElement(\"div\", {\n    className: \"flex\"\n  }, avatarUrl !== undefined ? React.createElement(\"img\", {\n    className: \"w-16 h-16 rounded-full border object-cover border-gray-400 rounded-full overflow-hidden flex-shrink-0 mr-4\",\n    src: avatarUrl\n  }) : React.createElement(Avatar.make, {\n    name: userName,\n    className: \"w-16 h-16 mr-4 border border-gray-400 rounded-full overflow-hidden flex-shrink-0\"\n  }), React.createElement(\"div\", {\n    className: \"text-sm flex flex-col justify-center\"\n  }, React.createElement(\"div\", {\n    className: \"text-black font-bold inline-block\"\n  }, userName), React.createElement(\"div\", {\n    className: \"text-gray-600 inline-block\"\n  }, userTitle))), showUserEdit ? React.createElement(\"a\", {\n    className: \"btn\",\n    href: \"/user/edit\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-edit text-xs md:text-sm mr-2\"\n  }), React.createElement(\"span\", undefined, \"Edit Profile\")) : null);\n}\n\nfunction navButtonClasses(selected) {\n  return \"font-semibold border-b-2 border-transparent text-sm py-4 mr-6 focus:outline-none \" + (selected ? \"text-primary-500 border-primary-500\" : \"\");\n}\n\nfunction navSection(view, setView, communities, issuedCertificates) {\n  return React.createElement(\"div\", {\n    className: \"border-b mt-6\"\n  }, React.createElement(\"div\", {\n    className: \"flex max-w-4xl mx-auto px-3 lg:px-0\"\n  }, React.createElement(\"button\", {\n    className: navButtonClasses(view ===\n    /* ShowCourses */\n    0),\n    onClick: function onClick(param) {\n      return Curry._1(setView, function (param) {\n        return (\n          /* ShowCourses */\n          0\n        );\n      });\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-book text-xs md:text-sm mr-2\"\n  }), React.createElement(\"span\", undefined, \"My Courses\")), ArrayUtils.isNotEmpty(communities) ? React.createElement(\"button\", {\n    className: navButtonClasses(view ===\n    /* ShowCommunities */\n    1),\n    onClick: function onClick(param) {\n      return Curry._1(setView, function (param) {\n        return (\n          /* ShowCommunities */\n          1\n        );\n      });\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-users text-xs md:text-sm mr-2\"\n  }), React.createElement(\"span\", undefined, \"Communities\")) : null, ArrayUtils.isNotEmpty(issuedCertificates) ? React.createElement(\"button\", {\n    className: navButtonClasses(view ===\n    /* ShowCertificates */\n    2),\n    onClick: function onClick(param) {\n      return Curry._1(setView, function (param) {\n        return (\n          /* ShowCertificates */\n          2\n        );\n      });\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-certificate text-xs md:text-sm mr-2\"\n  }), React.createElement(\"span\", undefined, \"Certificates\")) : null));\n}\n\nfunction courseLink(href, title, icon) {\n  return React.createElement(\"a\", {\n    key: href,\n    className: \"px-2 py-1 mr-2 mt-2 rounded text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-primary-500\",\n    href: href\n  }, React.createElement(\"i\", {\n    className: icon\n  }), React.createElement(\"span\", {\n    className: \"font-semibold ml-2\"\n  }, title));\n}\n\nfunction ctaButton(title, href) {\n  return React.createElement(\"a\", {\n    className: \"w-full bg-gray-200 mt-4 px-6 py-4 flex text-sm font-semibold justify-between items-center cursor-pointer text-primary-500 hover:bg-gray-300\",\n    href: href\n  }, React.createElement(\"span\", undefined, React.createElement(\"i\", {\n    className: \"fas fa-book\"\n  }), React.createElement(\"span\", {\n    className: \"ml-2\"\n  }, title)), React.createElement(\"i\", {\n    className: \"fas fa-arrow-right\"\n  }));\n}\n\nfunction ctaText(message, icon) {\n  return React.createElement(\"div\", {\n    className: \"w-full bg-red-100 text-red-600 mt-4 px-6 py-4 flex text-sm font-semibold justify-center items-center \"\n  }, React.createElement(\"span\", undefined, React.createElement(\"i\", {\n    className: icon\n  }), React.createElement(\"span\", {\n    className: \"ml-2\"\n  }, message)));\n}\n\nfunction studentLink(courseId, suffix) {\n  return \"/courses/\" + (courseId + (\"/\" + suffix));\n}\n\nfunction callToAction(course, currentSchoolAdmin) {\n  if (currentSchoolAdmin) {\n    return (\n      /* ViewCourse */\n      75103552\n    );\n  } else if (UsersHome__Course.author(course)) {\n    return (\n      /* EditCourse */\n      148528805\n    );\n  } else if (UsersHome__Course.review(course)) {\n    return (\n      /* ReviewSubmissions */\n      -313716913\n    );\n  } else if (UsersHome__Course.exited(course)) {\n    return (\n      /* DroppedOut */\n      861059214\n    );\n  } else if (UsersHome__Course.ended(course)) {\n    return (\n      /* CourseEnded */\n      253976063\n    );\n  } else {\n    return (\n      /* ViewCourse */\n      75103552\n    );\n  }\n}\n\nfunction ctaFooter(course, currentSchoolAdmin) {\n  var courseId = UsersHome__Course.id(course);\n  var match = callToAction(course, currentSchoolAdmin);\n\n  if (match !== 75103552) {\n    if (match >= 253976063) {\n      if (match >= 861059214) {\n        return ctaText(\"Dropped out\", \"fas fa-user-slash\");\n      } else {\n        return ctaText(\"Course Ended\", \"fas fa-history\");\n      }\n    } else if (match >= 148528805) {\n      return ctaButton(\"Edit Curriculum\", \"/school/courses/\" + (courseId + \"/curriculum\"));\n    } else {\n      return ctaButton(\"Review Submissions\", studentLink(courseId, \"review\"));\n    }\n  } else {\n    return ctaButton(\"View Course\", studentLink(courseId, \"curriculum\"));\n  }\n}\n\nfunction communityLinks(communityIds, communities) {\n  return $$Array.map(function (id) {\n    var community = communities.find(function (c) {\n      return UsersHome__Community.id(c) === id;\n    });\n\n    if (community !== undefined) {\n      return React.createElement(\"a\", {\n        key: UsersHome__Community.id(community),\n        className: \"px-2 py-1 mr-2 mt-2 rounded text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-primary-500\",\n        href: UsersHome__Community.path(community)\n      }, React.createElement(\"i\", {\n        className: \"fas fa-users\"\n      }), React.createElement(\"span\", {\n        className: \"font-semibold ml-2\"\n      }, UsersHome__Community.name(community)));\n    } else {\n      return null;\n    }\n  }, communityIds);\n}\n\nfunction courseLinks(course, currentSchoolAdmin, communities) {\n  var courseId = UsersHome__Course.id(course);\n  var cta = callToAction(course, currentSchoolAdmin);\n  return React.createElement(\"div\", {\n    className: \"flex flex-wrap px-4 mt-2\"\n  }, UsersHome__Course.author(course) && cta !==\n  /* EditCourse */\n  148528805 ? courseLink(\"/school/courses/\" + (courseId + \"/curriculum\"), \"Edit Curriculum\", \"fas fa-check-square\") : null, cta !==\n  /* ViewCourse */\n  75103552 ? courseLink(studentLink(courseId, \"curriculum\"), \"View Curriculum\", \"fas fa-book\") : null, UsersHome__Course.enableLeaderboard(course) ? courseLink(studentLink(courseId, \"leaderboard\"), \"Leaderboard\", \"fas fa-calendar-alt\") : null, UsersHome__Course.review(course) && cta !==\n  /* ReviewSubmissions */\n  -313716913 ? courseLink(studentLink(courseId, \"review\"), \"Review Submissions\", \"fas fa-check-square\") : null, UsersHome__Course.review(course) ? courseLink(studentLink(courseId, \"students\"), \"My Students\", \"fas fa-user-friends\") : null, communityLinks(UsersHome__Course.linkedCommunities(course), communities));\n}\n\nfunction coursesSection(courses, communities, currentSchoolAdmin) {\n  return React.createElement(\"div\", {\n    className: \"w-full max-w-4xl mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-wrap flex-1 lg:-mx-5\"\n  }, $$Array.map(function (course) {\n    var match = UsersHome__Course.thumbnailUrl(course);\n    return React.createElement(\"div\", {\n      key: UsersHome__Course.id(course),\n      \"aria-label\": UsersHome__Course.name(course),\n      className: \"w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n    }, React.createElement(\"div\", {\n      key: UsersHome__Course.id(course),\n      className: \"flex overflow-hidden shadow bg-white rounded-lg flex flex-col justify-between h-full\"\n    }, React.createElement(\"div\", undefined, React.createElement(\"div\", {\n      className: \"relative\"\n    }, React.createElement(\"div\", {\n      className: \"relative pb-1/2 bg-gray-800\"\n    }, match !== undefined ? React.createElement(\"img\", {\n      className: \"absolute h-full w-full object-cover\",\n      src: match\n    }) : React.createElement(\"div\", {\n      className: \"user-home-course__cover absolute h-full w-full svg-bg-pattern-1\"\n    })), React.createElement(\"div\", {\n      key: UsersHome__Course.id(course),\n      className: \"user-home-course__title-container absolute w-full flex items-center h-16 bottom-0 z-50\"\n    }, React.createElement(\"h4\", {\n      className: \"user-home-course__title text-white font-semibold leading-tight pl-6 pr-4 text-lg md:text-xl\"\n    }, UsersHome__Course.name(course)))), React.createElement(\"div\", {\n      className: \"user-home-course__description text-sm px-6 pt-4 w-full leading-relaxed\"\n    }, UsersHome__Course.description(course)), UsersHome__Course.exited(course) ? React.createElement(\"div\", {\n      className: \"text-sm py-4 bg-red-100 rounded mt-2 px-6\"\n    }, \"Your student profile for this course is locked, and cannot be updated.\") : React.createElement(\"div\", undefined, courseLinks(course, currentSchoolAdmin, communities))), React.createElement(\"div\", undefined, ctaFooter(course, currentSchoolAdmin))));\n  }, courses)));\n}\n\nfunction communitiesSection(communities) {\n  return React.createElement(\"div\", {\n    className: \"w-full max-w-4xl mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-wrap flex-1 lg:-mx-5\"\n  }, $$Array.map(function (community) {\n    return React.createElement(\"div\", {\n      key: UsersHome__Community.id(community),\n      className: \"flex w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n    }, React.createElement(\"a\", {\n      className: \"w-full h-full shadow rounded-lg hover:shadow-lg\",\n      href: UsersHome__Community.path(community)\n    }, React.createElement(\"div\", {\n      className: \"user-home-community__cover flex w-full bg-gray-600 h-40 svg-bg-pattern-5 items-center justify-center p-4 shadow rounded-t-lg\"\n    }), React.createElement(\"div\", {\n      className: \"w-full flex justify-between items-center flex-wrap px-4 pt-2 pb-4\"\n    }, React.createElement(\"h4\", {\n      className: \"font-bold text-sm pt-2 leading-tight\"\n    }, UsersHome__Community.name(community)), React.createElement(\"div\", {\n      className: \"btn btn-small btn-primary-ghost mt-2\"\n    }, \"Visit Community\"))));\n  }, communities)));\n}\n\nfunction certificatesSection(issuedCertificates) {\n  return React.createElement(\"div\", {\n    className: \"w-full max-w-4xl mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-wrap flex-1 lg:-mx-5\"\n  }, $$Array.map(function (issuedCertificate) {\n    return React.createElement(\"div\", {\n      key: UsersHome__IssuedCertificate.id(issuedCertificate),\n      className: \"flex w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n    }, React.createElement(\"a\", {\n      className: \"w-full h-full shadow rounded-lg hover:shadow-lg\",\n      href: \"/c/\" + UsersHome__IssuedCertificate.serialNumber(issuedCertificate)\n    }, React.createElement(\"div\", {\n      className: \"user-home-community__cover flex w-full bg-gray-600 h-40 svg-bg-pattern-5 items-center justify-center p-4 shadow rounded-t-lg\"\n    }), React.createElement(\"div\", {\n      className: \"w-full flex justify-between items-center flex-wrap px-4 pt-2 pb-4\"\n    }, React.createElement(\"div\", undefined, React.createElement(\"h4\", {\n      className: \"font-bold text-sm pt-2 leading-tight\"\n    }, UsersHome__IssuedCertificate.courseName(issuedCertificate)), React.createElement(\"div\", {\n      className: \"text-xs\"\n    }, React.createElement(\"span\", undefined, \"Issued on:\"), React.createElement(\"span\", {\n      className: \"ml-1\"\n    }, DateFns.formatPreset(UsersHome__IssuedCertificate.createdAt(issuedCertificate), true, true, undefined,\n    /* () */\n    0)))), React.createElement(\"div\", {\n      className: \"btn btn-small btn-primary-ghost mt-2\"\n    }, \"View Certificate\"))));\n  }, issuedCertificates)));\n}\n\nfunction UsersHome__Root(Props) {\n  var currentSchoolAdmin = Props.currentSchoolAdmin;\n  var courses = Props.courses;\n  var communities = Props.communities;\n  var showUserEdit = Props.showUserEdit;\n  var userName = Props.userName;\n  var userTitle = Props.userTitle;\n  var avatarUrl = Props.avatarUrl;\n  var issuedCertificates = Props.issuedCertificates;\n  var match = React.useState(function () {\n    return (\n      /* ShowCourses */\n      0\n    );\n  });\n  var view = match[0];\n  var tmp;\n\n  switch (view) {\n    case\n    /* ShowCourses */\n    0:\n      tmp = coursesSection(courses, communities, currentSchoolAdmin);\n      break;\n\n    case\n    /* ShowCommunities */\n    1:\n      tmp = communitiesSection(communities);\n      break;\n\n    case\n    /* ShowCertificates */\n    2:\n      tmp = certificatesSection(issuedCertificates);\n      break;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"bg-gray-100\"\n  }, React.createElement(\"div\", {\n    className: \"bg-white\"\n  }, headerSectiom(userName, userTitle, avatarUrl, showUserEdit), navSection(view, match[1], communities, issuedCertificates)), React.createElement(\"div\", {\n    className: \"pb-8\"\n  }, tmp));\n}\n\nvar make = UsersHome__Root;\nexports.str = str;\nexports.headerSectiom = headerSectiom;\nexports.navButtonClasses = navButtonClasses;\nexports.navSection = navSection;\nexports.courseLink = courseLink;\nexports.ctaButton = ctaButton;\nexports.ctaText = ctaText;\nexports.studentLink = studentLink;\nexports.callToAction = callToAction;\nexports.ctaFooter = ctaFooter;\nexports.communityLinks = communityLinks;\nexports.courseLinks = courseLinks;\nexports.coursesSection = coursesSection;\nexports.communitiesSection = communitiesSection;\nexports.certificatesSection = certificatesSection;\nexports.make = make;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/users/home/components/UsersHome__Root.bs.js"],"names":["$$Array","require","Curry","React","Avatar","DateFns","ArrayUtils","UsersHome__Course","UsersHome__Community","UsersHome__IssuedCertificate","str","prim","headerSectiom","userName","userTitle","avatarUrl","showUserEdit","createElement","className","undefined","src","make","name","href","navButtonClasses","selected","navSection","view","setView","communities","issuedCertificates","onClick","param","_1","isNotEmpty","courseLink","title","icon","key","ctaButton","ctaText","message","studentLink","courseId","suffix","callToAction","course","currentSchoolAdmin","author","review","exited","ended","ctaFooter","id","match","communityLinks","communityIds","map","community","find","c","path","courseLinks","cta","enableLeaderboard","linkedCommunities","coursesSection","courses","thumbnailUrl","description","communitiesSection","certificatesSection","issuedCertificate","serialNumber","courseName","formatPreset","createdAt","UsersHome__Root","Props","useState","tmp","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Avatar = require(\"../../../shared/Avatar.bs.js\");\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar UsersHome__Course = require(\"../types/UsersHome__Course.bs.js\");\nvar UsersHome__Community = require(\"../types/UsersHome__Community.bs.js\");\nvar UsersHome__IssuedCertificate = require(\"../types/UsersHome__IssuedCertificate.bs.js\");\n\n((require(\"courses/shared/background_patterns.css\")));\n\n((require(\"./UserHome__Root.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction headerSectiom(userName, userTitle, avatarUrl, showUserEdit) {\n  return React.createElement(\"div\", {\n              className: \"max-w-4xl mx-auto pt-12 flex items-center justify-between px-3 lg:px-0\"\n            }, React.createElement(\"div\", {\n                  className: \"flex\"\n                }, avatarUrl !== undefined ? React.createElement(\"img\", {\n                        className: \"w-16 h-16 rounded-full border object-cover border-gray-400 rounded-full overflow-hidden flex-shrink-0 mr-4\",\n                        src: avatarUrl\n                      }) : React.createElement(Avatar.make, {\n                        name: userName,\n                        className: \"w-16 h-16 mr-4 border border-gray-400 rounded-full overflow-hidden flex-shrink-0\"\n                      }), React.createElement(\"div\", {\n                      className: \"text-sm flex flex-col justify-center\"\n                    }, React.createElement(\"div\", {\n                          className: \"text-black font-bold inline-block\"\n                        }, userName), React.createElement(\"div\", {\n                          className: \"text-gray-600 inline-block\"\n                        }, userTitle))), showUserEdit ? React.createElement(\"a\", {\n                    className: \"btn\",\n                    href: \"/user/edit\"\n                  }, React.createElement(\"i\", {\n                        className: \"fas fa-edit text-xs md:text-sm mr-2\"\n                      }), React.createElement(\"span\", undefined, \"Edit Profile\")) : null);\n}\n\nfunction navButtonClasses(selected) {\n  return \"font-semibold border-b-2 border-transparent text-sm py-4 mr-6 focus:outline-none \" + (\n          selected ? \"text-primary-500 border-primary-500\" : \"\"\n        );\n}\n\nfunction navSection(view, setView, communities, issuedCertificates) {\n  return React.createElement(\"div\", {\n              className: \"border-b mt-6\"\n            }, React.createElement(\"div\", {\n                  className: \"flex max-w-4xl mx-auto px-3 lg:px-0\"\n                }, React.createElement(\"button\", {\n                      className: navButtonClasses(view === /* ShowCourses */0),\n                      onClick: (function (param) {\n                          return Curry._1(setView, (function (param) {\n                                        return /* ShowCourses */0;\n                                      }));\n                        })\n                    }, React.createElement(\"i\", {\n                          className: \"fas fa-book text-xs md:text-sm mr-2\"\n                        }), React.createElement(\"span\", undefined, \"My Courses\")), ArrayUtils.isNotEmpty(communities) ? React.createElement(\"button\", {\n                        className: navButtonClasses(view === /* ShowCommunities */1),\n                        onClick: (function (param) {\n                            return Curry._1(setView, (function (param) {\n                                          return /* ShowCommunities */1;\n                                        }));\n                          })\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-users text-xs md:text-sm mr-2\"\n                          }), React.createElement(\"span\", undefined, \"Communities\")) : null, ArrayUtils.isNotEmpty(issuedCertificates) ? React.createElement(\"button\", {\n                        className: navButtonClasses(view === /* ShowCertificates */2),\n                        onClick: (function (param) {\n                            return Curry._1(setView, (function (param) {\n                                          return /* ShowCertificates */2;\n                                        }));\n                          })\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-certificate text-xs md:text-sm mr-2\"\n                          }), React.createElement(\"span\", undefined, \"Certificates\")) : null));\n}\n\nfunction courseLink(href, title, icon) {\n  return React.createElement(\"a\", {\n              key: href,\n              className: \"px-2 py-1 mr-2 mt-2 rounded text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-primary-500\",\n              href: href\n            }, React.createElement(\"i\", {\n                  className: icon\n                }), React.createElement(\"span\", {\n                  className: \"font-semibold ml-2\"\n                }, title));\n}\n\nfunction ctaButton(title, href) {\n  return React.createElement(\"a\", {\n              className: \"w-full bg-gray-200 mt-4 px-6 py-4 flex text-sm font-semibold justify-between items-center cursor-pointer text-primary-500 hover:bg-gray-300\",\n              href: href\n            }, React.createElement(\"span\", undefined, React.createElement(\"i\", {\n                      className: \"fas fa-book\"\n                    }), React.createElement(\"span\", {\n                      className: \"ml-2\"\n                    }, title)), React.createElement(\"i\", {\n                  className: \"fas fa-arrow-right\"\n                }));\n}\n\nfunction ctaText(message, icon) {\n  return React.createElement(\"div\", {\n              className: \"w-full bg-red-100 text-red-600 mt-4 px-6 py-4 flex text-sm font-semibold justify-center items-center \"\n            }, React.createElement(\"span\", undefined, React.createElement(\"i\", {\n                      className: icon\n                    }), React.createElement(\"span\", {\n                      className: \"ml-2\"\n                    }, message)));\n}\n\nfunction studentLink(courseId, suffix) {\n  return \"/courses/\" + (courseId + (\"/\" + suffix));\n}\n\nfunction callToAction(course, currentSchoolAdmin) {\n  if (currentSchoolAdmin) {\n    return /* ViewCourse */75103552;\n  } else if (UsersHome__Course.author(course)) {\n    return /* EditCourse */148528805;\n  } else if (UsersHome__Course.review(course)) {\n    return /* ReviewSubmissions */-313716913;\n  } else if (UsersHome__Course.exited(course)) {\n    return /* DroppedOut */861059214;\n  } else if (UsersHome__Course.ended(course)) {\n    return /* CourseEnded */253976063;\n  } else {\n    return /* ViewCourse */75103552;\n  }\n}\n\nfunction ctaFooter(course, currentSchoolAdmin) {\n  var courseId = UsersHome__Course.id(course);\n  var match = callToAction(course, currentSchoolAdmin);\n  if (match !== 75103552) {\n    if (match >= 253976063) {\n      if (match >= 861059214) {\n        return ctaText(\"Dropped out\", \"fas fa-user-slash\");\n      } else {\n        return ctaText(\"Course Ended\", \"fas fa-history\");\n      }\n    } else if (match >= 148528805) {\n      return ctaButton(\"Edit Curriculum\", \"/school/courses/\" + (courseId + \"/curriculum\"));\n    } else {\n      return ctaButton(\"Review Submissions\", studentLink(courseId, \"review\"));\n    }\n  } else {\n    return ctaButton(\"View Course\", studentLink(courseId, \"curriculum\"));\n  }\n}\n\nfunction communityLinks(communityIds, communities) {\n  return $$Array.map((function (id) {\n                var community = communities.find((function (c) {\n                        return UsersHome__Community.id(c) === id;\n                      }));\n                if (community !== undefined) {\n                  return React.createElement(\"a\", {\n                              key: UsersHome__Community.id(community),\n                              className: \"px-2 py-1 mr-2 mt-2 rounded text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-primary-500\",\n                              href: UsersHome__Community.path(community)\n                            }, React.createElement(\"i\", {\n                                  className: \"fas fa-users\"\n                                }), React.createElement(\"span\", {\n                                  className: \"font-semibold ml-2\"\n                                }, UsersHome__Community.name(community)));\n                } else {\n                  return null;\n                }\n              }), communityIds);\n}\n\nfunction courseLinks(course, currentSchoolAdmin, communities) {\n  var courseId = UsersHome__Course.id(course);\n  var cta = callToAction(course, currentSchoolAdmin);\n  return React.createElement(\"div\", {\n              className: \"flex flex-wrap px-4 mt-2\"\n            }, UsersHome__Course.author(course) && cta !== /* EditCourse */148528805 ? courseLink(\"/school/courses/\" + (courseId + \"/curriculum\"), \"Edit Curriculum\", \"fas fa-check-square\") : null, cta !== /* ViewCourse */75103552 ? courseLink(studentLink(courseId, \"curriculum\"), \"View Curriculum\", \"fas fa-book\") : null, UsersHome__Course.enableLeaderboard(course) ? courseLink(studentLink(courseId, \"leaderboard\"), \"Leaderboard\", \"fas fa-calendar-alt\") : null, UsersHome__Course.review(course) && cta !== /* ReviewSubmissions */-313716913 ? courseLink(studentLink(courseId, \"review\"), \"Review Submissions\", \"fas fa-check-square\") : null, UsersHome__Course.review(course) ? courseLink(studentLink(courseId, \"students\"), \"My Students\", \"fas fa-user-friends\") : null, communityLinks(UsersHome__Course.linkedCommunities(course), communities));\n}\n\nfunction coursesSection(courses, communities, currentSchoolAdmin) {\n  return React.createElement(\"div\", {\n              className: \"w-full max-w-4xl mx-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-wrap flex-1 lg:-mx-5\"\n                }, $$Array.map((function (course) {\n                        var match = UsersHome__Course.thumbnailUrl(course);\n                        return React.createElement(\"div\", {\n                                    key: UsersHome__Course.id(course),\n                                    \"aria-label\": UsersHome__Course.name(course),\n                                    className: \"w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n                                  }, React.createElement(\"div\", {\n                                        key: UsersHome__Course.id(course),\n                                        className: \"flex overflow-hidden shadow bg-white rounded-lg flex flex-col justify-between h-full\"\n                                      }, React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                                                className: \"relative\"\n                                              }, React.createElement(\"div\", {\n                                                    className: \"relative pb-1/2 bg-gray-800\"\n                                                  }, match !== undefined ? React.createElement(\"img\", {\n                                                          className: \"absolute h-full w-full object-cover\",\n                                                          src: match\n                                                        }) : React.createElement(\"div\", {\n                                                          className: \"user-home-course__cover absolute h-full w-full svg-bg-pattern-1\"\n                                                        })), React.createElement(\"div\", {\n                                                    key: UsersHome__Course.id(course),\n                                                    className: \"user-home-course__title-container absolute w-full flex items-center h-16 bottom-0 z-50\"\n                                                  }, React.createElement(\"h4\", {\n                                                        className: \"user-home-course__title text-white font-semibold leading-tight pl-6 pr-4 text-lg md:text-xl\"\n                                                      }, UsersHome__Course.name(course)))), React.createElement(\"div\", {\n                                                className: \"user-home-course__description text-sm px-6 pt-4 w-full leading-relaxed\"\n                                              }, UsersHome__Course.description(course)), UsersHome__Course.exited(course) ? React.createElement(\"div\", {\n                                                  className: \"text-sm py-4 bg-red-100 rounded mt-2 px-6\"\n                                                }, \"Your student profile for this course is locked, and cannot be updated.\") : React.createElement(\"div\", undefined, courseLinks(course, currentSchoolAdmin, communities))), React.createElement(\"div\", undefined, ctaFooter(course, currentSchoolAdmin))));\n                      }), courses)));\n}\n\nfunction communitiesSection(communities) {\n  return React.createElement(\"div\", {\n              className: \"w-full max-w-4xl mx-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-wrap flex-1 lg:-mx-5\"\n                }, $$Array.map((function (community) {\n                        return React.createElement(\"div\", {\n                                    key: UsersHome__Community.id(community),\n                                    className: \"flex w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n                                  }, React.createElement(\"a\", {\n                                        className: \"w-full h-full shadow rounded-lg hover:shadow-lg\",\n                                        href: UsersHome__Community.path(community)\n                                      }, React.createElement(\"div\", {\n                                            className: \"user-home-community__cover flex w-full bg-gray-600 h-40 svg-bg-pattern-5 items-center justify-center p-4 shadow rounded-t-lg\"\n                                          }), React.createElement(\"div\", {\n                                            className: \"w-full flex justify-between items-center flex-wrap px-4 pt-2 pb-4\"\n                                          }, React.createElement(\"h4\", {\n                                                className: \"font-bold text-sm pt-2 leading-tight\"\n                                              }, UsersHome__Community.name(community)), React.createElement(\"div\", {\n                                                className: \"btn btn-small btn-primary-ghost mt-2\"\n                                              }, \"Visit Community\"))));\n                      }), communities)));\n}\n\nfunction certificatesSection(issuedCertificates) {\n  return React.createElement(\"div\", {\n              className: \"w-full max-w-4xl mx-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-wrap flex-1 lg:-mx-5\"\n                }, $$Array.map((function (issuedCertificate) {\n                        return React.createElement(\"div\", {\n                                    key: UsersHome__IssuedCertificate.id(issuedCertificate),\n                                    className: \"flex w-full px-3 lg:px-5 md:w-1/2 mt-6 md:mt-10\"\n                                  }, React.createElement(\"a\", {\n                                        className: \"w-full h-full shadow rounded-lg hover:shadow-lg\",\n                                        href: \"/c/\" + UsersHome__IssuedCertificate.serialNumber(issuedCertificate)\n                                      }, React.createElement(\"div\", {\n                                            className: \"user-home-community__cover flex w-full bg-gray-600 h-40 svg-bg-pattern-5 items-center justify-center p-4 shadow rounded-t-lg\"\n                                          }), React.createElement(\"div\", {\n                                            className: \"w-full flex justify-between items-center flex-wrap px-4 pt-2 pb-4\"\n                                          }, React.createElement(\"div\", undefined, React.createElement(\"h4\", {\n                                                    className: \"font-bold text-sm pt-2 leading-tight\"\n                                                  }, UsersHome__IssuedCertificate.courseName(issuedCertificate)), React.createElement(\"div\", {\n                                                    className: \"text-xs\"\n                                                  }, React.createElement(\"span\", undefined, \"Issued on:\"), React.createElement(\"span\", {\n                                                        className: \"ml-1\"\n                                                      }, DateFns.formatPreset(UsersHome__IssuedCertificate.createdAt(issuedCertificate), true, true, undefined, /* () */0)))), React.createElement(\"div\", {\n                                                className: \"btn btn-small btn-primary-ghost mt-2\"\n                                              }, \"View Certificate\"))));\n                      }), issuedCertificates)));\n}\n\nfunction UsersHome__Root(Props) {\n  var currentSchoolAdmin = Props.currentSchoolAdmin;\n  var courses = Props.courses;\n  var communities = Props.communities;\n  var showUserEdit = Props.showUserEdit;\n  var userName = Props.userName;\n  var userTitle = Props.userTitle;\n  var avatarUrl = Props.avatarUrl;\n  var issuedCertificates = Props.issuedCertificates;\n  var match = React.useState((function () {\n          return /* ShowCourses */0;\n        }));\n  var view = match[0];\n  var tmp;\n  switch (view) {\n    case /* ShowCourses */0 :\n        tmp = coursesSection(courses, communities, currentSchoolAdmin);\n        break;\n    case /* ShowCommunities */1 :\n        tmp = communitiesSection(communities);\n        break;\n    case /* ShowCertificates */2 :\n        tmp = certificatesSection(issuedCertificates);\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: \"bg-gray-100\"\n            }, React.createElement(\"div\", {\n                  className: \"bg-white\"\n                }, headerSectiom(userName, userTitle, avatarUrl, showUserEdit), navSection(view, match[1], communities, issuedCertificates)), React.createElement(\"div\", {\n                  className: \"pb-8\"\n                }, tmp));\n}\n\nvar make = UsersHome__Root;\n\nexports.str = str;\nexports.headerSectiom = headerSectiom;\nexports.navButtonClasses = navButtonClasses;\nexports.navSection = navSection;\nexports.courseLink = courseLink;\nexports.ctaButton = ctaButton;\nexports.ctaText = ctaText;\nexports.studentLink = studentLink;\nexports.callToAction = callToAction;\nexports.ctaFooter = ctaFooter;\nexports.communityLinks = communityLinks;\nexports.courseLinks = courseLinks;\nexports.coursesSection = coursesSection;\nexports.communitiesSection = communitiesSection;\nexports.certificatesSection = certificatesSection;\nexports.make = make;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}