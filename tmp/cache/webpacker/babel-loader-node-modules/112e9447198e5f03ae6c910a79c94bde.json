{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar PfIcon = require(\"../../../../packages/pf-icon/src/PfIcon.bs.js\");\n\nvar $$String = require(\"bs-platform/lib/js/string.js\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar Dropdown = require(\"../../../../shared/components/Dropdown.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar TargetChecklistItem = require(\"../../types/curriculum_editor/TargetChecklistItem.bs.js\");\n\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction updateTitle(checklistItem, updateChecklistItemCB, $$event) {\n  var title = $$event.target.value;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateTitle(title, checklistItem));\n}\n\nfunction updateKind(checklistItem, updateChecklistItemCB, kind) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateKind(kind, checklistItem));\n}\n\nfunction updateOptional(checklistItem, updateChecklistItemCB, $$event) {\n  var optional = $$event.target.checked;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateOptional(optional, checklistItem));\n}\n\nfunction buttonColorClasses(color) {\n  return \"border-\" + (color + (\"-500 bg-\" + (color + (\"-100 text-\" + (color + \"-800\")))));\n}\n\nfunction iconColorClasses(color) {\n  return \"bg-\" + (color + \"-500 \");\n}\n\nfunction selectedButtonIcon(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case\n      /* Files */\n      0:\n        return \"i-file-regular\";\n\n      case\n      /* Link */\n      1:\n        return \"i-link-regular\";\n\n      case\n      /* ShortText */\n      2:\n        return \"i-short-text-regular\";\n\n      case\n      /* LongText */\n      3:\n        return \"i-long-text-regular\";\n    }\n  } else {\n    return \"i-check-circle-alt-regular\";\n  }\n}\n\nfunction checklistDropdown(checklistItem, allowFileKind, updateChecklistItemCB) {\n  var selectedKind = TargetChecklistItem.kind(checklistItem);\n  var selectedButtonColor;\n\n  if (typeof selectedKind === \"number\") {\n    switch (selectedKind) {\n      case\n      /* Files */\n      0:\n        selectedButtonColor = \"pink\";\n        break;\n\n      case\n      /* Link */\n      1:\n        selectedButtonColor = \"indigo\";\n        break;\n\n      case\n      /* ShortText */\n      2:\n        selectedButtonColor = \"orange\";\n        break;\n\n      case\n      /* LongText */\n      3:\n        selectedButtonColor = \"blue\";\n        break;\n    }\n  } else {\n    selectedButtonColor = \"teal\";\n  }\n\n  var selected = React.createElement(\"button\", {\n    className: \"border focus:outline-none appearance-none flex items-center rounded \" + buttonColorClasses(selectedButtonColor)\n  }, React.createElement(\"div\", {\n    className: \"flex\"\n  }, React.createElement(\"span\", {\n    className: \"flex items-center justify-center rounded text-white p-1 m-1 \" + iconColorClasses(selectedButtonColor)\n  }, React.createElement(PfIcon.make, {\n    className: \"if if-fw \" + selectedButtonIcon(selectedKind)\n  })), React.createElement(\"span\", {\n    className: \"inline-flex items-center px-1 py-1 font-semibold text-xs\"\n  }, TargetChecklistItem.actionStringForKind(selectedKind))), React.createElement(\"span\", {\n    className: \"px-2 py-1 flex items-center\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-caret-down text-xs\"\n  })));\n  var defaultKindTypes = [\n  /* LongText */\n  3,\n  /* ShortText */\n  2,\n  /* Link */\n  1,\n  /* MultiChoice */\n  [[\"Yes\", \"No\"]]];\n  var allowedKindTypes = allowFileKind ? $$Array.append([\n  /* Files */\n  0], defaultKindTypes) : defaultKindTypes;\n  var contents = $$Array.mapi(function (index, kind) {\n    return React.createElement(\"button\", {\n      key: String(index),\n      className: \"w-full px-2 py-1 focus:outline-none appearance-none text-left\",\n      onClick: function onClick(param) {\n        return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateKind(kind, checklistItem));\n      }\n    }, React.createElement(PfIcon.make, {\n      className: \"mr-2 if if-fw \" + selectedButtonIcon(kind)\n    }), TargetChecklistItem.actionStringForKind(kind));\n  }, allowedKindTypes.filter(function (kind) {\n    return Caml_obj.caml_notequal(kind, selectedKind);\n  }));\n  return React.createElement(Dropdown.make, {\n    selected: selected,\n    contents: contents\n  });\n}\n\nfunction removeMultichoiceOption(choiceIndex, checklistItem, updateChecklistItemCB) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.removeMultichoiceOption(choiceIndex, checklistItem));\n}\n\nfunction addMultichoiceOption(checklistItem, updateChecklistItemCB) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.addMultichoiceOption(checklistItem));\n}\n\nfunction updateChoiceText(choiceIndex, checklistItem, updateChecklistItemCB, $$event) {\n  var choice = $$event.target.value;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateMultichoiceOption(choiceIndex, choice, checklistItem));\n}\n\nfunction multiChoiceEditor(choices, checklistItem, removeMultichoiceOption, updateChecklistItemCB) {\n  var showRemoveIcon = choices.length > 2;\n  return React.createElement(\"div\", {\n    className: \"ml-3 mt-3\"\n  }, React.createElement(\"div\", {\n    className: \"text-xs font-semibold mb-2\"\n  }, \"Choices:\"), $$Array.mapi(function (index, choice) {\n    return React.createElement(\"div\", {\n      key: String(index)\n    }, React.createElement(\"div\", {\n      className: \"flex items-center text-sm rounded mt-2\"\n    }, React.createElement(\"span\", {\n      className: \"text-gray-400\"\n    }, React.createElement(\"i\", {\n      className: \"far fa-circle text-base\"\n    })), React.createElement(\"div\", {\n      className: \"flex flex-1 py-2 px-3 ml-3 justify-between items-center focus:outline-none bg-white focus:bg-white focus:border-primary-300 border border-gray-400 rounded\"\n    }, React.createElement(\"input\", {\n      className: \"flex-1 appearance-none bg-transparent border-none leading-snug focus:outline-none\",\n      name: \"multichoice-input-\" + String(index + 1 | 0),\n      type: \"text\",\n      value: choice,\n      onChange: function onChange(param) {\n        return updateChoiceText(index, checklistItem, updateChecklistItemCB, param);\n      }\n    }), React.createElement(\"button\", {\n      title: \"Remove Choice \" + String(index + 1 | 0),\n      onClick: function onClick(param) {\n        return Curry._3(removeMultichoiceOption, index, checklistItem, updateChecklistItemCB);\n      }\n    }, showRemoveIcon ? React.createElement(PfIcon.make, {\n      className: \"if i-times-regular if-fw\"\n    }) : null))), React.createElement(\"div\", {\n      className: \"ml-6\"\n    }, React.createElement(School__InputGroupError.make, {\n      message: \"Not a valid choice\",\n      active: $$String.trim(choice) === \"\"\n    })));\n  }, choices), React.createElement(\"button\", {\n    className: \"flex mt-2 ml-7 p-2 text-sm appearance-none bg-white border rounded items-center justify-between outline-none border-gray-400 hover:border-gray-100 hover:shadow-lg focus:outline-none\",\n    onClick: function onClick(param) {\n      return Curry._1(updateChecklistItemCB, TargetChecklistItem.addMultichoiceOption(checklistItem));\n    }\n  }, React.createElement(PfIcon.make, {\n    className: \"fas fa-plus-circle if-fw\"\n  }), React.createElement(\"span\", {\n    className: \"font-semibold ml-2\"\n  }, \"Add a choice\")));\n}\n\nfunction controlIcon(icon, title, handler) {\n  if (handler === undefined) {\n    return null;\n  } else {\n    var tmp = {\n      className: \"px-2 py-1 focus:outline-none text-sm text-gray-700 hover:bg-gray-300 hover:text-gray-900 overflow-hidden\",\n      title: title,\n      disabled: handler === undefined\n    };\n\n    if (handler !== undefined) {\n      tmp.onClick = Caml_option.valFromOption(handler);\n    }\n\n    return React.createElement(\"button\", tmp, React.createElement(\"i\", {\n      className: \"fas fa-fw \" + icon\n    }));\n  }\n}\n\nvar filesNotice = React.createElement(\"div\", {\n  className: \"mt-2 text-sm\"\n}, React.createElement(\"strong\", undefined, \"Note:\"), React.createElement(\"span\", {\n  className: \"ml-1\"\n}, \"Students can submit up to 3 files, limited to 5 MB each.\"));\n\nfunction isRequiredStepTitleDuplicated(checklist, item) {\n  var trimmedTitle = $$String.trim(TargetChecklistItem.title(item));\n\n  if (trimmedTitle === \"\") {\n    return false;\n  } else {\n    return checklist.filter(function (item) {\n      return !TargetChecklistItem.optional(item);\n    }).filter(function (checklistItem) {\n      return $$String.trim(TargetChecklistItem.title(checklistItem)) === trimmedTitle;\n    }).length > 1;\n  }\n}\n\nfunction CurriculumEditor__TargetChecklistItemEditor(Props) {\n  var checklist = Props.checklist;\n  var checklistItem = Props.checklistItem;\n  var index = Props.index;\n  var updateChecklistItemCB = Props.updateChecklistItemCB;\n  var removeChecklistItemCB = Props.removeChecklistItemCB;\n  var moveChecklistItemUpCB = Props.moveChecklistItemUpCB;\n  var moveChecklistItemDownCB = Props.moveChecklistItemDownCB;\n  var copyChecklistItemCB = Props.copyChecklistItemCB;\n  var allowFileKind = Props.allowFileKind;\n  var match = TargetChecklistItem.kind(checklistItem);\n  return React.createElement(\"div\", {\n    key: String(index),\n    \"aria-label\": \"Editor for checklist item \" + String(index + 1 | 0),\n    className: \"flex items-start py-2 relative\"\n  }, React.createElement(\"div\", {\n    className: \"w-full bg-gray-100 border rounded-lg p-5 mr-1\"\n  }, React.createElement(\"div\", {\n    className: \"flex justify-between items-center\"\n  }, React.createElement(\"div\", undefined, checklistDropdown(checklistItem, allowFileKind, updateChecklistItemCB)), React.createElement(\"div\", {\n    className: \"items-center\"\n  }, React.createElement(\"input\", {\n    className: \"leading-tight\",\n    id: String(index),\n    checked: TargetChecklistItem.optional(checklistItem),\n    type: \"checkbox\",\n    onChange: function onChange(param) {\n      return updateOptional(checklistItem, updateChecklistItemCB, param);\n    }\n  }), React.createElement(\"label\", {\n    className: \"text-xs text-gray-600 ml-2\",\n    htmlFor: String(index)\n  }, \"Optional\"))), React.createElement(\"div\", {\n    className: \"flex items-center text-sm bg-white border border-gray-400 rounded py-2 px-3 mt-2 focus:outline-none focus:bg-white focus:border-primary-300\"\n  }, React.createElement(\"input\", {\n    className: \"flex-grow appearance-none bg-transparent border-none leading-relaxed focus:outline-none\",\n    name: \"checklist-item-\" + (String(index + 1 | 0) + \"-title\"),\n    placeholder: \"Describe this step\",\n    type: \"text\",\n    value: TargetChecklistItem.title(checklistItem),\n    onChange: function onChange(param) {\n      return updateTitle(checklistItem, updateChecklistItemCB, param);\n    }\n  })), React.createElement(\"div\", undefined, React.createElement(School__InputGroupError.make, {\n    message: \"Step cannot be empty\",\n    active: $$String.trim(TargetChecklistItem.title(checklistItem)) === \"\"\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"Not a unique step; required steps must be unique\",\n    active: isRequiredStepTitleDuplicated(checklist, checklistItem)\n  })), typeof match === \"number\" ? match !== 0 ? null : filesNotice : multiChoiceEditor(match[0], checklistItem, removeMultichoiceOption, updateChecklistItemCB)), React.createElement(\"div\", {\n    \"aria-label\": \"Controls for checklist item \" + String(index + 1 | 0),\n    className: \"-mr-10 flex-shrink-0 border bg-gray-100 border rounded-lg flex flex-col text-xs sticky top-0\"\n  }, controlIcon(\"fa-arrow-up\", \"Move Up\", OptionUtils.map(function (cb, param) {\n    return Curry._1(cb,\n    /* () */\n    0);\n  }, moveChecklistItemUpCB)), controlIcon(\"fa-arrow-down\", \"Move Down\", OptionUtils.map(function (cb, param) {\n    return Curry._1(cb,\n    /* () */\n    0);\n  }, moveChecklistItemDownCB)), controlIcon(\"fa-copy\", \"Copy\", function (param) {\n    return Curry._1(copyChecklistItemCB,\n    /* () */\n    0);\n  }), controlIcon(\"fa-trash-alt\", \"Delete\", function (param) {\n    return Curry._1(removeChecklistItemCB,\n    /* () */\n    0);\n  })));\n}\n\nvar make = CurriculumEditor__TargetChecklistItemEditor;\nexports.str = str;\nexports.updateTitle = updateTitle;\nexports.updateKind = updateKind;\nexports.updateOptional = updateOptional;\nexports.buttonColorClasses = buttonColorClasses;\nexports.iconColorClasses = iconColorClasses;\nexports.selectedButtonIcon = selectedButtonIcon;\nexports.checklistDropdown = checklistDropdown;\nexports.removeMultichoiceOption = removeMultichoiceOption;\nexports.addMultichoiceOption = addMultichoiceOption;\nexports.updateChoiceText = updateChoiceText;\nexports.multiChoiceEditor = multiChoiceEditor;\nexports.controlIcon = controlIcon;\nexports.filesNotice = filesNotice;\nexports.isRequiredStepTitleDuplicated = isRequiredStepTitleDuplicated;\nexports.make = make;\n/* filesNotice Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/curriculum_editor/CurriculumEditor__TargetChecklistItemEditor.bs.js"],"names":["$$Array","require","Curry","React","PfIcon","$$String","Caml_obj","Dropdown","Caml_option","OptionUtils","TargetChecklistItem","School__InputGroupError","str","prim","updateTitle","checklistItem","updateChecklistItemCB","$$event","title","target","value","_1","updateKind","kind","updateOptional","optional","checked","buttonColorClasses","color","iconColorClasses","selectedButtonIcon","checklistDropdown","allowFileKind","selectedKind","selectedButtonColor","selected","createElement","className","make","actionStringForKind","defaultKindTypes","allowedKindTypes","append","contents","mapi","index","key","String","onClick","param","filter","caml_notequal","removeMultichoiceOption","choiceIndex","addMultichoiceOption","updateChoiceText","choice","updateMultichoiceOption","multiChoiceEditor","choices","showRemoveIcon","length","name","type","onChange","_3","message","active","trim","controlIcon","icon","handler","undefined","tmp","disabled","valFromOption","filesNotice","isRequiredStepTitleDuplicated","checklist","item","trimmedTitle","CurriculumEditor__TargetChecklistItemEditor","Props","removeChecklistItemCB","moveChecklistItemUpCB","moveChecklistItemDownCB","copyChecklistItemCB","match","id","htmlFor","placeholder","map","cb","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar PfIcon = require(\"../../../../packages/pf-icon/src/PfIcon.bs.js\");\nvar $$String = require(\"bs-platform/lib/js/string.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Dropdown = require(\"../../../../shared/components/Dropdown.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar TargetChecklistItem = require(\"../../types/curriculum_editor/TargetChecklistItem.bs.js\");\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction updateTitle(checklistItem, updateChecklistItemCB, $$event) {\n  var title = $$event.target.value;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateTitle(title, checklistItem));\n}\n\nfunction updateKind(checklistItem, updateChecklistItemCB, kind) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateKind(kind, checklistItem));\n}\n\nfunction updateOptional(checklistItem, updateChecklistItemCB, $$event) {\n  var optional = $$event.target.checked;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateOptional(optional, checklistItem));\n}\n\nfunction buttonColorClasses(color) {\n  return \"border-\" + (color + (\"-500 bg-\" + (color + (\"-100 text-\" + (color + \"-800\")))));\n}\n\nfunction iconColorClasses(color) {\n  return \"bg-\" + (color + \"-500 \");\n}\n\nfunction selectedButtonIcon(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case /* Files */0 :\n          return \"i-file-regular\";\n      case /* Link */1 :\n          return \"i-link-regular\";\n      case /* ShortText */2 :\n          return \"i-short-text-regular\";\n      case /* LongText */3 :\n          return \"i-long-text-regular\";\n      \n    }\n  } else {\n    return \"i-check-circle-alt-regular\";\n  }\n}\n\nfunction checklistDropdown(checklistItem, allowFileKind, updateChecklistItemCB) {\n  var selectedKind = TargetChecklistItem.kind(checklistItem);\n  var selectedButtonColor;\n  if (typeof selectedKind === \"number\") {\n    switch (selectedKind) {\n      case /* Files */0 :\n          selectedButtonColor = \"pink\";\n          break;\n      case /* Link */1 :\n          selectedButtonColor = \"indigo\";\n          break;\n      case /* ShortText */2 :\n          selectedButtonColor = \"orange\";\n          break;\n      case /* LongText */3 :\n          selectedButtonColor = \"blue\";\n          break;\n      \n    }\n  } else {\n    selectedButtonColor = \"teal\";\n  }\n  var selected = React.createElement(\"button\", {\n        className: \"border focus:outline-none appearance-none flex items-center rounded \" + buttonColorClasses(selectedButtonColor)\n      }, React.createElement(\"div\", {\n            className: \"flex\"\n          }, React.createElement(\"span\", {\n                className: \"flex items-center justify-center rounded text-white p-1 m-1 \" + iconColorClasses(selectedButtonColor)\n              }, React.createElement(PfIcon.make, {\n                    className: \"if if-fw \" + selectedButtonIcon(selectedKind)\n                  })), React.createElement(\"span\", {\n                className: \"inline-flex items-center px-1 py-1 font-semibold text-xs\"\n              }, TargetChecklistItem.actionStringForKind(selectedKind))), React.createElement(\"span\", {\n            className: \"px-2 py-1 flex items-center\"\n          }, React.createElement(\"i\", {\n                className: \"fas fa-caret-down text-xs\"\n              })));\n  var defaultKindTypes = [\n    /* LongText */3,\n    /* ShortText */2,\n    /* Link */1,\n    /* MultiChoice */[[\n        \"Yes\",\n        \"No\"\n      ]]\n  ];\n  var allowedKindTypes = allowFileKind ? $$Array.append([/* Files */0], defaultKindTypes) : defaultKindTypes;\n  var contents = $$Array.mapi((function (index, kind) {\n          return React.createElement(\"button\", {\n                      key: String(index),\n                      className: \"w-full px-2 py-1 focus:outline-none appearance-none text-left\",\n                      onClick: (function (param) {\n                          return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateKind(kind, checklistItem));\n                        })\n                    }, React.createElement(PfIcon.make, {\n                          className: \"mr-2 if if-fw \" + selectedButtonIcon(kind)\n                        }), TargetChecklistItem.actionStringForKind(kind));\n        }), allowedKindTypes.filter((function (kind) {\n              return Caml_obj.caml_notequal(kind, selectedKind);\n            })));\n  return React.createElement(Dropdown.make, {\n              selected: selected,\n              contents: contents\n            });\n}\n\nfunction removeMultichoiceOption(choiceIndex, checklistItem, updateChecklistItemCB) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.removeMultichoiceOption(choiceIndex, checklistItem));\n}\n\nfunction addMultichoiceOption(checklistItem, updateChecklistItemCB) {\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.addMultichoiceOption(checklistItem));\n}\n\nfunction updateChoiceText(choiceIndex, checklistItem, updateChecklistItemCB, $$event) {\n  var choice = $$event.target.value;\n  return Curry._1(updateChecklistItemCB, TargetChecklistItem.updateMultichoiceOption(choiceIndex, choice, checklistItem));\n}\n\nfunction multiChoiceEditor(choices, checklistItem, removeMultichoiceOption, updateChecklistItemCB) {\n  var showRemoveIcon = choices.length > 2;\n  return React.createElement(\"div\", {\n              className: \"ml-3 mt-3\"\n            }, React.createElement(\"div\", {\n                  className: \"text-xs font-semibold mb-2\"\n                }, \"Choices:\"), $$Array.mapi((function (index, choice) {\n                    return React.createElement(\"div\", {\n                                key: String(index)\n                              }, React.createElement(\"div\", {\n                                    className: \"flex items-center text-sm rounded mt-2\"\n                                  }, React.createElement(\"span\", {\n                                        className: \"text-gray-400\"\n                                      }, React.createElement(\"i\", {\n                                            className: \"far fa-circle text-base\"\n                                          })), React.createElement(\"div\", {\n                                        className: \"flex flex-1 py-2 px-3 ml-3 justify-between items-center focus:outline-none bg-white focus:bg-white focus:border-primary-300 border border-gray-400 rounded\"\n                                      }, React.createElement(\"input\", {\n                                            className: \"flex-1 appearance-none bg-transparent border-none leading-snug focus:outline-none\",\n                                            name: \"multichoice-input-\" + String(index + 1 | 0),\n                                            type: \"text\",\n                                            value: choice,\n                                            onChange: (function (param) {\n                                                return updateChoiceText(index, checklistItem, updateChecklistItemCB, param);\n                                              })\n                                          }), React.createElement(\"button\", {\n                                            title: \"Remove Choice \" + String(index + 1 | 0),\n                                            onClick: (function (param) {\n                                                return Curry._3(removeMultichoiceOption, index, checklistItem, updateChecklistItemCB);\n                                              })\n                                          }, showRemoveIcon ? React.createElement(PfIcon.make, {\n                                                  className: \"if i-times-regular if-fw\"\n                                                }) : null))), React.createElement(\"div\", {\n                                    className: \"ml-6\"\n                                  }, React.createElement(School__InputGroupError.make, {\n                                        message: \"Not a valid choice\",\n                                        active: $$String.trim(choice) === \"\"\n                                      })));\n                  }), choices), React.createElement(\"button\", {\n                  className: \"flex mt-2 ml-7 p-2 text-sm appearance-none bg-white border rounded items-center justify-between outline-none border-gray-400 hover:border-gray-100 hover:shadow-lg focus:outline-none\",\n                  onClick: (function (param) {\n                      return Curry._1(updateChecklistItemCB, TargetChecklistItem.addMultichoiceOption(checklistItem));\n                    })\n                }, React.createElement(PfIcon.make, {\n                      className: \"fas fa-plus-circle if-fw\"\n                    }), React.createElement(\"span\", {\n                      className: \"font-semibold ml-2\"\n                    }, \"Add a choice\")));\n}\n\nfunction controlIcon(icon, title, handler) {\n  if (handler === undefined) {\n    return null;\n  } else {\n    var tmp = {\n      className: \"px-2 py-1 focus:outline-none text-sm text-gray-700 hover:bg-gray-300 hover:text-gray-900 overflow-hidden\",\n      title: title,\n      disabled: handler === undefined\n    };\n    if (handler !== undefined) {\n      tmp.onClick = Caml_option.valFromOption(handler);\n    }\n    return React.createElement(\"button\", tmp, React.createElement(\"i\", {\n                    className: \"fas fa-fw \" + icon\n                  }));\n  }\n}\n\nvar filesNotice = React.createElement(\"div\", {\n      className: \"mt-2 text-sm\"\n    }, React.createElement(\"strong\", undefined, \"Note:\"), React.createElement(\"span\", {\n          className: \"ml-1\"\n        }, \"Students can submit up to 3 files, limited to 5 MB each.\"));\n\nfunction isRequiredStepTitleDuplicated(checklist, item) {\n  var trimmedTitle = $$String.trim(TargetChecklistItem.title(item));\n  if (trimmedTitle === \"\") {\n    return false;\n  } else {\n    return checklist.filter((function (item) {\n                    return !TargetChecklistItem.optional(item);\n                  })).filter((function (checklistItem) {\n                  return $$String.trim(TargetChecklistItem.title(checklistItem)) === trimmedTitle;\n                })).length > 1;\n  }\n}\n\nfunction CurriculumEditor__TargetChecklistItemEditor(Props) {\n  var checklist = Props.checklist;\n  var checklistItem = Props.checklistItem;\n  var index = Props.index;\n  var updateChecklistItemCB = Props.updateChecklistItemCB;\n  var removeChecklistItemCB = Props.removeChecklistItemCB;\n  var moveChecklistItemUpCB = Props.moveChecklistItemUpCB;\n  var moveChecklistItemDownCB = Props.moveChecklistItemDownCB;\n  var copyChecklistItemCB = Props.copyChecklistItemCB;\n  var allowFileKind = Props.allowFileKind;\n  var match = TargetChecklistItem.kind(checklistItem);\n  return React.createElement(\"div\", {\n              key: String(index),\n              \"aria-label\": \"Editor for checklist item \" + String(index + 1 | 0),\n              className: \"flex items-start py-2 relative\"\n            }, React.createElement(\"div\", {\n                  className: \"w-full bg-gray-100 border rounded-lg p-5 mr-1\"\n                }, React.createElement(\"div\", {\n                      className: \"flex justify-between items-center\"\n                    }, React.createElement(\"div\", undefined, checklistDropdown(checklistItem, allowFileKind, updateChecklistItemCB)), React.createElement(\"div\", {\n                          className: \"items-center\"\n                        }, React.createElement(\"input\", {\n                              className: \"leading-tight\",\n                              id: String(index),\n                              checked: TargetChecklistItem.optional(checklistItem),\n                              type: \"checkbox\",\n                              onChange: (function (param) {\n                                  return updateOptional(checklistItem, updateChecklistItemCB, param);\n                                })\n                            }), React.createElement(\"label\", {\n                              className: \"text-xs text-gray-600 ml-2\",\n                              htmlFor: String(index)\n                            }, \"Optional\"))), React.createElement(\"div\", {\n                      className: \"flex items-center text-sm bg-white border border-gray-400 rounded py-2 px-3 mt-2 focus:outline-none focus:bg-white focus:border-primary-300\"\n                    }, React.createElement(\"input\", {\n                          className: \"flex-grow appearance-none bg-transparent border-none leading-relaxed focus:outline-none\",\n                          name: \"checklist-item-\" + (String(index + 1 | 0) + \"-title\"),\n                          placeholder: \"Describe this step\",\n                          type: \"text\",\n                          value: TargetChecklistItem.title(checklistItem),\n                          onChange: (function (param) {\n                              return updateTitle(checklistItem, updateChecklistItemCB, param);\n                            })\n                        })), React.createElement(\"div\", undefined, React.createElement(School__InputGroupError.make, {\n                          message: \"Step cannot be empty\",\n                          active: $$String.trim(TargetChecklistItem.title(checklistItem)) === \"\"\n                        }), React.createElement(School__InputGroupError.make, {\n                          message: \"Not a unique step; required steps must be unique\",\n                          active: isRequiredStepTitleDuplicated(checklist, checklistItem)\n                        })), typeof match === \"number\" ? (\n                    match !== 0 ? null : filesNotice\n                  ) : multiChoiceEditor(match[0], checklistItem, removeMultichoiceOption, updateChecklistItemCB)), React.createElement(\"div\", {\n                  \"aria-label\": \"Controls for checklist item \" + String(index + 1 | 0),\n                  className: \"-mr-10 flex-shrink-0 border bg-gray-100 border rounded-lg flex flex-col text-xs sticky top-0\"\n                }, controlIcon(\"fa-arrow-up\", \"Move Up\", OptionUtils.map((function (cb, param) {\n                            return Curry._1(cb, /* () */0);\n                          }), moveChecklistItemUpCB)), controlIcon(\"fa-arrow-down\", \"Move Down\", OptionUtils.map((function (cb, param) {\n                            return Curry._1(cb, /* () */0);\n                          }), moveChecklistItemDownCB)), controlIcon(\"fa-copy\", \"Copy\", (function (param) {\n                        return Curry._1(copyChecklistItemCB, /* () */0);\n                      })), controlIcon(\"fa-trash-alt\", \"Delete\", (function (param) {\n                        return Curry._1(removeChecklistItemCB, /* () */0);\n                      }))));\n}\n\nvar make = CurriculumEditor__TargetChecklistItemEditor;\n\nexports.str = str;\nexports.updateTitle = updateTitle;\nexports.updateKind = updateKind;\nexports.updateOptional = updateOptional;\nexports.buttonColorClasses = buttonColorClasses;\nexports.iconColorClasses = iconColorClasses;\nexports.selectedButtonIcon = selectedButtonIcon;\nexports.checklistDropdown = checklistDropdown;\nexports.removeMultichoiceOption = removeMultichoiceOption;\nexports.addMultichoiceOption = addMultichoiceOption;\nexports.updateChoiceText = updateChoiceText;\nexports.multiChoiceEditor = multiChoiceEditor;\nexports.controlIcon = controlIcon;\nexports.filesNotice = filesNotice;\nexports.isRequiredStepTitleDuplicated = isRequiredStepTitleDuplicated;\nexports.make = make;\n/* filesNotice Not a pure module */\n"]},"metadata":{},"sourceType":"module"}