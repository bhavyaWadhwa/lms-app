{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\n\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\n\nvar CoursesReview__Student = require(\"../types/CoursesReview__Student.bs.js\");\n\nvar CoursesStudents__TeamCoaches = require(\"../../students/components/CoursesStudents__TeamCoaches.bs.js\");\n\nvar CoursesReview__SubmissionsList = require(\"./CoursesReview__SubmissionsList.bs.js\");\n\nvar CoursesReview__OverlaySubmission = require(\"../types/CoursesReview__OverlaySubmission.bs.js\");\n\nvar CoursesReview__SubmissionDetails = require(\"../types/CoursesReview__SubmissionDetails.bs.js\");\n\nrequire(\"./CoursesReview__SubmissionOverlay.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query SubmissionDetailsQuery($submissionId: ID!)  {\\nsubmissionDetails(submissionId: $submissionId)  {\\ntargetId  \\ntargetTitle  \\nlevelNumber  \\nlevelId  \\ninactiveStudents  \\nstudents  {\\nid  \\nname  \\n}\\n\\nevaluationCriteria  {\\nid  \\nname  \\nmaxGrade  \\npassGrade  \\ngradeLabels  {\\ngrade  \\nlabel  \\n}\\n\\n}\\n\\nreviewChecklist  {\\ntitle  \\nresult  {\\ntitle  \\nfeedback  \\n}\\n\\n}\\n\\ntargetEvaluationCriteriaIds  \\nsubmissions  {\\nid  \\nevaluatorName  \\npassedAt  \\ncreatedAt  \\nevaluatedAt  \\nfiles  {\\nurl  \\ntitle  \\nid  \\n}\\n\\ngrades  {\\nevaluationCriterionId  \\ngrade  \\n}\\n\\nfeedback  {\\nid  \\ncoachName  \\ncoachAvatarUrl  \\ncoachTitle  \\ncreatedAt  \\nvalue  \\n}\\n\\nchecklist  \\n}\\n\\ncoachIds  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"submissionDetails\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"targetId\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeString(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field targetId on type SubmissionDetails is missing\");\n    }\n\n    var match$3 = Js_dict.get(value$2, \"targetTitle\");\n    var tmp$2;\n\n    if (match$3 !== undefined) {\n      var value$4 = Caml_option.valFromOption(match$3);\n      var match$4 = Js_json.decodeString(value$4);\n      tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field targetTitle on type SubmissionDetails is missing\");\n    }\n\n    var match$5 = Js_dict.get(value$2, \"levelNumber\");\n    var tmp$3;\n\n    if (match$5 !== undefined) {\n      var value$5 = Caml_option.valFromOption(match$5);\n      var match$6 = Js_json.decodeString(value$5);\n      tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field levelNumber on type SubmissionDetails is missing\");\n    }\n\n    var match$7 = Js_dict.get(value$2, \"levelId\");\n    var tmp$4;\n\n    if (match$7 !== undefined) {\n      var value$6 = Caml_option.valFromOption(match$7);\n      var match$8 = Js_json.decodeString(value$6);\n      tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n    } else {\n      tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type SubmissionDetails is missing\");\n    }\n\n    var match$9 = Js_dict.get(value$2, \"inactiveStudents\");\n    var tmp$5;\n\n    if (match$9 !== undefined) {\n      var value$7 = Caml_option.valFromOption(match$9);\n      var match$10 = Js_json.decodeBoolean(value$7);\n      tmp$5 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n    } else {\n      tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field inactiveStudents on type SubmissionDetails is missing\");\n    }\n\n    var match$11 = Js_dict.get(value$2, \"students\");\n    var match$12 = Js_dict.get(value$2, \"evaluationCriteria\");\n    var match$13 = Js_dict.get(value$2, \"reviewChecklist\");\n    var match$14 = Js_dict.get(value$2, \"targetEvaluationCriteriaIds\");\n    var match$15 = Js_dict.get(value$2, \"submissions\");\n    var match$16 = Js_dict.get(value$2, \"coachIds\");\n    tmp = {\n      targetId: tmp$1,\n      targetTitle: tmp$2,\n      levelNumber: tmp$3,\n      levelId: tmp$4,\n      inactiveStudents: tmp$5,\n      students: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map(function (value) {\n        var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n        var match = Js_dict.get(value$1, \"id\");\n        var tmp;\n\n        if (match !== undefined) {\n          var value$2 = Caml_option.valFromOption(match);\n          var match$1 = Js_json.decodeString(value$2);\n          tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n        } else {\n          tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type StudentMini is missing\");\n        }\n\n        var match$2 = Js_dict.get(value$1, \"name\");\n        var tmp$1;\n\n        if (match$2 !== undefined) {\n          var value$3 = Caml_option.valFromOption(match$2);\n          var match$3 = Js_json.decodeString(value$3);\n          tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n        } else {\n          tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type StudentMini is missing\");\n        }\n\n        return {\n          id: tmp,\n          name: tmp$1\n        };\n      }) : Js_exn.raiseError(\"graphql_ppx: Field students on type SubmissionDetails is missing\"),\n      evaluationCriteria: match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map(function (value) {\n        var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n        var match = Js_dict.get(value$1, \"id\");\n        var tmp;\n\n        if (match !== undefined) {\n          var value$2 = Caml_option.valFromOption(match);\n          var match$1 = Js_json.decodeString(value$2);\n          tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n        } else {\n          tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type EvaluationCriterion is missing\");\n        }\n\n        var match$2 = Js_dict.get(value$1, \"name\");\n        var tmp$1;\n\n        if (match$2 !== undefined) {\n          var value$3 = Caml_option.valFromOption(match$2);\n          var match$3 = Js_json.decodeString(value$3);\n          tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n        } else {\n          tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type EvaluationCriterion is missing\");\n        }\n\n        var match$4 = Js_dict.get(value$1, \"maxGrade\");\n        var tmp$2;\n\n        if (match$4 !== undefined) {\n          var value$4 = Caml_option.valFromOption(match$4);\n          var match$5 = Js_json.decodeNumber(value$4);\n          tmp$2 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$4));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field maxGrade on type EvaluationCriterion is missing\");\n        }\n\n        var match$6 = Js_dict.get(value$1, \"passGrade\");\n        var tmp$3;\n\n        if (match$6 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$6);\n          var match$7 = Js_json.decodeNumber(value$5);\n          tmp$3 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field passGrade on type EvaluationCriterion is missing\");\n        }\n\n        var match$8 = Js_dict.get(value$1, \"gradeLabels\");\n        return {\n          id: tmp,\n          name: tmp$1,\n          maxGrade: tmp$2,\n          passGrade: tmp$3,\n          gradeLabels: match$8 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$8))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"grade\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeNumber(value$2);\n              tmp = match$1 !== undefined ? match$1 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field grade on type GradeAndLabel is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"label\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeString(value$3);\n              tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n            } else {\n              tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field label on type GradeAndLabel is missing\");\n            }\n\n            return {\n              grade: tmp,\n              label: tmp$1\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field gradeLabels on type EvaluationCriterion is missing\")\n        };\n      }) : Js_exn.raiseError(\"graphql_ppx: Field evaluationCriteria on type SubmissionDetails is missing\"),\n      reviewChecklist: match$13 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$13))).map(function (value) {\n        var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n        var match = Js_dict.get(value$1, \"title\");\n        var tmp;\n\n        if (match !== undefined) {\n          var value$2 = Caml_option.valFromOption(match);\n          var match$1 = Js_json.decodeString(value$2);\n          tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n        } else {\n          tmp = Js_exn.raiseError(\"graphql_ppx: Field title on type ReviewChecklist is missing\");\n        }\n\n        var match$2 = Js_dict.get(value$1, \"result\");\n        return {\n          title: tmp,\n          result: match$2 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$2))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"title\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeString(value$2);\n              tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field title on type ReviewChecklistResult is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"feedback\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeNull(value$3);\n\n              if (match$3 !== undefined) {\n                tmp$1 = undefined;\n              } else {\n                var match$4 = Js_json.decodeString(value$3);\n                tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n              }\n            } else {\n              tmp$1 = undefined;\n            }\n\n            return {\n              title: tmp,\n              feedback: tmp$1\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field result on type ReviewChecklist is missing\")\n        };\n      }) : Js_exn.raiseError(\"graphql_ppx: Field reviewChecklist on type SubmissionDetails is missing\"),\n      targetEvaluationCriteriaIds: match$14 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$14))).map(function (value) {\n        var match = Js_json.decodeString(value);\n\n        if (match !== undefined) {\n          return match;\n        } else {\n          return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n        }\n      }) : Js_exn.raiseError(\"graphql_ppx: Field targetEvaluationCriteriaIds on type SubmissionDetails is missing\"),\n      submissions: match$15 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$15))).map(function (value) {\n        var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n        var match = Js_dict.get(value$1, \"id\");\n        var tmp;\n\n        if (match !== undefined) {\n          var value$2 = Caml_option.valFromOption(match);\n          var match$1 = Js_json.decodeString(value$2);\n          tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n        } else {\n          tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n        }\n\n        var match$2 = Js_dict.get(value$1, \"evaluatorName\");\n        var tmp$1;\n\n        if (match$2 !== undefined) {\n          var value$3 = Caml_option.valFromOption(match$2);\n          var match$3 = Js_json.decodeNull(value$3);\n\n          if (match$3 !== undefined) {\n            tmp$1 = undefined;\n          } else {\n            var match$4 = Js_json.decodeString(value$3);\n            tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n          }\n        } else {\n          tmp$1 = undefined;\n        }\n\n        var match$5 = Js_dict.get(value$1, \"passedAt\");\n        var tmp$2;\n\n        if (match$5 !== undefined) {\n          var value$4 = Caml_option.valFromOption(match$5);\n          var match$6 = Js_json.decodeNull(value$4);\n          tmp$2 = match$6 !== undefined ? undefined : Caml_option.some(value$4);\n        } else {\n          tmp$2 = undefined;\n        }\n\n        var match$7 = Js_dict.get(value$1, \"createdAt\");\n        var match$8 = Js_dict.get(value$1, \"evaluatedAt\");\n        var tmp$3;\n\n        if (match$8 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$8);\n          var match$9 = Js_json.decodeNull(value$5);\n          tmp$3 = match$9 !== undefined ? undefined : Caml_option.some(value$5);\n        } else {\n          tmp$3 = undefined;\n        }\n\n        var match$10 = Js_dict.get(value$1, \"files\");\n        var match$11 = Js_dict.get(value$1, \"grades\");\n        var match$12 = Js_dict.get(value$1, \"feedback\");\n        var match$13 = Js_dict.get(value$1, \"checklist\");\n        return {\n          id: tmp,\n          evaluatorName: tmp$1,\n          passedAt: tmp$2,\n          createdAt: match$7 !== undefined ? Caml_option.valFromOption(match$7) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n          evaluatedAt: tmp$3,\n          files: match$10 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$10))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"url\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeString(value$2);\n              tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field url on type SubmissionFile is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"title\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeString(value$3);\n              tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n            } else {\n              tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field title on type SubmissionFile is missing\");\n            }\n\n            var match$4 = Js_dict.get(value$1, \"id\");\n            var tmp$2;\n\n            if (match$4 !== undefined) {\n              var value$4 = Caml_option.valFromOption(match$4);\n              var match$5 = Js_json.decodeString(value$4);\n              tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n            } else {\n              tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type SubmissionFile is missing\");\n            }\n\n            return {\n              url: tmp,\n              title: tmp$1,\n              id: tmp$2\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field files on type Submission is missing\"),\n          grades: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"evaluationCriterionId\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeString(value$2);\n              tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field evaluationCriterionId on type Grade is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"grade\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeNumber(value$3);\n              tmp$1 = match$3 !== undefined ? match$3 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$3));\n            } else {\n              tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field grade on type Grade is missing\");\n            }\n\n            return {\n              evaluationCriterionId: tmp,\n              grade: tmp$1\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field grades on type Submission is missing\"),\n          feedback: match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"id\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeString(value$2);\n              tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type SubmissionFeedback is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"coachName\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeString(value$3);\n              tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n            } else {\n              tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field coachName on type SubmissionFeedback is missing\");\n            }\n\n            var match$4 = Js_dict.get(value$1, \"coachAvatarUrl\");\n            var tmp$2;\n\n            if (match$4 !== undefined) {\n              var value$4 = Caml_option.valFromOption(match$4);\n              var match$5 = Js_json.decodeNull(value$4);\n\n              if (match$5 !== undefined) {\n                tmp$2 = undefined;\n              } else {\n                var match$6 = Js_json.decodeString(value$4);\n                tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n              }\n            } else {\n              tmp$2 = undefined;\n            }\n\n            var match$7 = Js_dict.get(value$1, \"coachTitle\");\n            var tmp$3;\n\n            if (match$7 !== undefined) {\n              var value$5 = Caml_option.valFromOption(match$7);\n              var match$8 = Js_json.decodeString(value$5);\n              tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n            } else {\n              tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field coachTitle on type SubmissionFeedback is missing\");\n            }\n\n            var match$9 = Js_dict.get(value$1, \"createdAt\");\n            var match$10 = Js_dict.get(value$1, \"value\");\n            var tmp$4;\n\n            if (match$10 !== undefined) {\n              var value$6 = Caml_option.valFromOption(match$10);\n              var match$11 = Js_json.decodeString(value$6);\n              tmp$4 = match$11 !== undefined ? match$11 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n            } else {\n              tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field value on type SubmissionFeedback is missing\");\n            }\n\n            return {\n              id: tmp,\n              coachName: tmp$1,\n              coachAvatarUrl: tmp$2,\n              coachTitle: tmp$3,\n              createdAt: match$9 !== undefined ? Caml_option.valFromOption(match$9) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type SubmissionFeedback is missing\"),\n              value: tmp$4\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field feedback on type Submission is missing\"),\n          checklist: match$13 !== undefined ? Caml_option.valFromOption(match$13) : Js_exn.raiseError(\"graphql_ppx: Field checklist on type Submission is missing\")\n        };\n      }) : Js_exn.raiseError(\"graphql_ppx: Field submissions on type SubmissionDetails is missing\"),\n      coachIds: match$16 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$16))).map(function (value) {\n        var match = Js_json.decodeString(value);\n\n        if (match !== undefined) {\n          return match;\n        } else {\n          return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n        }\n      }) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type SubmissionDetails is missing\")\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field submissionDetails on type Query is missing\");\n  }\n\n  return {\n    submissionDetails: tmp\n  };\n}\n\nfunction make(submissionId, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"submissionId\", submissionId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var submissionId = variables.submissionId;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"submissionId\", submissionId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(submissionId, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"submissionId\", submissionId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, submissionId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"submissionId\", submissionId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar SubmissionDetailsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateSubmissionDetails(setState, submissionId, syncSubmissionCB, details) {\n  var submissionDetails = CoursesReview__SubmissionDetails.decodeJs(details);\n\n  Curry._1(syncSubmissionCB, ArrayUtils.unsafeFind(function (submission) {\n    return CoursesReview__OverlaySubmission.id(submission) === submissionId;\n  }, \"Could not find overlaySubmission with ID \" + (submissionId + \" in loaded submissions\"), CoursesReview__SubmissionDetails.submissions(submissionDetails)));\n\n  return Curry._1(setState, function (param) {\n    return (\n      /* Loaded */\n      [submissionDetails]\n    );\n  });\n}\n\nfunction getSubmissionDetails(submissionId, setState, syncSubmissionCB, param) {\n  Curry._1(setState, function (param) {\n    return (\n      /* Loading */\n      0\n    );\n  });\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(submissionId,\n  /* () */\n  0)).then(function (response) {\n    updateSubmissionDetails(setState, submissionId, syncSubmissionCB, response.submissionDetails);\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return;\n}\n\nfunction closeOverlay(courseId) {\n  return ReasonReactRouter.push(\"/courses/\" + (courseId + \"/review\"));\n}\n\nfunction headerSection(submissionDetails, courseId, assignedCoaches) {\n  var studentCount = CoursesReview__SubmissionDetails.students(submissionDetails).length;\n  return React.createElement(\"div\", {\n    \"aria-label\": \"submissions-overlay-header\",\n    className: \"bg-gray-100 border-b border-gray-300 px-3 pt-12 xl:pt-10 flex justify-center\"\n  }, React.createElement(\"div\", {\n    className: \"relative bg-white border lg:border-transparent p-4 lg:px-6 lg:py-5 flex flex-wrap items-center justify-between rounded-lg shadow container max-w-3xl -mb-12\"\n  }, React.createElement(\"div\", {\n    \"aria-label\": \"submissions-overlay-close\",\n    className: \"review-submission-overlay__close flex flex-col items-center justify-center absolute rounded-t-lg lg:rounded-lg leading-tight px-4 py-1 h-8 lg:h-full cursor-pointer border border-b-0 border-gray-400 lg:border-0 lg:shadow lg:border-gray-300 bg-white text-gray-700 hover:text-gray-900 hover:bg-gray-100\",\n    onClick: function onClick(param) {\n      return closeOverlay(courseId);\n    }\n  }, React.createElement(Icon.make, {\n    className: \"if i-times-regular text-xl lg:text-2xl mt-1 lg:mt-0\"\n  }), React.createElement(\"span\", {\n    className: \"text-xs hidden lg:inline-block mt-px\"\n  }, \"close\")), React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"block text-sm md:pr-2\"\n  }, React.createElement(\"span\", {\n    className: \"bg-gray-300 text-xs font-semibold px-2 py-px rounded\"\n  }, \"Level \" + CoursesReview__SubmissionDetails.levelNumber(submissionDetails)), React.createElement(\"a\", {\n    className: \"ml-2 font-semibold underline text-gray-900 hover:bg-primary-100 hover:text-primary-600 text-sm md:text-lg\",\n    href: \"/targets/\" + CoursesReview__SubmissionDetails.targetId(submissionDetails),\n    target: \"_blank\"\n  }, CoursesReview__SubmissionDetails.targetTitle(submissionDetails))), React.createElement(\"div\", {\n    className: \"text-left mt-1 text-xs text-gray-800\"\n  }, React.createElement(\"span\", undefined, \"Submitted by \"), $$Array.mapi(function (index, student) {\n    var commaRequired = (index + 1 | 0) !== studentCount;\n    return React.createElement(\"span\", {\n      key: CoursesReview__Student.id(student)\n    }, React.createElement(\"a\", {\n      className: \"font-semibold underline\",\n      href: \"/students/\" + (CoursesReview__Student.id(student) + \"/report\"),\n      target: \"_blank\"\n    }, CoursesReview__Student.name(student)), commaRequired ? \", \" : \"\");\n  }, CoursesReview__SubmissionDetails.students(submissionDetails)))), React.createElement(CoursesStudents__TeamCoaches.make, {\n    tooltipPosition:\n    /* Bottom */\n    437082891,\n    defaultAvatarSize: \"8\",\n    mdAvatarSize: \"8\",\n    title: React.createElement(\"span\", {\n      className: \"mr-2\"\n    }, \"Assigned Coaches\"),\n    className: \"mt-2 flex w-full md:w-auto items-center flex-shrink-0\",\n    coaches: assignedCoaches\n  })));\n}\n\nfunction updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission) {\n  var newSubmissionDetails = CoursesReview__SubmissionDetails.updateSubmission(overlaySubmission, submissionDetails);\n\n  Curry._1(setState, function (param) {\n    return (\n      /* Loaded */\n      [newSubmissionDetails]\n    );\n  });\n\n  return newSubmissionDetails;\n}\n\nfunction addGrading(setState, removePendingSubmissionCB, submissionDetails, overlaySubmission) {\n  updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission);\n  return Curry._1(removePendingSubmissionCB,\n  /* () */\n  0);\n}\n\nfunction addFeedbackToReviewedSubmission(setState, updateReviewedSubmissionCB, submissionDetails, overlaySubmission) {\n  return Curry._1(updateReviewedSubmissionCB, CoursesReview__SubmissionDetails.makeIndexSubmission(overlaySubmission, updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission)));\n}\n\nfunction updateReviewChecklist(submissionDetails, setState, reviewChecklist) {\n  return Curry._1(setState, function (param) {\n    return (\n      /* Loaded */\n      [CoursesReview__SubmissionDetails.updateReviewChecklist(reviewChecklist, submissionDetails)]\n    );\n  });\n}\n\nfunction inactiveWarning(submissionDetails) {\n  if (CoursesReview__SubmissionDetails.inactiveStudents(submissionDetails)) {\n    var warning = CoursesReview__SubmissionDetails.students(submissionDetails).length > 1 ? \"This submission is linked to one or more students whose access to the course has ended, or have dropped out.\" : \"This submission is from a student whose access to the course has ended, or has dropped out.\";\n    return React.createElement(\"div\", {\n      className: \"border border-yellow-400 rounded bg-yellow-400 py-2 px-3\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-exclamation-triangle\"\n    }), React.createElement(\"span\", {\n      className: \"ml-2\"\n    }, warning));\n  } else {\n    return null;\n  }\n}\n\nfunction CoursesReview__SubmissionOverlay(Props) {\n  var courseId = Props.courseId;\n  var submissionId = Props.submissionId;\n  var teamCoaches = Props.teamCoaches;\n  var currentCoach = Props.currentCoach;\n  var syncSubmissionCB = Props.syncSubmissionCB;\n  var removePendingSubmissionCB = Props.removePendingSubmissionCB;\n  var updateReviewedSubmissionCB = Props.updateReviewedSubmissionCB;\n  var match = React.useState(function () {\n    return (\n      /* Loading */\n      0\n    );\n  });\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect(function () {\n    ScrollLock.activate(\n    /* () */\n    0);\n    return function (param) {\n      return ScrollLock.deactivate(\n      /* () */\n      0);\n    };\n  });\n  React.useEffect(function () {\n    return getSubmissionDetails(submissionId, setState, syncSubmissionCB,\n    /* () */\n    0);\n  }, [submissionId]);\n  var tmp;\n\n  if (state) {\n    var submissionDetails = state[0];\n    var assignedCoaches = teamCoaches.filter(function (coach) {\n      return $$Array.mem(UserProxy.id(coach), CoursesReview__SubmissionDetails.coachIds(submissionDetails));\n    });\n    tmp = React.createElement(\"div\", undefined, headerSection(submissionDetails, courseId, assignedCoaches), React.createElement(\"div\", {\n      className: \"container mx-auto mt-16 md:mt-18 max-w-3xl px-3 lg:px-0\"\n    }, inactiveWarning(submissionDetails)), React.createElement(\"div\", {\n      className: \"review-submission-overlay__submission-container relative container mx-auto max-w-3xl px-3 lg:px-0 pb-8\"\n    }, $$Array.mapi(function (index, overlaySubmission) {\n      return React.createElement(CoursesReview__SubmissionsList.make, {\n        overlaySubmission: overlaySubmission,\n        teamSubmission: CoursesReview__SubmissionDetails.students(submissionDetails).length > 1,\n        addGradingCB: function addGradingCB(param) {\n          return addGrading(setState, removePendingSubmissionCB, submissionDetails, param);\n        },\n        addFeedbackCB: function addFeedbackCB(param) {\n          return addFeedbackToReviewedSubmission(setState, updateReviewedSubmissionCB, submissionDetails, param);\n        },\n        submissionNumber: CoursesReview__SubmissionDetails.submissions(submissionDetails).length - index | 0,\n        currentCoach: currentCoach,\n        evaluationCriteria: CoursesReview__SubmissionDetails.evaluationCriteria(submissionDetails),\n        reviewChecklist: CoursesReview__SubmissionDetails.reviewChecklist(submissionDetails),\n        updateReviewChecklistCB: function updateReviewChecklistCB(param) {\n          return updateReviewChecklist(submissionDetails, setState, param);\n        },\n        targetId: CoursesReview__SubmissionDetails.targetId(submissionDetails),\n        targetEvaluationCriteriaIds: CoursesReview__SubmissionDetails.targetEvaluationCriteriaIds(submissionDetails),\n        key: String(index)\n      });\n    }, CoursesReview__SubmissionDetails.submissions(submissionDetails))));\n  } else {\n    tmp = React.createElement(\"div\", undefined, React.createElement(\"div\", {\n      className: \"bg-gray-100 py-4\"\n    }, React.createElement(\"div\", {\n      className: \"max-w-3xl mx-auto\"\n    }, SkeletonLoading.card(undefined,\n    /* () */\n    0))), React.createElement(\"div\", {\n      className: \"max-w-3xl mx-auto\"\n    }, SkeletonLoading.heading(\n    /* () */\n    0), SkeletonLoading.paragraph(\n    /* () */\n    0), SkeletonLoading.profileCard(\n    /* () */\n    0), SkeletonLoading.paragraph(\n    /* () */\n    0)));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll bg-white\"\n  }, tmp);\n}\n\nvar make$1 = CoursesReview__SubmissionOverlay;\nexports.str = str;\nexports.SubmissionDetailsQuery = SubmissionDetailsQuery;\nexports.getSubmissionDetails = getSubmissionDetails;\nexports.closeOverlay = closeOverlay;\nexports.headerSection = headerSection;\nexports.updateSubmissionDetails = updateSubmissionDetails$1;\nexports.addGrading = addGrading;\nexports.addFeedbackToReviewedSubmission = addFeedbackToReviewedSubmission;\nexports.updateReviewChecklist = updateReviewChecklist;\nexports.inactiveWarning = inactiveWarning;\nexports.make = make$1;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/review/components/CoursesReview__SubmissionOverlay.bs.js"],"names":["Icon","require","$$Array","Curry","React","Js_exn","Js_dict","Js_json","Js_option","UserProxy","ArrayUtils","ScrollLock","Caml_option","GraphqlQuery","SkeletonLoading","ReasonReactRouter","CoursesReview__Student","CoursesStudents__TeamCoaches","CoursesReview__SubmissionsList","CoursesReview__OverlaySubmission","CoursesReview__SubmissionDetails","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeString","raiseError","JSON","stringify","match$3","tmp$2","value$4","match$4","match$5","tmp$3","value$5","match$6","match$7","tmp$4","value$6","match$8","match$9","tmp$5","value$7","match$10","decodeBoolean","match$11","match$12","match$13","match$14","match$15","match$16","targetId","targetTitle","levelNumber","levelId","inactiveStudents","students","decodeArray","map","id","name","evaluationCriteria","decodeNumber","maxGrade","passGrade","gradeLabels","grade","label","reviewChecklist","title","result","decodeNull","feedback","targetEvaluationCriteriaIds","submissions","some","evaluatorName","passedAt","createdAt","evaluatedAt","files","url","grades","evaluationCriterionId","coachName","coachAvatarUrl","coachTitle","checklist","coachIds","submissionDetails","make","submissionId","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","SubmissionDetailsQuery","updateSubmissionDetails","setState","syncSubmissionCB","details","decodeJs","unsafeFind","submission","getSubmissionDetails","eta","sendQuery","then","response","Promise","resolve","closeOverlay","courseId","push","headerSection","assignedCoaches","studentCount","length","createElement","className","onClick","href","target","mapi","index","student","commaRequired","key","tooltipPosition","defaultAvatarSize","mdAvatarSize","coaches","updateSubmissionDetails$1","overlaySubmission","newSubmissionDetails","updateSubmission","addGrading","removePendingSubmissionCB","addFeedbackToReviewedSubmission","updateReviewedSubmissionCB","makeIndexSubmission","updateReviewChecklist","inactiveWarning","warning","CoursesReview__SubmissionOverlay","Props","teamCoaches","currentCoach","useState","state","useEffect","activate","deactivate","coach","mem","teamSubmission","addGradingCB","addFeedbackCB","submissionNumber","updateReviewChecklistCB","String","card","heading","paragraph","profileCard","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\nvar CoursesReview__Student = require(\"../types/CoursesReview__Student.bs.js\");\nvar CoursesStudents__TeamCoaches = require(\"../../students/components/CoursesStudents__TeamCoaches.bs.js\");\nvar CoursesReview__SubmissionsList = require(\"./CoursesReview__SubmissionsList.bs.js\");\nvar CoursesReview__OverlaySubmission = require(\"../types/CoursesReview__OverlaySubmission.bs.js\");\nvar CoursesReview__SubmissionDetails = require(\"../types/CoursesReview__SubmissionDetails.bs.js\");\n\n((require(\"./CoursesReview__SubmissionOverlay.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query SubmissionDetailsQuery($submissionId: ID!)  {\\nsubmissionDetails(submissionId: $submissionId)  {\\ntargetId  \\ntargetTitle  \\nlevelNumber  \\nlevelId  \\ninactiveStudents  \\nstudents  {\\nid  \\nname  \\n}\\n\\nevaluationCriteria  {\\nid  \\nname  \\nmaxGrade  \\npassGrade  \\ngradeLabels  {\\ngrade  \\nlabel  \\n}\\n\\n}\\n\\nreviewChecklist  {\\ntitle  \\nresult  {\\ntitle  \\nfeedback  \\n}\\n\\n}\\n\\ntargetEvaluationCriteriaIds  \\nsubmissions  {\\nid  \\nevaluatorName  \\npassedAt  \\ncreatedAt  \\nevaluatedAt  \\nfiles  {\\nurl  \\ntitle  \\nid  \\n}\\n\\ngrades  {\\nevaluationCriterionId  \\ngrade  \\n}\\n\\nfeedback  {\\nid  \\ncoachName  \\ncoachAvatarUrl  \\ncoachTitle  \\ncreatedAt  \\nvalue  \\n}\\n\\nchecklist  \\n}\\n\\ncoachIds  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"submissionDetails\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"targetId\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeString(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field targetId on type SubmissionDetails is missing\");\n    }\n    var match$3 = Js_dict.get(value$2, \"targetTitle\");\n    var tmp$2;\n    if (match$3 !== undefined) {\n      var value$4 = Caml_option.valFromOption(match$3);\n      var match$4 = Js_json.decodeString(value$4);\n      tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field targetTitle on type SubmissionDetails is missing\");\n    }\n    var match$5 = Js_dict.get(value$2, \"levelNumber\");\n    var tmp$3;\n    if (match$5 !== undefined) {\n      var value$5 = Caml_option.valFromOption(match$5);\n      var match$6 = Js_json.decodeString(value$5);\n      tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field levelNumber on type SubmissionDetails is missing\");\n    }\n    var match$7 = Js_dict.get(value$2, \"levelId\");\n    var tmp$4;\n    if (match$7 !== undefined) {\n      var value$6 = Caml_option.valFromOption(match$7);\n      var match$8 = Js_json.decodeString(value$6);\n      tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n    } else {\n      tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type SubmissionDetails is missing\");\n    }\n    var match$9 = Js_dict.get(value$2, \"inactiveStudents\");\n    var tmp$5;\n    if (match$9 !== undefined) {\n      var value$7 = Caml_option.valFromOption(match$9);\n      var match$10 = Js_json.decodeBoolean(value$7);\n      tmp$5 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n    } else {\n      tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field inactiveStudents on type SubmissionDetails is missing\");\n    }\n    var match$11 = Js_dict.get(value$2, \"students\");\n    var match$12 = Js_dict.get(value$2, \"evaluationCriteria\");\n    var match$13 = Js_dict.get(value$2, \"reviewChecklist\");\n    var match$14 = Js_dict.get(value$2, \"targetEvaluationCriteriaIds\");\n    var match$15 = Js_dict.get(value$2, \"submissions\");\n    var match$16 = Js_dict.get(value$2, \"coachIds\");\n    tmp = {\n      targetId: tmp$1,\n      targetTitle: tmp$2,\n      levelNumber: tmp$3,\n      levelId: tmp$4,\n      inactiveStudents: tmp$5,\n      students: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"id\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type StudentMini is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"name\");\n                var tmp$1;\n                if (match$2 !== undefined) {\n                  var value$3 = Caml_option.valFromOption(match$2);\n                  var match$3 = Js_json.decodeString(value$3);\n                  tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                } else {\n                  tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type StudentMini is missing\");\n                }\n                return {\n                        id: tmp,\n                        name: tmp$1\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field students on type SubmissionDetails is missing\"),\n      evaluationCriteria: match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"id\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type EvaluationCriterion is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"name\");\n                var tmp$1;\n                if (match$2 !== undefined) {\n                  var value$3 = Caml_option.valFromOption(match$2);\n                  var match$3 = Js_json.decodeString(value$3);\n                  tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                } else {\n                  tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type EvaluationCriterion is missing\");\n                }\n                var match$4 = Js_dict.get(value$1, \"maxGrade\");\n                var tmp$2;\n                if (match$4 !== undefined) {\n                  var value$4 = Caml_option.valFromOption(match$4);\n                  var match$5 = Js_json.decodeNumber(value$4);\n                  tmp$2 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$4));\n                } else {\n                  tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field maxGrade on type EvaluationCriterion is missing\");\n                }\n                var match$6 = Js_dict.get(value$1, \"passGrade\");\n                var tmp$3;\n                if (match$6 !== undefined) {\n                  var value$5 = Caml_option.valFromOption(match$6);\n                  var match$7 = Js_json.decodeNumber(value$5);\n                  tmp$3 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n                } else {\n                  tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field passGrade on type EvaluationCriterion is missing\");\n                }\n                var match$8 = Js_dict.get(value$1, \"gradeLabels\");\n                return {\n                        id: tmp,\n                        name: tmp$1,\n                        maxGrade: tmp$2,\n                        passGrade: tmp$3,\n                        gradeLabels: match$8 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$8))).map((function (value) {\n                                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                  var match = Js_dict.get(value$1, \"grade\");\n                                  var tmp;\n                                  if (match !== undefined) {\n                                    var value$2 = Caml_option.valFromOption(match);\n                                    var match$1 = Js_json.decodeNumber(value$2);\n                                    tmp = match$1 !== undefined ? match$1 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$2));\n                                  } else {\n                                    tmp = Js_exn.raiseError(\"graphql_ppx: Field grade on type GradeAndLabel is missing\");\n                                  }\n                                  var match$2 = Js_dict.get(value$1, \"label\");\n                                  var tmp$1;\n                                  if (match$2 !== undefined) {\n                                    var value$3 = Caml_option.valFromOption(match$2);\n                                    var match$3 = Js_json.decodeString(value$3);\n                                    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                                  } else {\n                                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field label on type GradeAndLabel is missing\");\n                                  }\n                                  return {\n                                          grade: tmp,\n                                          label: tmp$1\n                                        };\n                                })) : Js_exn.raiseError(\"graphql_ppx: Field gradeLabels on type EvaluationCriterion is missing\")\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field evaluationCriteria on type SubmissionDetails is missing\"),\n      reviewChecklist: match$13 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$13))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"title\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field title on type ReviewChecklist is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"result\");\n                return {\n                        title: tmp,\n                        result: match$2 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$2))).map((function (value) {\n                                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                  var match = Js_dict.get(value$1, \"title\");\n                                  var tmp;\n                                  if (match !== undefined) {\n                                    var value$2 = Caml_option.valFromOption(match);\n                                    var match$1 = Js_json.decodeString(value$2);\n                                    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                  } else {\n                                    tmp = Js_exn.raiseError(\"graphql_ppx: Field title on type ReviewChecklistResult is missing\");\n                                  }\n                                  var match$2 = Js_dict.get(value$1, \"feedback\");\n                                  var tmp$1;\n                                  if (match$2 !== undefined) {\n                                    var value$3 = Caml_option.valFromOption(match$2);\n                                    var match$3 = Js_json.decodeNull(value$3);\n                                    if (match$3 !== undefined) {\n                                      tmp$1 = undefined;\n                                    } else {\n                                      var match$4 = Js_json.decodeString(value$3);\n                                      tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                                    }\n                                  } else {\n                                    tmp$1 = undefined;\n                                  }\n                                  return {\n                                          title: tmp,\n                                          feedback: tmp$1\n                                        };\n                                })) : Js_exn.raiseError(\"graphql_ppx: Field result on type ReviewChecklist is missing\")\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field reviewChecklist on type SubmissionDetails is missing\"),\n      targetEvaluationCriteriaIds: match$14 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$14))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field targetEvaluationCriteriaIds on type SubmissionDetails is missing\"),\n      submissions: match$15 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$15))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"id\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"evaluatorName\");\n                var tmp$1;\n                if (match$2 !== undefined) {\n                  var value$3 = Caml_option.valFromOption(match$2);\n                  var match$3 = Js_json.decodeNull(value$3);\n                  if (match$3 !== undefined) {\n                    tmp$1 = undefined;\n                  } else {\n                    var match$4 = Js_json.decodeString(value$3);\n                    tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                  }\n                } else {\n                  tmp$1 = undefined;\n                }\n                var match$5 = Js_dict.get(value$1, \"passedAt\");\n                var tmp$2;\n                if (match$5 !== undefined) {\n                  var value$4 = Caml_option.valFromOption(match$5);\n                  var match$6 = Js_json.decodeNull(value$4);\n                  tmp$2 = match$6 !== undefined ? undefined : Caml_option.some(value$4);\n                } else {\n                  tmp$2 = undefined;\n                }\n                var match$7 = Js_dict.get(value$1, \"createdAt\");\n                var match$8 = Js_dict.get(value$1, \"evaluatedAt\");\n                var tmp$3;\n                if (match$8 !== undefined) {\n                  var value$5 = Caml_option.valFromOption(match$8);\n                  var match$9 = Js_json.decodeNull(value$5);\n                  tmp$3 = match$9 !== undefined ? undefined : Caml_option.some(value$5);\n                } else {\n                  tmp$3 = undefined;\n                }\n                var match$10 = Js_dict.get(value$1, \"files\");\n                var match$11 = Js_dict.get(value$1, \"grades\");\n                var match$12 = Js_dict.get(value$1, \"feedback\");\n                var match$13 = Js_dict.get(value$1, \"checklist\");\n                return {\n                        id: tmp,\n                        evaluatorName: tmp$1,\n                        passedAt: tmp$2,\n                        createdAt: match$7 !== undefined ? Caml_option.valFromOption(match$7) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n                        evaluatedAt: tmp$3,\n                        files: match$10 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$10))).map((function (value) {\n                                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                  var match = Js_dict.get(value$1, \"url\");\n                                  var tmp;\n                                  if (match !== undefined) {\n                                    var value$2 = Caml_option.valFromOption(match);\n                                    var match$1 = Js_json.decodeString(value$2);\n                                    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                  } else {\n                                    tmp = Js_exn.raiseError(\"graphql_ppx: Field url on type SubmissionFile is missing\");\n                                  }\n                                  var match$2 = Js_dict.get(value$1, \"title\");\n                                  var tmp$1;\n                                  if (match$2 !== undefined) {\n                                    var value$3 = Caml_option.valFromOption(match$2);\n                                    var match$3 = Js_json.decodeString(value$3);\n                                    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                                  } else {\n                                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field title on type SubmissionFile is missing\");\n                                  }\n                                  var match$4 = Js_dict.get(value$1, \"id\");\n                                  var tmp$2;\n                                  if (match$4 !== undefined) {\n                                    var value$4 = Caml_option.valFromOption(match$4);\n                                    var match$5 = Js_json.decodeString(value$4);\n                                    tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                                  } else {\n                                    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type SubmissionFile is missing\");\n                                  }\n                                  return {\n                                          url: tmp,\n                                          title: tmp$1,\n                                          id: tmp$2\n                                        };\n                                })) : Js_exn.raiseError(\"graphql_ppx: Field files on type Submission is missing\"),\n                        grades: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map((function (value) {\n                                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                  var match = Js_dict.get(value$1, \"evaluationCriterionId\");\n                                  var tmp;\n                                  if (match !== undefined) {\n                                    var value$2 = Caml_option.valFromOption(match);\n                                    var match$1 = Js_json.decodeString(value$2);\n                                    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                  } else {\n                                    tmp = Js_exn.raiseError(\"graphql_ppx: Field evaluationCriterionId on type Grade is missing\");\n                                  }\n                                  var match$2 = Js_dict.get(value$1, \"grade\");\n                                  var tmp$1;\n                                  if (match$2 !== undefined) {\n                                    var value$3 = Caml_option.valFromOption(match$2);\n                                    var match$3 = Js_json.decodeNumber(value$3);\n                                    tmp$1 = match$3 !== undefined ? match$3 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$3));\n                                  } else {\n                                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field grade on type Grade is missing\");\n                                  }\n                                  return {\n                                          evaluationCriterionId: tmp,\n                                          grade: tmp$1\n                                        };\n                                })) : Js_exn.raiseError(\"graphql_ppx: Field grades on type Submission is missing\"),\n                        feedback: match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map((function (value) {\n                                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                  var match = Js_dict.get(value$1, \"id\");\n                                  var tmp;\n                                  if (match !== undefined) {\n                                    var value$2 = Caml_option.valFromOption(match);\n                                    var match$1 = Js_json.decodeString(value$2);\n                                    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                  } else {\n                                    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type SubmissionFeedback is missing\");\n                                  }\n                                  var match$2 = Js_dict.get(value$1, \"coachName\");\n                                  var tmp$1;\n                                  if (match$2 !== undefined) {\n                                    var value$3 = Caml_option.valFromOption(match$2);\n                                    var match$3 = Js_json.decodeString(value$3);\n                                    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                                  } else {\n                                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field coachName on type SubmissionFeedback is missing\");\n                                  }\n                                  var match$4 = Js_dict.get(value$1, \"coachAvatarUrl\");\n                                  var tmp$2;\n                                  if (match$4 !== undefined) {\n                                    var value$4 = Caml_option.valFromOption(match$4);\n                                    var match$5 = Js_json.decodeNull(value$4);\n                                    if (match$5 !== undefined) {\n                                      tmp$2 = undefined;\n                                    } else {\n                                      var match$6 = Js_json.decodeString(value$4);\n                                      tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                                    }\n                                  } else {\n                                    tmp$2 = undefined;\n                                  }\n                                  var match$7 = Js_dict.get(value$1, \"coachTitle\");\n                                  var tmp$3;\n                                  if (match$7 !== undefined) {\n                                    var value$5 = Caml_option.valFromOption(match$7);\n                                    var match$8 = Js_json.decodeString(value$5);\n                                    tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n                                  } else {\n                                    tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field coachTitle on type SubmissionFeedback is missing\");\n                                  }\n                                  var match$9 = Js_dict.get(value$1, \"createdAt\");\n                                  var match$10 = Js_dict.get(value$1, \"value\");\n                                  var tmp$4;\n                                  if (match$10 !== undefined) {\n                                    var value$6 = Caml_option.valFromOption(match$10);\n                                    var match$11 = Js_json.decodeString(value$6);\n                                    tmp$4 = match$11 !== undefined ? match$11 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n                                  } else {\n                                    tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field value on type SubmissionFeedback is missing\");\n                                  }\n                                  return {\n                                          id: tmp,\n                                          coachName: tmp$1,\n                                          coachAvatarUrl: tmp$2,\n                                          coachTitle: tmp$3,\n                                          createdAt: match$9 !== undefined ? Caml_option.valFromOption(match$9) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type SubmissionFeedback is missing\"),\n                                          value: tmp$4\n                                        };\n                                })) : Js_exn.raiseError(\"graphql_ppx: Field feedback on type Submission is missing\"),\n                        checklist: match$13 !== undefined ? Caml_option.valFromOption(match$13) : Js_exn.raiseError(\"graphql_ppx: Field checklist on type Submission is missing\")\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field submissions on type SubmissionDetails is missing\"),\n      coachIds: match$16 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$16))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type SubmissionDetails is missing\")\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field submissionDetails on type Query is missing\");\n  }\n  return {\n          submissionDetails: tmp\n        };\n}\n\nfunction make(submissionId, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"submissionId\",\n                    submissionId\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var submissionId = variables.submissionId;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"submissionId\",\n                    submissionId\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(submissionId, param) {\n  return Js_dict.fromArray([/* tuple */[\n                  \"submissionId\",\n                  submissionId\n                ]].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, submissionId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([/* tuple */[\n                      \"submissionId\",\n                      submissionId\n                    ]].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar SubmissionDetailsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateSubmissionDetails(setState, submissionId, syncSubmissionCB, details) {\n  var submissionDetails = CoursesReview__SubmissionDetails.decodeJs(details);\n  Curry._1(syncSubmissionCB, ArrayUtils.unsafeFind((function (submission) {\n              return CoursesReview__OverlaySubmission.id(submission) === submissionId;\n            }), \"Could not find overlaySubmission with ID \" + (submissionId + \" in loaded submissions\"), CoursesReview__SubmissionDetails.submissions(submissionDetails)));\n  return Curry._1(setState, (function (param) {\n                return /* Loaded */[submissionDetails];\n              }));\n}\n\nfunction getSubmissionDetails(submissionId, setState, syncSubmissionCB, param) {\n  Curry._1(setState, (function (param) {\n          return /* Loading */0;\n        }));\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(submissionId, /* () */0)).then((function (response) {\n          updateSubmissionDetails(setState, submissionId, syncSubmissionCB, response.submissionDetails);\n          return Promise.resolve(/* () */0);\n        }));\n  return ;\n}\n\nfunction closeOverlay(courseId) {\n  return ReasonReactRouter.push(\"/courses/\" + (courseId + \"/review\"));\n}\n\nfunction headerSection(submissionDetails, courseId, assignedCoaches) {\n  var studentCount = CoursesReview__SubmissionDetails.students(submissionDetails).length;\n  return React.createElement(\"div\", {\n              \"aria-label\": \"submissions-overlay-header\",\n              className: \"bg-gray-100 border-b border-gray-300 px-3 pt-12 xl:pt-10 flex justify-center\"\n            }, React.createElement(\"div\", {\n                  className: \"relative bg-white border lg:border-transparent p-4 lg:px-6 lg:py-5 flex flex-wrap items-center justify-between rounded-lg shadow container max-w-3xl -mb-12\"\n                }, React.createElement(\"div\", {\n                      \"aria-label\": \"submissions-overlay-close\",\n                      className: \"review-submission-overlay__close flex flex-col items-center justify-center absolute rounded-t-lg lg:rounded-lg leading-tight px-4 py-1 h-8 lg:h-full cursor-pointer border border-b-0 border-gray-400 lg:border-0 lg:shadow lg:border-gray-300 bg-white text-gray-700 hover:text-gray-900 hover:bg-gray-100\",\n                      onClick: (function (param) {\n                          return closeOverlay(courseId);\n                        })\n                    }, React.createElement(Icon.make, {\n                          className: \"if i-times-regular text-xl lg:text-2xl mt-1 lg:mt-0\"\n                        }), React.createElement(\"span\", {\n                          className: \"text-xs hidden lg:inline-block mt-px\"\n                        }, \"close\")), React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                          className: \"block text-sm md:pr-2\"\n                        }, React.createElement(\"span\", {\n                              className: \"bg-gray-300 text-xs font-semibold px-2 py-px rounded\"\n                            }, \"Level \" + CoursesReview__SubmissionDetails.levelNumber(submissionDetails)), React.createElement(\"a\", {\n                              className: \"ml-2 font-semibold underline text-gray-900 hover:bg-primary-100 hover:text-primary-600 text-sm md:text-lg\",\n                              href: \"/targets/\" + CoursesReview__SubmissionDetails.targetId(submissionDetails),\n                              target: \"_blank\"\n                            }, CoursesReview__SubmissionDetails.targetTitle(submissionDetails))), React.createElement(\"div\", {\n                          className: \"text-left mt-1 text-xs text-gray-800\"\n                        }, React.createElement(\"span\", undefined, \"Submitted by \"), $$Array.mapi((function (index, student) {\n                                var commaRequired = (index + 1 | 0) !== studentCount;\n                                return React.createElement(\"span\", {\n                                            key: CoursesReview__Student.id(student)\n                                          }, React.createElement(\"a\", {\n                                                className: \"font-semibold underline\",\n                                                href: \"/students/\" + (CoursesReview__Student.id(student) + \"/report\"),\n                                                target: \"_blank\"\n                                              }, CoursesReview__Student.name(student)), commaRequired ? \", \" : \"\");\n                              }), CoursesReview__SubmissionDetails.students(submissionDetails)))), React.createElement(CoursesStudents__TeamCoaches.make, {\n                      tooltipPosition: /* Bottom */437082891,\n                      defaultAvatarSize: \"8\",\n                      mdAvatarSize: \"8\",\n                      title: React.createElement(\"span\", {\n                            className: \"mr-2\"\n                          }, \"Assigned Coaches\"),\n                      className: \"mt-2 flex w-full md:w-auto items-center flex-shrink-0\",\n                      coaches: assignedCoaches\n                    })));\n}\n\nfunction updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission) {\n  var newSubmissionDetails = CoursesReview__SubmissionDetails.updateSubmission(overlaySubmission, submissionDetails);\n  Curry._1(setState, (function (param) {\n          return /* Loaded */[newSubmissionDetails];\n        }));\n  return newSubmissionDetails;\n}\n\nfunction addGrading(setState, removePendingSubmissionCB, submissionDetails, overlaySubmission) {\n  updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission);\n  return Curry._1(removePendingSubmissionCB, /* () */0);\n}\n\nfunction addFeedbackToReviewedSubmission(setState, updateReviewedSubmissionCB, submissionDetails, overlaySubmission) {\n  return Curry._1(updateReviewedSubmissionCB, CoursesReview__SubmissionDetails.makeIndexSubmission(overlaySubmission, updateSubmissionDetails$1(setState, submissionDetails, overlaySubmission)));\n}\n\nfunction updateReviewChecklist(submissionDetails, setState, reviewChecklist) {\n  return Curry._1(setState, (function (param) {\n                return /* Loaded */[CoursesReview__SubmissionDetails.updateReviewChecklist(reviewChecklist, submissionDetails)];\n              }));\n}\n\nfunction inactiveWarning(submissionDetails) {\n  if (CoursesReview__SubmissionDetails.inactiveStudents(submissionDetails)) {\n    var warning = CoursesReview__SubmissionDetails.students(submissionDetails).length > 1 ? \"This submission is linked to one or more students whose access to the course has ended, or have dropped out.\" : \"This submission is from a student whose access to the course has ended, or has dropped out.\";\n    return React.createElement(\"div\", {\n                className: \"border border-yellow-400 rounded bg-yellow-400 py-2 px-3\"\n              }, React.createElement(\"i\", {\n                    className: \"fas fa-exclamation-triangle\"\n                  }), React.createElement(\"span\", {\n                    className: \"ml-2\"\n                  }, warning));\n  } else {\n    return null;\n  }\n}\n\nfunction CoursesReview__SubmissionOverlay(Props) {\n  var courseId = Props.courseId;\n  var submissionId = Props.submissionId;\n  var teamCoaches = Props.teamCoaches;\n  var currentCoach = Props.currentCoach;\n  var syncSubmissionCB = Props.syncSubmissionCB;\n  var removePendingSubmissionCB = Props.removePendingSubmissionCB;\n  var updateReviewedSubmissionCB = Props.updateReviewedSubmissionCB;\n  var match = React.useState((function () {\n          return /* Loading */0;\n        }));\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          ScrollLock.activate(/* () */0);\n          return (function (param) {\n                    return ScrollLock.deactivate(/* () */0);\n                  });\n        }));\n  React.useEffect((function () {\n          return getSubmissionDetails(submissionId, setState, syncSubmissionCB, /* () */0);\n        }), [submissionId]);\n  var tmp;\n  if (state) {\n    var submissionDetails = state[0];\n    var assignedCoaches = teamCoaches.filter((function (coach) {\n            return $$Array.mem(UserProxy.id(coach), CoursesReview__SubmissionDetails.coachIds(submissionDetails));\n          }));\n    tmp = React.createElement(\"div\", undefined, headerSection(submissionDetails, courseId, assignedCoaches), React.createElement(\"div\", {\n              className: \"container mx-auto mt-16 md:mt-18 max-w-3xl px-3 lg:px-0\"\n            }, inactiveWarning(submissionDetails)), React.createElement(\"div\", {\n              className: \"review-submission-overlay__submission-container relative container mx-auto max-w-3xl px-3 lg:px-0 pb-8\"\n            }, $$Array.mapi((function (index, overlaySubmission) {\n                    return React.createElement(CoursesReview__SubmissionsList.make, {\n                                overlaySubmission: overlaySubmission,\n                                teamSubmission: CoursesReview__SubmissionDetails.students(submissionDetails).length > 1,\n                                addGradingCB: (function (param) {\n                                    return addGrading(setState, removePendingSubmissionCB, submissionDetails, param);\n                                  }),\n                                addFeedbackCB: (function (param) {\n                                    return addFeedbackToReviewedSubmission(setState, updateReviewedSubmissionCB, submissionDetails, param);\n                                  }),\n                                submissionNumber: CoursesReview__SubmissionDetails.submissions(submissionDetails).length - index | 0,\n                                currentCoach: currentCoach,\n                                evaluationCriteria: CoursesReview__SubmissionDetails.evaluationCriteria(submissionDetails),\n                                reviewChecklist: CoursesReview__SubmissionDetails.reviewChecklist(submissionDetails),\n                                updateReviewChecklistCB: (function (param) {\n                                    return updateReviewChecklist(submissionDetails, setState, param);\n                                  }),\n                                targetId: CoursesReview__SubmissionDetails.targetId(submissionDetails),\n                                targetEvaluationCriteriaIds: CoursesReview__SubmissionDetails.targetEvaluationCriteriaIds(submissionDetails),\n                                key: String(index)\n                              });\n                  }), CoursesReview__SubmissionDetails.submissions(submissionDetails))));\n  } else {\n    tmp = React.createElement(\"div\", undefined, React.createElement(\"div\", {\n              className: \"bg-gray-100 py-4\"\n            }, React.createElement(\"div\", {\n                  className: \"max-w-3xl mx-auto\"\n                }, SkeletonLoading.card(undefined, /* () */0))), React.createElement(\"div\", {\n              className: \"max-w-3xl mx-auto\"\n            }, SkeletonLoading.heading(/* () */0), SkeletonLoading.paragraph(/* () */0), SkeletonLoading.profileCard(/* () */0), SkeletonLoading.paragraph(/* () */0)));\n  }\n  return React.createElement(\"div\", {\n              className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll bg-white\"\n            }, tmp);\n}\n\nvar make$1 = CoursesReview__SubmissionOverlay;\n\nexports.str = str;\nexports.SubmissionDetailsQuery = SubmissionDetailsQuery;\nexports.getSubmissionDetails = getSubmissionDetails;\nexports.closeOverlay = closeOverlay;\nexports.headerSection = headerSection;\nexports.updateSubmissionDetails = updateSubmissionDetails$1;\nexports.addGrading = addGrading;\nexports.addFeedbackToReviewedSubmission = addFeedbackToReviewedSubmission;\nexports.updateReviewChecklist = updateReviewChecklist;\nexports.inactiveWarning = inactiveWarning;\nexports.make = make$1;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}