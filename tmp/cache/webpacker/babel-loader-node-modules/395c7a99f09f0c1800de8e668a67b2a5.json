{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar DisablingCover = require(\"../../../shared/components/DisablingCover.bs.js\");\n\nvar MarkdownEditor = require(\"../../../shared/components/MarkdownEditor.bs.js\");\n\nvar CoursesStudents__CoachNote = require(\"../types/CoursesStudents__CoachNote.bs.js\");\n\nvar CoursesStudents__CoachNoteShow = require(\"./CoursesStudents__CoachNoteShow.bs.js\");\n\nrequire(\"./CoursesStudents__StudentOverlay.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateCoachNoteMutation($studentId: ID!, $note: String!)  {\\ncreateCoachNote(studentId: $studentId, note: $note)  {\\ncoachNote  {\\nid  \\nnote  \\ncreatedAt  \\nauthor  {\\nid  \\navatarUrl  \\nname  \\ntitle  \\n}\\n\\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createCoachNote\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"coachNote\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type CoachNote is missing\");\n        }\n\n        var match$5 = Js_dict.get(value$4, \"note\");\n        var tmp$3;\n\n        if (match$5 !== undefined) {\n          var value$6 = Caml_option.valFromOption(match$5);\n          var match$6 = Js_json.decodeString(value$6);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field note on type CoachNote is missing\");\n        }\n\n        var match$7 = Js_dict.get(value$4, \"createdAt\");\n        var match$8 = Js_dict.get(value$4, \"author\");\n        var tmp$4;\n\n        if (match$8 !== undefined) {\n          var value$7 = Caml_option.valFromOption(match$8);\n          var match$9 = Js_json.decodeNull(value$7);\n\n          if (match$9 !== undefined) {\n            tmp$4 = undefined;\n          } else {\n            var value$8 = Js_option.getExn(Js_json.decodeObject(value$7));\n            var match$10 = Js_dict.get(value$8, \"id\");\n            var tmp$5;\n\n            if (match$10 !== undefined) {\n              var value$9 = Caml_option.valFromOption(match$10);\n              var match$11 = Js_json.decodeString(value$9);\n              tmp$5 = match$11 !== undefined ? match$11 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n            } else {\n              tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field id on type User is missing\");\n            }\n\n            var match$12 = Js_dict.get(value$8, \"avatarUrl\");\n            var tmp$6;\n\n            if (match$12 !== undefined) {\n              var value$10 = Caml_option.valFromOption(match$12);\n              var match$13 = Js_json.decodeNull(value$10);\n\n              if (match$13 !== undefined) {\n                tmp$6 = undefined;\n              } else {\n                var match$14 = Js_json.decodeString(value$10);\n                tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$10));\n              }\n            } else {\n              tmp$6 = undefined;\n            }\n\n            var match$15 = Js_dict.get(value$8, \"name\");\n            var tmp$7;\n\n            if (match$15 !== undefined) {\n              var value$11 = Caml_option.valFromOption(match$15);\n              var match$16 = Js_json.decodeString(value$11);\n              tmp$7 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$11));\n            } else {\n              tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field name on type User is missing\");\n            }\n\n            var match$17 = Js_dict.get(value$8, \"title\");\n            var tmp$8;\n\n            if (match$17 !== undefined) {\n              var value$12 = Caml_option.valFromOption(match$17);\n              var match$18 = Js_json.decodeString(value$12);\n              tmp$8 = match$18 !== undefined ? match$18 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$12));\n            } else {\n              tmp$8 = Js_exn.raiseError(\"graphql_ppx: Field title on type User is missing\");\n            }\n\n            tmp$4 = {\n              id: tmp$5,\n              avatarUrl: tmp$6,\n              name: tmp$7,\n              title: tmp$8\n            };\n          }\n        } else {\n          tmp$4 = undefined;\n        }\n\n        tmp$1 = {\n          id: tmp$2,\n          note: tmp$3,\n          createdAt: match$7 !== undefined ? Caml_option.valFromOption(match$7) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type CoachNote is missing\"),\n          author: tmp$4\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      coachNote: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createCoachNote on type Mutation is missing\");\n  }\n\n  return {\n    createCoachNote: tmp\n  };\n}\n\nfunction make(studentId, note, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"studentId\", studentId],\n    /* tuple */\n    [\"note\", note]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var studentId = variables.studentId;\n  var note = variables.note;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"studentId\", studentId],\n    /* tuple */\n    [\"note\", note]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(studentId, note, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"studentId\", studentId],\n  /* tuple */\n  [\"note\", note]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, studentId, note, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"studentId\", studentId],\n  /* tuple */\n  [\"note\", note]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CreateCoachNotesMutation = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction saveNote(studentId, setState, state, addNoteCB) {\n  Curry._1(setState, function (state) {\n    return {\n      newNote: state.newNote,\n      saving: true\n    };\n  });\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(studentId, state.newNote,\n  /* () */\n  0)).then(function (response) {\n    var match = response.createCoachNote.coachNote;\n\n    if (match !== undefined) {\n      var newNote = CoursesStudents__CoachNote.makeFromJs(Caml_option.valFromOption(match));\n\n      Curry._1(addNoteCB, newNote);\n\n      Curry._1(setState, function (param) {\n        return {\n          newNote: \"\",\n          saving: false\n        };\n      });\n    } else {\n      Curry._1(setState, function (state) {\n        return {\n          newNote: state.newNote,\n          saving: false\n        };\n      });\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  })[\"catch\"](function (_error) {\n    Curry._1(setState, function (state) {\n      return {\n        newNote: state.newNote,\n        saving: false\n      };\n    });\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction updateCoachNoteCB(setState, newNote) {\n  return Curry._1(setState, function (state) {\n    return {\n      newNote: newNote,\n      saving: state.saving\n    };\n  });\n}\n\nfunction saveNoteButtonText(title, iconClasses) {\n  return React.createElement(\"span\", undefined, React.createElement(FaIcon.make, {\n    classes: iconClasses + \" mr-2\"\n  }), title);\n}\n\nfunction CoursesStudents__CoachNotes(Props) {\n  var studentId = Props.studentId;\n  var coachNotes = Props.coachNotes;\n  var addNoteCB = Props.addNoteCB;\n  var removeNoteCB = Props.removeNoteCB;\n  var userId = Props.userId;\n  var match = React.useState(function () {\n    return {\n      newNote: \"\",\n      saving: false\n    };\n  });\n  var setState = match[1];\n  var state = match[0];\n  return React.createElement(\"div\", {\n    className: \"mt-3 text-sm\"\n  }, React.createElement(\"label\", {\n    className: \"font-semibold text-sm block mb-1\",\n    htmlFor: \"course-students__coach-notes-new-note\"\n  }, \"Add a New Note\"), React.createElement(DisablingCover.make, {\n    disabled: state.saving,\n    message: \"Saving...\",\n    children: React.createElement(MarkdownEditor.make, {\n      value: state.newNote,\n      onChange: function onChange(param) {\n        return updateCoachNoteCB(setState, param);\n      },\n      profile:\n      /* Permissive */\n      2,\n      textareaId: \"course-students__coach-notes-new-note\",\n      maxLength: 10000\n    })\n  }), React.createElement(\"button\", {\n    className: \"btn btn-primary mt-2\",\n    disabled: state.newNote.length < 1 || state.saving,\n    onClick: function onClick(param) {\n      return saveNote(studentId, setState, state, addNoteCB);\n    }\n  }, state.saving ? saveNoteButtonText(\"Saving\", \"fas fa-spinner\") : saveNoteButtonText(\"Save Note\", \"\")), React.createElement(\"div\", undefined, React.createElement(\"h6\", {\n    className: \"font-semibold mt-6\"\n  }, \"All Notes\"), ArrayUtils.isEmpty(coachNotes) ? React.createElement(\"div\", {\n    className: \"bg-gray-200 rounded text-center p-4 md:p-6 items-center justify-center mt-2\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-sticky-note text-gray-400 text-4xl\"\n  }), React.createElement(\"p\", {\n    className: \"text-xs font-semibold text-gray-700 mt-2\"\n  }, \"No notes here!\")) : null, $$Array.map(function (note) {\n    return React.createElement(CoursesStudents__CoachNoteShow.make, {\n      note: note,\n      userId: userId,\n      removeNoteCB: removeNoteCB,\n      key: CoursesStudents__CoachNote.id(note)\n    });\n  }, CoursesStudents__CoachNote.sort(coachNotes))));\n}\n\nvar make$1 = CoursesStudents__CoachNotes;\nexports.str = str;\nexports.CreateCoachNotesMutation = CreateCoachNotesMutation;\nexports.saveNote = saveNote;\nexports.updateCoachNoteCB = updateCoachNoteCB;\nexports.saveNoteButtonText = saveNoteButtonText;\nexports.make = make$1;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/students/components/CoursesStudents__CoachNotes.bs.js"],"names":["$$Array","require","Curry","React","FaIcon","Js_exn","Js_dict","Js_json","Js_option","ArrayUtils","Caml_option","GraphqlQuery","DisablingCover","MarkdownEditor","CoursesStudents__CoachNote","CoursesStudents__CoachNoteShow","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","value$4","match$3","tmp$2","value$5","match$4","decodeString","raiseError","JSON","stringify","match$5","tmp$3","value$6","match$6","match$7","match$8","tmp$4","value$7","match$9","value$8","match$10","tmp$5","value$9","match$11","match$12","tmp$6","value$10","match$13","match$14","match$15","tmp$7","value$11","match$16","match$17","tmp$8","value$12","match$18","id","avatarUrl","name","title","note","createdAt","author","coachNote","createCoachNote","make","studentId","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","CreateCoachNotesMutation","saveNote","setState","state","addNoteCB","newNote","saving","eta","sendQuery","then","response","makeFromJs","Promise","resolve","_error","updateCoachNoteCB","saveNoteButtonText","iconClasses","createElement","classes","CoursesStudents__CoachNotes","Props","coachNotes","removeNoteCB","userId","useState","className","htmlFor","disabled","message","children","onChange","profile","textareaId","maxLength","length","onClick","isEmpty","map","key","sort","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\nvar DisablingCover = require(\"../../../shared/components/DisablingCover.bs.js\");\nvar MarkdownEditor = require(\"../../../shared/components/MarkdownEditor.bs.js\");\nvar CoursesStudents__CoachNote = require(\"../types/CoursesStudents__CoachNote.bs.js\");\nvar CoursesStudents__CoachNoteShow = require(\"./CoursesStudents__CoachNoteShow.bs.js\");\n\n((require(\"./CoursesStudents__StudentOverlay.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateCoachNoteMutation($studentId: ID!, $note: String!)  {\\ncreateCoachNote(studentId: $studentId, note: $note)  {\\ncoachNote  {\\nid  \\nnote  \\ncreatedAt  \\nauthor  {\\nid  \\navatarUrl  \\nname  \\ntitle  \\n}\\n\\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createCoachNote\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"coachNote\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type CoachNote is missing\");\n        }\n        var match$5 = Js_dict.get(value$4, \"note\");\n        var tmp$3;\n        if (match$5 !== undefined) {\n          var value$6 = Caml_option.valFromOption(match$5);\n          var match$6 = Js_json.decodeString(value$6);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field note on type CoachNote is missing\");\n        }\n        var match$7 = Js_dict.get(value$4, \"createdAt\");\n        var match$8 = Js_dict.get(value$4, \"author\");\n        var tmp$4;\n        if (match$8 !== undefined) {\n          var value$7 = Caml_option.valFromOption(match$8);\n          var match$9 = Js_json.decodeNull(value$7);\n          if (match$9 !== undefined) {\n            tmp$4 = undefined;\n          } else {\n            var value$8 = Js_option.getExn(Js_json.decodeObject(value$7));\n            var match$10 = Js_dict.get(value$8, \"id\");\n            var tmp$5;\n            if (match$10 !== undefined) {\n              var value$9 = Caml_option.valFromOption(match$10);\n              var match$11 = Js_json.decodeString(value$9);\n              tmp$5 = match$11 !== undefined ? match$11 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n            } else {\n              tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field id on type User is missing\");\n            }\n            var match$12 = Js_dict.get(value$8, \"avatarUrl\");\n            var tmp$6;\n            if (match$12 !== undefined) {\n              var value$10 = Caml_option.valFromOption(match$12);\n              var match$13 = Js_json.decodeNull(value$10);\n              if (match$13 !== undefined) {\n                tmp$6 = undefined;\n              } else {\n                var match$14 = Js_json.decodeString(value$10);\n                tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$10));\n              }\n            } else {\n              tmp$6 = undefined;\n            }\n            var match$15 = Js_dict.get(value$8, \"name\");\n            var tmp$7;\n            if (match$15 !== undefined) {\n              var value$11 = Caml_option.valFromOption(match$15);\n              var match$16 = Js_json.decodeString(value$11);\n              tmp$7 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$11));\n            } else {\n              tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field name on type User is missing\");\n            }\n            var match$17 = Js_dict.get(value$8, \"title\");\n            var tmp$8;\n            if (match$17 !== undefined) {\n              var value$12 = Caml_option.valFromOption(match$17);\n              var match$18 = Js_json.decodeString(value$12);\n              tmp$8 = match$18 !== undefined ? match$18 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$12));\n            } else {\n              tmp$8 = Js_exn.raiseError(\"graphql_ppx: Field title on type User is missing\");\n            }\n            tmp$4 = {\n              id: tmp$5,\n              avatarUrl: tmp$6,\n              name: tmp$7,\n              title: tmp$8\n            };\n          }\n        } else {\n          tmp$4 = undefined;\n        }\n        tmp$1 = {\n          id: tmp$2,\n          note: tmp$3,\n          createdAt: match$7 !== undefined ? Caml_option.valFromOption(match$7) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type CoachNote is missing\"),\n          author: tmp$4\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      coachNote: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createCoachNote on type Mutation is missing\");\n  }\n  return {\n          createCoachNote: tmp\n        };\n}\n\nfunction make(studentId, note, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"studentId\",\n                    studentId\n                  ],\n                  /* tuple */[\n                    \"note\",\n                    note\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var studentId = variables.studentId;\n  var note = variables.note;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"studentId\",\n                    studentId\n                  ],\n                  /* tuple */[\n                    \"note\",\n                    note\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(studentId, note, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"studentId\",\n                  studentId\n                ],\n                /* tuple */[\n                  \"note\",\n                  note\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, studentId, note, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"studentId\",\n                      studentId\n                    ],\n                    /* tuple */[\n                      \"note\",\n                      note\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CreateCoachNotesMutation = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction saveNote(studentId, setState, state, addNoteCB) {\n  Curry._1(setState, (function (state) {\n          return {\n                  newNote: state.newNote,\n                  saving: true\n                };\n        }));\n  (function (eta) {\n            return GraphqlQuery.sendQuery(undefined, eta);\n          })(make(studentId, state.newNote, /* () */0)).then((function (response) {\n            var match = response.createCoachNote.coachNote;\n            if (match !== undefined) {\n              var newNote = CoursesStudents__CoachNote.makeFromJs(Caml_option.valFromOption(match));\n              Curry._1(addNoteCB, newNote);\n              Curry._1(setState, (function (param) {\n                      return {\n                              newNote: \"\",\n                              saving: false\n                            };\n                    }));\n            } else {\n              Curry._1(setState, (function (state) {\n                      return {\n                              newNote: state.newNote,\n                              saving: false\n                            };\n                    }));\n            }\n            return Promise.resolve(/* () */0);\n          })).catch((function (_error) {\n          Curry._1(setState, (function (state) {\n                  return {\n                          newNote: state.newNote,\n                          saving: false\n                        };\n                }));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction updateCoachNoteCB(setState, newNote) {\n  return Curry._1(setState, (function (state) {\n                return {\n                        newNote: newNote,\n                        saving: state.saving\n                      };\n              }));\n}\n\nfunction saveNoteButtonText(title, iconClasses) {\n  return React.createElement(\"span\", undefined, React.createElement(FaIcon.make, {\n                  classes: iconClasses + \" mr-2\"\n                }), title);\n}\n\nfunction CoursesStudents__CoachNotes(Props) {\n  var studentId = Props.studentId;\n  var coachNotes = Props.coachNotes;\n  var addNoteCB = Props.addNoteCB;\n  var removeNoteCB = Props.removeNoteCB;\n  var userId = Props.userId;\n  var match = React.useState((function () {\n          return {\n                  newNote: \"\",\n                  saving: false\n                };\n        }));\n  var setState = match[1];\n  var state = match[0];\n  return React.createElement(\"div\", {\n              className: \"mt-3 text-sm\"\n            }, React.createElement(\"label\", {\n                  className: \"font-semibold text-sm block mb-1\",\n                  htmlFor: \"course-students__coach-notes-new-note\"\n                }, \"Add a New Note\"), React.createElement(DisablingCover.make, {\n                  disabled: state.saving,\n                  message: \"Saving...\",\n                  children: React.createElement(MarkdownEditor.make, {\n                        value: state.newNote,\n                        onChange: (function (param) {\n                            return updateCoachNoteCB(setState, param);\n                          }),\n                        profile: /* Permissive */2,\n                        textareaId: \"course-students__coach-notes-new-note\",\n                        maxLength: 10000\n                      })\n                }), React.createElement(\"button\", {\n                  className: \"btn btn-primary mt-2\",\n                  disabled: state.newNote.length < 1 || state.saving,\n                  onClick: (function (param) {\n                      return saveNote(studentId, setState, state, addNoteCB);\n                    })\n                }, state.saving ? saveNoteButtonText(\"Saving\", \"fas fa-spinner\") : saveNoteButtonText(\"Save Note\", \"\")), React.createElement(\"div\", undefined, React.createElement(\"h6\", {\n                      className: \"font-semibold mt-6\"\n                    }, \"All Notes\"), ArrayUtils.isEmpty(coachNotes) ? React.createElement(\"div\", {\n                        className: \"bg-gray-200 rounded text-center p-4 md:p-6 items-center justify-center mt-2\"\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-sticky-note text-gray-400 text-4xl\"\n                          }), React.createElement(\"p\", {\n                            className: \"text-xs font-semibold text-gray-700 mt-2\"\n                          }, \"No notes here!\")) : null, $$Array.map((function (note) {\n                        return React.createElement(CoursesStudents__CoachNoteShow.make, {\n                                    note: note,\n                                    userId: userId,\n                                    removeNoteCB: removeNoteCB,\n                                    key: CoursesStudents__CoachNote.id(note)\n                                  });\n                      }), CoursesStudents__CoachNote.sort(coachNotes))));\n}\n\nvar make$1 = CoursesStudents__CoachNotes;\n\nexports.str = str;\nexports.CreateCoachNotesMutation = CreateCoachNotesMutation;\nexports.saveNote = saveNote;\nexports.updateCoachNoteCB = updateCoachNoteCB;\nexports.saveNoteButtonText = saveNoteButtonText;\nexports.make = make$1;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}