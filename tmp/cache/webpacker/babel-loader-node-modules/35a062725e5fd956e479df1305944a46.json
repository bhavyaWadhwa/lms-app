{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar FaIcon = require(\"../../../../shared/components/FaIcon.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\n\nvar ppx_printed_query = \"mutation DropoutStudentMutation($id: ID!)  {\\ndropoutStudent(id: $id)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"dropoutStudent\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type DropoutStudentPayload is missing\");\n    }\n\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field dropoutStudent on type Mutation is missing\");\n  }\n\n  return {\n    dropoutStudent: tmp\n  };\n}\n\nfunction make(id, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var id = variables.id;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(id, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, id, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar DropoutStudentQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction dropoutStudent(id, setSaving, reloadTeamsCB, $$event) {\n  $$event.preventDefault();\n\n  Curry._1(setSaving, function (param) {\n    return true;\n  });\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(id,\n  /* () */\n  0)).then(function (response) {\n    if (response.dropoutStudent.success) {\n      Curry._1(reloadTeamsCB,\n      /* () */\n      0);\n    } else {\n      Curry._1(setSaving, function (param) {\n        return false;\n      });\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction submitButtonIcons(saving) {\n  if (saving) {\n    return \"fas fa-spinner fa-spin\";\n  } else {\n    return \"fa fa-exclamation-triangle\";\n  }\n}\n\nfunction StudentsEditor__ActionsForm(Props) {\n  var student = Props.student;\n  var reloadTeamsCB = Props.reloadTeamsCB;\n  var match = React.useState(function () {\n    return false;\n  });\n  var setSaving = match[1];\n  var saving = match[0];\n  var partial_arg = StudentsEditor__Student.id(student);\n  return React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"tracking-wide text-xs font-semibold\",\n    htmlFor: \"access-ends-at-input\"\n  }, \"Has this student dropped out?\"), React.createElement(HelpIcon.make, {\n    className: \"ml-2\",\n    link: \"https://docs.pupilfirst.com/#/students?id=student-actions\",\n    children: \"Marking a student as dropped out will remove all of their access to the course.\"\n  }), React.createElement(\"div\", {\n    className: \"mt-2\"\n  }, React.createElement(\"button\", {\n    className: \"btn btn-danger btn-large\",\n    disabled: saving,\n    onClick: function onClick(param) {\n      return dropoutStudent(partial_arg, setSaving, reloadTeamsCB, param);\n    }\n  }, React.createElement(FaIcon.make, {\n    classes: saving ? \"fas fa-spinner fa-spin\" : \"fa fa-exclamation-triangle\"\n  }), React.createElement(\"span\", {\n    className: \"ml-2\"\n  }, \"Dropout Student\"))));\n}\n\nvar make$1 = StudentsEditor__ActionsForm;\nexports.DropoutStudentQuery = DropoutStudentQuery;\nexports.dropoutStudent = dropoutStudent;\nexports.str = str;\nexports.submitButtonIcons = submitButtonIcons;\nexports.make = make$1;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/students_editor/StudentsEditor__ActionsForm.bs.js"],"names":["Curry","require","React","FaIcon","Js_exn","Js_dict","Js_json","HelpIcon","Js_option","Caml_option","GraphqlQuery","StudentsEditor__Student","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeBoolean","raiseError","JSON","stringify","success","dropoutStudent","make","id","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","DropoutStudentQuery","setSaving","reloadTeamsCB","$$event","preventDefault","eta","sendQuery","then","response","Promise","resolve","str","prim","submitButtonIcons","saving","StudentsEditor__ActionsForm","Props","student","useState","partial_arg","createElement","className","htmlFor","link","children","disabled","onClick","classes","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar FaIcon = require(\"../../../../shared/components/FaIcon.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\n\nvar ppx_printed_query = \"mutation DropoutStudentMutation($id: ID!)  {\\ndropoutStudent(id: $id)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"dropoutStudent\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type DropoutStudentPayload is missing\");\n    }\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field dropoutStudent on type Mutation is missing\");\n  }\n  return {\n          dropoutStudent: tmp\n        };\n}\n\nfunction make(id, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"id\",\n                    id\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var id = variables.id;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"id\",\n                    id\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(id, param) {\n  return Js_dict.fromArray([/* tuple */[\n                  \"id\",\n                  id\n                ]].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, id, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([/* tuple */[\n                      \"id\",\n                      id\n                    ]].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar DropoutStudentQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction dropoutStudent(id, setSaving, reloadTeamsCB, $$event) {\n  $$event.preventDefault();\n  Curry._1(setSaving, (function (param) {\n          return true;\n        }));\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(id, /* () */0)).then((function (response) {\n          if (response.dropoutStudent.success) {\n            Curry._1(reloadTeamsCB, /* () */0);\n          } else {\n            Curry._1(setSaving, (function (param) {\n                    return false;\n                  }));\n          }\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction submitButtonIcons(saving) {\n  if (saving) {\n    return \"fas fa-spinner fa-spin\";\n  } else {\n    return \"fa fa-exclamation-triangle\";\n  }\n}\n\nfunction StudentsEditor__ActionsForm(Props) {\n  var student = Props.student;\n  var reloadTeamsCB = Props.reloadTeamsCB;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setSaving = match[1];\n  var saving = match[0];\n  var partial_arg = StudentsEditor__Student.id(student);\n  return React.createElement(\"div\", {\n              className: \"mt-5\"\n            }, React.createElement(\"label\", {\n                  className: \"tracking-wide text-xs font-semibold\",\n                  htmlFor: \"access-ends-at-input\"\n                }, \"Has this student dropped out?\"), React.createElement(HelpIcon.make, {\n                  className: \"ml-2\",\n                  link: \"https://docs.pupilfirst.com/#/students?id=student-actions\",\n                  children: \"Marking a student as dropped out will remove all of their access to the course.\"\n                }), React.createElement(\"div\", {\n                  className: \"mt-2\"\n                }, React.createElement(\"button\", {\n                      className: \"btn btn-danger btn-large\",\n                      disabled: saving,\n                      onClick: (function (param) {\n                          return dropoutStudent(partial_arg, setSaving, reloadTeamsCB, param);\n                        })\n                    }, React.createElement(FaIcon.make, {\n                          classes: saving ? \"fas fa-spinner fa-spin\" : \"fa fa-exclamation-triangle\"\n                        }), React.createElement(\"span\", {\n                          className: \"ml-2\"\n                        }, \"Dropout Student\"))));\n}\n\nvar make$1 = StudentsEditor__ActionsForm;\n\nexports.DropoutStudentQuery = DropoutStudentQuery;\nexports.dropoutStudent = dropoutStudent;\nexports.str = str;\nexports.submitButtonIcons = submitButtonIcons;\nexports.make = make$1;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}