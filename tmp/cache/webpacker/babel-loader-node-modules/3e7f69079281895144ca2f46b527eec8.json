{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\n\nvar Link = require(\"../../../shared/components/Link.bs.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Avatar = require(\"../../../shared/Avatar.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\n\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\n\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\n\nvar CoursesStudents__Level = require(\"../types/CoursesStudents__Level.bs.js\");\n\nvar CoursesStudents__TeamInfo = require(\"../types/CoursesStudents__TeamInfo.bs.js\");\n\nvar CoursesStudents__CoachNotes = require(\"./CoursesStudents__CoachNotes.bs.js\");\n\nvar CoursesStudents__TeamCoaches = require(\"./CoursesStudents__TeamCoaches.bs.js\");\n\nvar CoursesStudents__StudentDetails = require(\"../types/CoursesStudents__StudentDetails.bs.js\");\n\nvar CoursesStudents__SubmissionsList = require(\"./CoursesStudents__SubmissionsList.bs.js\");\n\nvar CoursesStudents__EvaluationCriterion = require(\"../types/CoursesStudents__EvaluationCriterion.bs.js\");\n\nrequire(\"./CoursesStudents__StudentOverlay.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialState = {\n  selectedTab:\n  /* Notes */\n  0,\n  studentData:\n  /* Loading */\n  0,\n  submissions:\n  /* Unloaded */\n  0\n};\n\nfunction closeOverlay(courseId) {\n  return ReasonReactRouter.push(\"/courses/\" + (courseId + \"/students\"));\n}\n\nvar ppx_printed_query = \"query StudentDetailsQuery($studentId: ID!)  {\\nstudentDetails(studentId: $studentId)  {\\nemail  \\nphone  \\nsocialLinks  \\nevaluationCriteria  {\\nid  \\nname  \\nmaxGrade  \\npassGrade  \\n}\\n\\nteam  {\\nid  \\nname  \\nlevelId  \\ndroppedOutAt  \\naccessEndsAt  \\nstudents  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\n}\\n\\ncoachUserIds  \\n}\\n\\nsocialLinks  \\ntotalTargets  \\ntargetsCompleted  \\ncompletedLevelIds  \\nquizScores  \\naverageGrades  {\\nevaluationCriterionId  \\naverageGrade  \\n}\\n\\n}\\n\\ncoachNotes(studentId: $studentId)  {\\nid  \\nnote  \\ncreatedAt  \\nauthor  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"studentDetails\");\n  var tmp;\n\n  if (match !== undefined) {\n    var _tmp;\n\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"email\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeString(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field email on type StudentDetails is missing\");\n    }\n\n    var match$3 = Js_dict.get(value$2, \"phone\");\n    var tmp$2;\n\n    if (match$3 !== undefined) {\n      var value$4 = Caml_option.valFromOption(match$3);\n      var match$4 = Js_json.decodeNull(value$4);\n\n      if (match$4 !== undefined) {\n        tmp$2 = undefined;\n      } else {\n        var match$5 = Js_json.decodeString(value$4);\n        tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n      }\n    } else {\n      tmp$2 = undefined;\n    }\n\n    var match$6 = Js_dict.get(value$2, \"socialLinks\");\n    var match$7 = Js_dict.get(value$2, \"evaluationCriteria\");\n    var match$8 = Js_dict.get(value$2, \"team\");\n    var tmp$3;\n\n    if (match$8 !== undefined) {\n      var value$5 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$8)));\n      var match$9 = Js_dict.get(value$5, \"id\");\n      var tmp$4;\n\n      if (match$9 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$9);\n        var match$10 = Js_json.decodeString(value$6);\n        tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field id on type Team is missing\");\n      }\n\n      var match$11 = Js_dict.get(value$5, \"name\");\n      var tmp$5;\n\n      if (match$11 !== undefined) {\n        var value$7 = Caml_option.valFromOption(match$11);\n        var match$12 = Js_json.decodeString(value$7);\n        tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n      } else {\n        tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field name on type Team is missing\");\n      }\n\n      var match$13 = Js_dict.get(value$5, \"levelId\");\n      var tmp$6;\n\n      if (match$13 !== undefined) {\n        var value$8 = Caml_option.valFromOption(match$13);\n        var match$14 = Js_json.decodeString(value$8);\n        tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n      } else {\n        tmp$6 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type Team is missing\");\n      }\n\n      var match$15 = Js_dict.get(value$5, \"droppedOutAt\");\n      var tmp$7;\n\n      if (match$15 !== undefined) {\n        var value$9 = Caml_option.valFromOption(match$15);\n        var match$16 = Js_json.decodeNull(value$9);\n        tmp$7 = match$16 !== undefined ? undefined : Caml_option.some(value$9);\n      } else {\n        tmp$7 = undefined;\n      }\n\n      var match$17 = Js_dict.get(value$5, \"accessEndsAt\");\n      var tmp$8;\n\n      if (match$17 !== undefined) {\n        var value$10 = Caml_option.valFromOption(match$17);\n        var match$18 = Js_json.decodeNull(value$10);\n        tmp$8 = match$18 !== undefined ? undefined : Caml_option.some(value$10);\n      } else {\n        tmp$8 = undefined;\n      }\n\n      var match$19 = Js_dict.get(value$5, \"students\");\n      var match$20 = Js_dict.get(value$5, \"coachUserIds\");\n      tmp$3 = {\n        id: tmp$4,\n        name: tmp$5,\n        levelId: tmp$6,\n        droppedOutAt: tmp$7,\n        accessEndsAt: tmp$8,\n        students: match$19 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$19))).map(function (value) {\n          var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n          var match = Js_dict.get(value$1, \"id\");\n          var tmp;\n\n          if (match !== undefined) {\n            var value$2 = Caml_option.valFromOption(match);\n            var match$1 = Js_json.decodeString(value$2);\n            tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n          } else {\n            tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Student is missing\");\n          }\n\n          var match$2 = Js_dict.get(value$1, \"name\");\n          var tmp$1;\n\n          if (match$2 !== undefined) {\n            var value$3 = Caml_option.valFromOption(match$2);\n            var match$3 = Js_json.decodeString(value$3);\n            tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n          } else {\n            tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Student is missing\");\n          }\n\n          var match$4 = Js_dict.get(value$1, \"title\");\n          var tmp$2;\n\n          if (match$4 !== undefined) {\n            var value$4 = Caml_option.valFromOption(match$4);\n            var match$5 = Js_json.decodeString(value$4);\n            tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n          } else {\n            tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field title on type Student is missing\");\n          }\n\n          var match$6 = Js_dict.get(value$1, \"avatarUrl\");\n          var tmp$3;\n\n          if (match$6 !== undefined) {\n            var value$5 = Caml_option.valFromOption(match$6);\n            var match$7 = Js_json.decodeNull(value$5);\n\n            if (match$7 !== undefined) {\n              tmp$3 = undefined;\n            } else {\n              var match$8 = Js_json.decodeString(value$5);\n              tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n            }\n          } else {\n            tmp$3 = undefined;\n          }\n\n          return {\n            id: tmp,\n            name: tmp$1,\n            title: tmp$2,\n            avatarUrl: tmp$3\n          };\n        }) : Js_exn.raiseError(\"graphql_ppx: Field students on type Team is missing\"),\n        coachUserIds: match$20 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$20))).map(function (value) {\n          var match = Js_json.decodeString(value);\n\n          if (match !== undefined) {\n            return match;\n          } else {\n            return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n          }\n        }) : Js_exn.raiseError(\"graphql_ppx: Field coachUserIds on type Team is missing\")\n      };\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field team on type StudentDetails is missing\");\n    }\n\n    var match$21 = Js_dict.get(value$2, \"socialLinks\");\n    var match$22 = Js_dict.get(value$2, \"totalTargets\");\n    var tmp$9;\n\n    if (match$22 !== undefined) {\n      var value$11 = Caml_option.valFromOption(match$22);\n      var match$23 = Js_json.decodeNumber(value$11);\n      tmp$9 = match$23 !== undefined ? match$23 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$11));\n    } else {\n      tmp$9 = Js_exn.raiseError(\"graphql_ppx: Field totalTargets on type StudentDetails is missing\");\n    }\n\n    var match$24 = Js_dict.get(value$2, \"targetsCompleted\");\n    var tmp$10;\n\n    if (match$24 !== undefined) {\n      var value$12 = Caml_option.valFromOption(match$24);\n      var match$25 = Js_json.decodeNumber(value$12);\n      tmp$10 = match$25 !== undefined ? match$25 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$12));\n    } else {\n      tmp$10 = Js_exn.raiseError(\"graphql_ppx: Field targetsCompleted on type StudentDetails is missing\");\n    }\n\n    var match$26 = Js_dict.get(value$2, \"completedLevelIds\");\n    var match$27 = Js_dict.get(value$2, \"quizScores\");\n    var match$28 = Js_dict.get(value$2, \"averageGrades\");\n    tmp = (_tmp = {\n      email: tmp$1,\n      phone: tmp$2,\n      socialLinks: match$6 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$6))).map(function (value) {\n        var match = Js_json.decodeString(value);\n\n        if (match !== undefined) {\n          return match;\n        } else {\n          return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n        }\n      }) : Js_exn.raiseError(\"graphql_ppx: Field socialLinks on type StudentDetails is missing\"),\n      evaluationCriteria: match$7 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$7))).map(function (value) {\n        var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n        var match = Js_dict.get(value$1, \"id\");\n        var tmp;\n\n        if (match !== undefined) {\n          var value$2 = Caml_option.valFromOption(match);\n          var match$1 = Js_json.decodeString(value$2);\n          tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n        } else {\n          tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type EvaluationCriterion is missing\");\n        }\n\n        var match$2 = Js_dict.get(value$1, \"name\");\n        var tmp$1;\n\n        if (match$2 !== undefined) {\n          var value$3 = Caml_option.valFromOption(match$2);\n          var match$3 = Js_json.decodeString(value$3);\n          tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n        } else {\n          tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type EvaluationCriterion is missing\");\n        }\n\n        var match$4 = Js_dict.get(value$1, \"maxGrade\");\n        var tmp$2;\n\n        if (match$4 !== undefined) {\n          var value$4 = Caml_option.valFromOption(match$4);\n          var match$5 = Js_json.decodeNumber(value$4);\n          tmp$2 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$4));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field maxGrade on type EvaluationCriterion is missing\");\n        }\n\n        var match$6 = Js_dict.get(value$1, \"passGrade\");\n        var tmp$3;\n\n        if (match$6 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$6);\n          var match$7 = Js_json.decodeNumber(value$5);\n          tmp$3 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field passGrade on type EvaluationCriterion is missing\");\n        }\n\n        return {\n          id: tmp,\n          name: tmp$1,\n          maxGrade: tmp$2,\n          passGrade: tmp$3\n        };\n      }) : Js_exn.raiseError(\"graphql_ppx: Field evaluationCriteria on type StudentDetails is missing\"),\n      team: tmp$3\n    }, _defineProperty(_tmp, \"socialLinks\", match$21 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$21))).map(function (value) {\n      var match = Js_json.decodeString(value);\n\n      if (match !== undefined) {\n        return match;\n      } else {\n        return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n      }\n    }) : Js_exn.raiseError(\"graphql_ppx: Field socialLinks on type StudentDetails is missing\")), _defineProperty(_tmp, \"totalTargets\", tmp$9), _defineProperty(_tmp, \"targetsCompleted\", tmp$10), _defineProperty(_tmp, \"completedLevelIds\", match$26 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$26))).map(function (value) {\n      var match = Js_json.decodeString(value);\n\n      if (match !== undefined) {\n        return match;\n      } else {\n        return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n      }\n    }) : Js_exn.raiseError(\"graphql_ppx: Field completedLevelIds on type StudentDetails is missing\")), _defineProperty(_tmp, \"quizScores\", match$27 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$27))).map(function (value) {\n      var match = Js_json.decodeString(value);\n\n      if (match !== undefined) {\n        return match;\n      } else {\n        return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n      }\n    }) : Js_exn.raiseError(\"graphql_ppx: Field quizScores on type StudentDetails is missing\")), _defineProperty(_tmp, \"averageGrades\", match$28 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$28))).map(function (value) {\n      var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n      var match = Js_dict.get(value$1, \"evaluationCriterionId\");\n      var tmp;\n\n      if (match !== undefined) {\n        var value$2 = Caml_option.valFromOption(match);\n        var match$1 = Js_json.decodeString(value$2);\n        tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n      } else {\n        tmp = Js_exn.raiseError(\"graphql_ppx: Field evaluationCriterionId on type EvaluationCriterionAverage is missing\");\n      }\n\n      var match$2 = Js_dict.get(value$1, \"averageGrade\");\n      var tmp$1;\n\n      if (match$2 !== undefined) {\n        var value$3 = Caml_option.valFromOption(match$2);\n        var match$3 = Js_json.decodeNumber(value$3);\n        tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected float, got \" + JSON.stringify(value$3));\n      } else {\n        tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field averageGrade on type EvaluationCriterionAverage is missing\");\n      }\n\n      return {\n        evaluationCriterionId: tmp,\n        averageGrade: tmp$1\n      };\n    }) : Js_exn.raiseError(\"graphql_ppx: Field averageGrades on type StudentDetails is missing\")), _tmp);\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field studentDetails on type Query is missing\");\n  }\n\n  var match$29 = Js_dict.get(value$1, \"coachNotes\");\n  return {\n    studentDetails: tmp,\n    coachNotes: match$29 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$29))).map(function (value) {\n      var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n      var match = Js_dict.get(value$1, \"id\");\n      var tmp;\n\n      if (match !== undefined) {\n        var value$2 = Caml_option.valFromOption(match);\n        var match$1 = Js_json.decodeString(value$2);\n        tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n      } else {\n        tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CoachNote is missing\");\n      }\n\n      var match$2 = Js_dict.get(value$1, \"note\");\n      var tmp$1;\n\n      if (match$2 !== undefined) {\n        var value$3 = Caml_option.valFromOption(match$2);\n        var match$3 = Js_json.decodeString(value$3);\n        tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n      } else {\n        tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field note on type CoachNote is missing\");\n      }\n\n      var match$4 = Js_dict.get(value$1, \"createdAt\");\n      var match$5 = Js_dict.get(value$1, \"author\");\n      var tmp$2;\n\n      if (match$5 !== undefined) {\n        var value$4 = Caml_option.valFromOption(match$5);\n        var match$6 = Js_json.decodeNull(value$4);\n\n        if (match$6 !== undefined) {\n          tmp$2 = undefined;\n        } else {\n          var value$5 = Js_option.getExn(Js_json.decodeObject(value$4));\n          var match$7 = Js_dict.get(value$5, \"id\");\n          var tmp$3;\n\n          if (match$7 !== undefined) {\n            var value$6 = Caml_option.valFromOption(match$7);\n            var match$8 = Js_json.decodeString(value$6);\n            tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n          } else {\n            tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field id on type User is missing\");\n          }\n\n          var match$9 = Js_dict.get(value$5, \"name\");\n          var tmp$4;\n\n          if (match$9 !== undefined) {\n            var value$7 = Caml_option.valFromOption(match$9);\n            var match$10 = Js_json.decodeString(value$7);\n            tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n          } else {\n            tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field name on type User is missing\");\n          }\n\n          var match$11 = Js_dict.get(value$5, \"title\");\n          var tmp$5;\n\n          if (match$11 !== undefined) {\n            var value$8 = Caml_option.valFromOption(match$11);\n            var match$12 = Js_json.decodeString(value$8);\n            tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n          } else {\n            tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field title on type User is missing\");\n          }\n\n          var match$13 = Js_dict.get(value$5, \"avatarUrl\");\n          var tmp$6;\n\n          if (match$13 !== undefined) {\n            var value$9 = Caml_option.valFromOption(match$13);\n            var match$14 = Js_json.decodeNull(value$9);\n\n            if (match$14 !== undefined) {\n              tmp$6 = undefined;\n            } else {\n              var match$15 = Js_json.decodeString(value$9);\n              tmp$6 = match$15 !== undefined ? match$15 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n            }\n          } else {\n            tmp$6 = undefined;\n          }\n\n          tmp$2 = {\n            id: tmp$3,\n            name: tmp$4,\n            title: tmp$5,\n            avatarUrl: tmp$6\n          };\n        }\n      } else {\n        tmp$2 = undefined;\n      }\n\n      return {\n        id: tmp,\n        note: tmp$1,\n        createdAt: match$4 !== undefined ? Caml_option.valFromOption(match$4) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type CoachNote is missing\"),\n        author: tmp$2\n      };\n    }) : Js_exn.raiseError(\"graphql_ppx: Field coachNotes on type Query is missing\")\n  };\n}\n\nfunction make(studentId, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"studentId\", studentId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var studentId = variables.studentId;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"studentId\", studentId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(studentId, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"studentId\", studentId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, studentId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"studentId\", studentId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar StudentDetailsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateStudentDetails(setState, studentId, details, coachNotes) {\n  var studentDetails = CoursesStudents__StudentDetails.makeFromJs(studentId, details, coachNotes);\n  return Curry._1(setState, function (state) {\n    return {\n      selectedTab: state.selectedTab,\n      studentData:\n      /* Loaded */\n      [studentDetails],\n      submissions: state.submissions\n    };\n  });\n}\n\nfunction getStudentDetails(studentId, setState, param) {\n  Curry._1(setState, function (state) {\n    return {\n      selectedTab: state.selectedTab,\n      studentData:\n      /* Loading */\n      0,\n      submissions: state.submissions\n    };\n  });\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(studentId,\n  /* () */\n  0)).then(function (response) {\n    updateStudentDetails(setState, studentId, response.studentDetails, response.coachNotes);\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return;\n}\n\nfunction updateSubmissions(setState, submissions) {\n  return Curry._1(setState, function (state) {\n    return {\n      selectedTab: state.selectedTab,\n      studentData: state.studentData,\n      submissions: submissions\n    };\n  });\n}\n\nfunction doughnutChart(color, percentage) {\n  return React.createElement(\"svg\", {\n    className: \"student-overlay__doughnut-chart \" + color,\n    viewBox: \"0 0 36 36\"\n  }, React.createElement(\"path\", {\n    className: \"student-overlay__doughnut-chart-bg\",\n    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n  }), React.createElement(\"path\", {\n    className: \"student-overlay__doughnut-chart-stroke\",\n    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\",\n    strokeDasharray: percentage + \", 100\"\n  }), React.createElement(\"text\", {\n    className: \"student-overlay__doughnut-chart-text font-semibold\",\n    x: \"50%\",\n    y: \"58%\"\n  }, percentage + \"%\"));\n}\n\nfunction targetsCompletionStatus(targetsCompleted, totalTargets) {\n  var targetCompletionPercent = String(targetsCompleted / totalTargets * 100.0 | 0);\n  return React.createElement(\"div\", {\n    \"aria-label\": \"target-completion-status\",\n    className: \"w-full lg:w-1/2 px-2\"\n  }, React.createElement(\"div\", {\n    className: \"student-overlay__doughnut-chart-container\"\n  }, doughnutChart(\"purple\", targetCompletionPercent), React.createElement(\"p\", {\n    className: \"text-sm font-semibold text-center mt-3\"\n  }, \"Total Targets Completed\"), React.createElement(\"p\", {\n    className: \"text-sm text-gray-700 font-semibold text-center mt-1\"\n  }, String(targetsCompleted | 0) + (\"/\" + (String(totalTargets | 0) + \" Targets\")))));\n}\n\nfunction quizPerformanceChart(averageQuizScore, quizzesAttempted) {\n  if (averageQuizScore !== undefined) {\n    return React.createElement(\"div\", {\n      \"aria-label\": \"quiz-performance-chart\",\n      className: \"w-full lg:w-1/2 px-2 mt-2 lg:mt-0\"\n    }, React.createElement(\"div\", {\n      className: \"student-overlay__doughnut-chart-container\"\n    }, doughnutChart(\"pink\", String(averageQuizScore | 0)), React.createElement(\"p\", {\n      className: \"text-sm font-semibold text-center mt-3\"\n    }, \"Average Quiz Score\"), React.createElement(\"p\", {\n      className: \"text-sm text-gray-700 font-semibold text-center leading-tight mt-1\"\n    }, quizzesAttempted + \" Quizzes Attempted\")));\n  } else {\n    return null;\n  }\n}\n\nfunction averageGradeCharts(evaluationCriteria, averageGrades) {\n  return $$Array.map(function (grade) {\n    var criterion = CoursesStudents__StudentDetails.evaluationCriterionForGrade(grade, evaluationCriteria, \"CoursesStudents__StudentOverlay\");\n    var passGrade = CoursesStudents__EvaluationCriterion.passGrade(criterion);\n    var averageGrade = CoursesStudents__StudentDetails.gradeValue(grade);\n    return React.createElement(\"div\", {\n      key: CoursesStudents__EvaluationCriterion.id(criterion),\n      \"aria-label\": \"average-grade-for-criterion-\" + CoursesStudents__EvaluationCriterion.id(criterion),\n      className: \"flex w-full lg:w-1/2 px-2 mt-2\"\n    }, React.createElement(\"div\", {\n      className: \"student-overlay__pie-chart-container\"\n    }, React.createElement(\"div\", {\n      className: \"flex px-5 pt-4 text-center items-center\"\n    }, React.createElement(\"svg\", {\n      className: \"student-overlay__pie-chart \" + (averageGrade < passGrade ? \"student-overlay__pie-chart--fail\" : \"student-overlay__pie-chart--pass\"),\n      viewBox: \"0 0 32 32\"\n    }, React.createElement(\"circle\", {\n      className: \"student-overlay__pie-chart-circle \" + (averageGrade < passGrade ? \"student-overlay__pie-chart-circle--fail\" : \"student-overlay__pie-chart-circle--pass\"),\n      cx: \"16\",\n      cy: \"16\",\n      r: \"16\",\n      strokeDasharray: CoursesStudents__StudentDetails.gradeAsPercentage(grade, criterion) + \", 100\"\n    })), React.createElement(\"span\", {\n      className: \"ml-3 text-lg font-semibold\"\n    }, grade.grade.toString() + (\"/\" + String(criterion.maxGrade)))), React.createElement(\"p\", {\n      className: \"text-sm font-semibold px-5 pt-3 pb-4\"\n    }, CoursesStudents__EvaluationCriterion.name(criterion))));\n  }, averageGrades);\n}\n\nfunction test(value, url) {\n  var tester = new RegExp(value);\n  return tester.test(url);\n}\n\nfunction socialLinkIconClass(url) {\n  if (test(\"twitter\", url)) {\n    return \"fab fa-twitter\";\n  } else if (test(\"facebook\", url)) {\n    return \"fab fa-facebook-f\";\n  } else if (test(\"instagram\", url)) {\n    return \"fab fa-instagram\";\n  } else if (test(\"youtube\", url)) {\n    return \"fab fa-youtube\";\n  } else if (test(\"linkedin\", url)) {\n    return \"fab fa-linkedin\";\n  } else if (test(\"reddit\", url)) {\n    return \"fab fa-reddit\";\n  } else if (test(\"flickr\", url)) {\n    return \"fab fa-flickr\";\n  } else if (test(\"github\", url)) {\n    return \"fab fa-github\";\n  } else {\n    return \"fas fa-users\";\n  }\n}\n\nfunction showSocialLinks(socialLinks) {\n  return React.createElement(\"div\", {\n    className: \"inline-flex flex-wrap justify-center text-lg text-gray-800 mt-3 bg-gray-100 px-2 rounded-lg\"\n  }, $$Array.mapi(function (index, link) {\n    return React.createElement(\"a\", {\n      key: String(index),\n      className: \"px-2 py-1 inline-block hover:text-primary-500\",\n      href: link,\n      target: \"_blank\"\n    }, React.createElement(\"i\", {\n      className: socialLinkIconClass(link)\n    }));\n  }, socialLinks));\n}\n\nfunction personalInfo(studentDetails) {\n  var match = CoursesStudents__StudentDetails.phone(studentDetails);\n  var socialLinks = CoursesStudents__StudentDetails.socialLinks(studentDetails);\n  return React.createElement(\"div\", {\n    className: \"mt-2 text-center\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-wrap justify-center text-xs font-semibold text-gray-800\"\n  }, React.createElement(\"div\", {\n    className: \"flex items-center px-2\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-envelope\"\n  }), React.createElement(\"p\", {\n    className: \"ml-2 tracking-wide\"\n  }, CoursesStudents__StudentDetails.email(studentDetails))), match !== undefined ? React.createElement(\"div\", {\n    className: \"flex items-center px-2\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-phone\"\n  }), React.createElement(\"p\", {\n    className: \"ml-2 tracking-wide\"\n  }, match)) : null), ArrayUtils.isNotEmpty(socialLinks) ? showSocialLinks(socialLinks) : null);\n}\n\nfunction setSelectedTab(selectedTab, setState) {\n  return Curry._1(setState, function (state) {\n    return {\n      selectedTab: selectedTab,\n      studentData: state.studentData,\n      submissions: state.submissions\n    };\n  });\n}\n\nfunction studentLevelClasses(levelNumber, levelCompleted, currentLevelNumber) {\n  var reached = Caml_obj.caml_lessequal(levelNumber, currentLevelNumber) ? \"student-overlay__student-level--reached\" : \"\";\n  var current = Caml_obj.caml_equal(levelNumber, currentLevelNumber) ? \" student-overlay__student-level--current\" : \"\";\n  var completed = levelCompleted ? \" student-overlay__student-level--completed\" : \"\";\n  return reached + (current + completed);\n}\n\nfunction levelProgressBar(levelId, levels, levelsCompleted) {\n  var applicableLevels = levels.filter(function (level) {\n    return CoursesStudents__Level.number(level) !== 0;\n  });\n  var courseCompleted = $$Array.for_all(function (level) {\n    return $$Array.mem(CoursesStudents__Level.id(level), levelsCompleted);\n  }, applicableLevels);\n  var currentLevelNumber = CoursesStudents__Level.number(ArrayUtils.unsafeFind(function (level) {\n    return CoursesStudents__Level.id(level) === levelId;\n  }, \"Unable to find level with id\" + (levelId + \"in StudentOverlay\"), applicableLevels));\n  return React.createElement(\"div\", {\n    className: \"mb-8\"\n  }, React.createElement(\"div\", {\n    className: \"flex justify-between items-end\"\n  }, React.createElement(\"h6\", {\n    className: \"text-sm font-semibold\"\n  }, \"Level Progress\"), courseCompleted ? React.createElement(\"p\", {\n    className: \"text-green-600 font-semibold\"\n  }, \"🎉\", React.createElement(\"span\", {\n    className: \"text-xs ml-px\"\n  }, \"Course Completed!\")) : null), React.createElement(\"div\", {\n    className: \"h-12 flex items-center\"\n  }, React.createElement(\"ul\", {\n    className: \"student-overlay__student-level-progress flex w-full \" + (courseCompleted ? \"student-overlay__student-level-progress--completed\" : \"\")\n  }, $$Array.map(function (level) {\n    var levelNumber = CoursesStudents__Level.number(level);\n    var levelCompleted = $$Array.mem(CoursesStudents__Level.id(level), levelsCompleted);\n    return React.createElement(\"li\", {\n      key: CoursesStudents__Level.id(level),\n      className: \"flex-1 student-overlay__student-level \" + studentLevelClasses(levelNumber, levelCompleted, currentLevelNumber)\n    }, React.createElement(\"span\", {\n      className: \"student-overlay__student-level-count\"\n    }, String(levelNumber)));\n  }, CoursesStudents__Level.sort(applicableLevels)))));\n}\n\nfunction _addNoteCB(setState, studentDetails, note) {\n  return Curry._1(setState, function (state) {\n    return {\n      selectedTab: state.selectedTab,\n      studentData:\n      /* Loaded */\n      [CoursesStudents__StudentDetails.addNewNote(note, studentDetails)],\n      submissions: state.submissions\n    };\n  });\n}\n\nfunction _removeNoteCB(setState, studentDetails, noteId) {\n  return Curry._1(setState, function (state) {\n    return {\n      selectedTab: state.selectedTab,\n      studentData:\n      /* Loaded */\n      [CoursesStudents__StudentDetails.removeNote(noteId, studentDetails)],\n      submissions: state.submissions\n    };\n  });\n}\n\nfunction userInfo(key, avatarUrl, name, title) {\n  return React.createElement(\"div\", {\n    key: key,\n    className: \"shadow rounded-lg p-4 flex items-center mt-2\"\n  }, CoursesStudents__TeamCoaches.avatar(undefined, avatarUrl, name), React.createElement(\"div\", {\n    className: \"ml-2 md:ml-3\"\n  }, React.createElement(\"div\", {\n    className: \"text-sm font-semibold\"\n  }, name), React.createElement(\"div\", {\n    className: \"text-xs\"\n  }, title)));\n}\n\nfunction coachInfo(teamCoaches, studentDetails) {\n  var coaches = CoursesStudents__TeamInfo.coaches(teamCoaches, CoursesStudents__StudentDetails.team(studentDetails));\n  var title = CoursesStudents__StudentDetails.teamHasManyStudents(studentDetails) ? \"Team Coaches\" : \"Personal Coaches\";\n\n  if (ArrayUtils.isNotEmpty(coaches)) {\n    return React.createElement(\"div\", {\n      className: \"mb-8\"\n    }, React.createElement(\"h6\", {\n      className: \"font-semibold\"\n    }, title), $$Array.map(function (coach) {\n      return userInfo(UserProxy.userId(coach), UserProxy.avatarUrl(coach), UserProxy.name(coach), UserProxy.title(coach));\n    }, coaches));\n  } else {\n    return null;\n  }\n}\n\nfunction navigateToStudent(setState, _event) {\n  return Curry._1(setState, function (param) {\n    return initialState;\n  });\n}\n\nfunction otherTeamMembers(setState, studentId, studentDetails) {\n  if (CoursesStudents__StudentDetails.teamHasManyStudents(studentDetails)) {\n    return React.createElement(\"div\", {\n      className: \"block mb-8\"\n    }, React.createElement(\"h6\", {\n      className: \"font-semibold\"\n    }, \"Other Team Members\"), $$Array.map(function (student) {\n      var path = \"/students/\" + (CoursesStudents__TeamInfo.studentId(student) + \"/report\");\n      return React.createElement(Link.make, {\n        href: path,\n        className: \"block\",\n        onClick: function onClick(param) {\n          return Curry._1(setState, function (param) {\n            return initialState;\n          });\n        },\n        children: userInfo(CoursesStudents__TeamInfo.studentId(student), CoursesStudents__TeamInfo.studentAvatarUrl(student), CoursesStudents__TeamInfo.studentName(student), CoursesStudents__TeamInfo.studentTitle(student)),\n        key: CoursesStudents__TeamInfo.studentId(student)\n      });\n    }, CoursesStudents__TeamInfo.otherStudents(studentId, CoursesStudents__StudentDetails.team(studentDetails))));\n  } else {\n    return null;\n  }\n}\n\nfunction inactiveWarning(teamInfo) {\n  var match = CoursesStudents__TeamInfo.droppedOutAt(teamInfo);\n  var match$1 = CoursesStudents__TeamInfo.accessEndsAt(teamInfo);\n  var warning;\n\n  if (match !== undefined) {\n    warning = \"This student dropped out of the course on \" + (DateFns.formatPreset(Caml_option.valFromOption(match), true, true, undefined,\n    /* () */\n    0) + \".\");\n  } else if (match$1 !== undefined) {\n    var accessEndsAt = Caml_option.valFromOption(match$1);\n    warning = DateFns.isPast(accessEndsAt) ? \"This student's access to the course ended on \" + (DateFns.formatPreset(accessEndsAt, true, true, undefined,\n    /* () */\n    0) + \".\") : undefined;\n  } else {\n    warning = undefined;\n  }\n\n  return OptionUtils.mapWithDefault(function (warning) {\n    return React.createElement(\"div\", {\n      className: \"border border-yellow-400 rounded bg-yellow-400 py-2 px-3 mt-3\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-exclamation-triangle\"\n    }), React.createElement(\"span\", {\n      className: \"ml-2\"\n    }, warning));\n  }, null, warning);\n}\n\nfunction CoursesStudents__StudentOverlay(Props) {\n  var courseId = Props.courseId;\n  var studentId = Props.studentId;\n  var levels = Props.levels;\n  var userId = Props.userId;\n  var teamCoaches = Props.teamCoaches;\n  var match = React.useState(function () {\n    return initialState;\n  });\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect(function () {\n    ScrollLock.activate(\n    /* () */\n    0);\n    return function (param) {\n      return ScrollLock.deactivate(\n      /* () */\n      0);\n    };\n  }, []);\n  React.useEffect(function () {\n    return getStudentDetails(studentId, setState,\n    /* () */\n    0);\n  }, [studentId]);\n  var match$1 = state.studentData;\n  var tmp;\n\n  if (match$1) {\n    var studentDetails = match$1[0];\n    var match$2 = CoursesStudents__StudentDetails.avatarUrl(studentDetails);\n    var match$3 = state.selectedTab;\n    var match$4 = state.selectedTab;\n    var match$5 = state.selectedTab;\n    tmp = React.createElement(\"div\", {\n      className: \"flex flex-col md:flex-row md:h-screen\"\n    }, React.createElement(\"div\", {\n      className: \"w-full md:w-2/5 bg-white p-4 md:p-8 md:py-6 2xl:px-16 2xl:py-12 md:overflow-y-auto\"\n    }, React.createElement(\"div\", {\n      className: \"student-overlay__student-details relative pb-8\"\n    }, React.createElement(\"div\", {\n      className: \"absolute z-50 left-0 cursor-pointer top-0 inline-flex p-1 rounded-full bg-gray-200 h-10 w-10 justify-center items-center text-gray-700 hover:text-gray-900 hover:bg-gray-300\",\n      onClick: function onClick(param) {\n        return closeOverlay(courseId);\n      }\n    }, React.createElement(Icon.make, {\n      className: \"if i-times-regular text-xl lg:text-2xl\"\n    })), React.createElement(\"div\", {\n      className: \"student-overlay__student-avatar mx-auto w-18 h-18 md:w-24 md:h-24 text-xs border border-yellow-500 rounded-full overflow-hidden flex-shrink-0\"\n    }, match$2 !== undefined ? React.createElement(\"img\", {\n      className: \"w-full object-cover\",\n      src: match$2\n    }) : React.createElement(Avatar.make, {\n      name: CoursesStudents__StudentDetails.name(studentDetails),\n      className: \"object-cover\"\n    })), React.createElement(\"h2\", {\n      className: \"text-lg text-center mt-3\"\n    }, CoursesStudents__StudentDetails.name(studentDetails)), React.createElement(\"p\", {\n      className: \"text-sm font-semibold text-center mt-1\"\n    }, CoursesStudents__StudentDetails.title(studentDetails)), personalInfo(studentDetails), inactiveWarning(CoursesStudents__StudentDetails.team(studentDetails))), levelProgressBar(CoursesStudents__StudentDetails.levelId(studentDetails), levels, CoursesStudents__StudentDetails.completedLevelIds(studentDetails)), React.createElement(\"div\", {\n      className: \"mb-8\"\n    }, React.createElement(\"h6\", {\n      className: \"font-semibold\"\n    }, \"Targets Overview\"), React.createElement(\"div\", {\n      className: \"flex -mx-2 flex-wrap mt-2\"\n    }, targetsCompletionStatus(CoursesStudents__StudentDetails.targetsCompleted(studentDetails), CoursesStudents__StudentDetails.totalTargets(studentDetails)), quizPerformanceChart(CoursesStudents__StudentDetails.averageQuizScore(studentDetails), CoursesStudents__StudentDetails.quizzesAttempted(studentDetails)))), ArrayUtils.isNotEmpty(CoursesStudents__StudentDetails.averageGrades(studentDetails)) ? React.createElement(\"div\", {\n      className: \"mb-8\"\n    }, React.createElement(\"h6\", {\n      className: \"font-semibold\"\n    }, \"Average Grades\"), React.createElement(\"div\", {\n      className: \"flex -mx-2 flex-wrap\"\n    }, averageGradeCharts(CoursesStudents__StudentDetails.evaluationCriteria(studentDetails), CoursesStudents__StudentDetails.averageGrades(studentDetails)))) : null, coachInfo(teamCoaches, studentDetails), otherTeamMembers(setState, studentId, studentDetails)), React.createElement(\"div\", {\n      className: \"w-full relative md:w-3/5 bg-gray-100 md:border-l pb-6 2xl:pb-12 md:overflow-y-auto\"\n    }, React.createElement(\"div\", {\n      className: \"sticky top-0 bg-gray-100 pt-2 md:pt-4 px-4 md:px-8 2xl:px-16 2xl:pt-10 z-30\"\n    }, React.createElement(\"ul\", {\n      className: \"flex font-semibold border-b text-sm\"\n    }, React.createElement(\"li\", {\n      className: \"px-3 py-3 md:py-2 cursor-pointer text-gray-800 rounded-t-lg \" + (match$3 ? \"hover:bg-gray-200 hover:text-gray-900\" : \"border-b-3 border-primary-500 text-primary-500 -mb-px\"),\n      onClick: function onClick(_event) {\n        return setSelectedTab(\n        /* Notes */\n        0, setState);\n      }\n    }, \"Notes\"), React.createElement(\"li\", {\n      className: \"px-3 py-3 md:py-2 cursor-pointer text-gray-800 \" + (match$4 ? \"border-b-3 border-primary-500 text-primary-500 -mb-px\" : \"hover:bg-gray-200 hover:text-gray-900\"),\n      onClick: function onClick(_event) {\n        return setSelectedTab(\n        /* Submissions */\n        1, setState);\n      }\n    }, \"Submissions\"))), React.createElement(\"div\", {\n      className: \"pt-2 px-4 md:px-8 2xl:px-16\"\n    }, match$5 ? React.createElement(CoursesStudents__SubmissionsList.make, {\n      studentId: studentId,\n      levels: levels,\n      submissions: state.submissions,\n      updateSubmissionsCB: function updateSubmissionsCB(param) {\n        return updateSubmissions(setState, param);\n      }\n    }) : React.createElement(CoursesStudents__CoachNotes.make, {\n      studentId: studentId,\n      coachNotes: CoursesStudents__StudentDetails.coachNotes(studentDetails),\n      addNoteCB: function addNoteCB(param) {\n        return _addNoteCB(setState, studentDetails, param);\n      },\n      removeNoteCB: function removeNoteCB(param) {\n        return _removeNoteCB(setState, studentDetails, param);\n      },\n      userId: userId\n    }))));\n  } else {\n    tmp = React.createElement(\"div\", {\n      className: \"flex flex-col md:flex-row md:h-screen\"\n    }, React.createElement(\"div\", {\n      className: \"w-full md:w-2/5 bg-white p-4 md:p-8 2xl:p-16\"\n    }, SkeletonLoading.image(\n    /* () */\n    0), SkeletonLoading.multiple(2, SkeletonLoading.profileCard(\n    /* () */\n    0))), React.createElement(\"div\", {\n      className: \"w-full relative md:w-3/5 bg-gray-100 md:border-l p-4 md:p-8 2xl:p-16\"\n    }, SkeletonLoading.contents(\n    /* () */\n    0), SkeletonLoading.profileCard(\n    /* () */\n    0)));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll md:overflow-hidden bg-white\"\n  }, tmp);\n}\n\nvar make$1 = CoursesStudents__StudentOverlay;\nexports.str = str;\nexports.initialState = initialState;\nexports.closeOverlay = closeOverlay;\nexports.StudentDetailsQuery = StudentDetailsQuery;\nexports.updateStudentDetails = updateStudentDetails;\nexports.getStudentDetails = getStudentDetails;\nexports.updateSubmissions = updateSubmissions;\nexports.doughnutChart = doughnutChart;\nexports.targetsCompletionStatus = targetsCompletionStatus;\nexports.quizPerformanceChart = quizPerformanceChart;\nexports.averageGradeCharts = averageGradeCharts;\nexports.test = test;\nexports.socialLinkIconClass = socialLinkIconClass;\nexports.showSocialLinks = showSocialLinks;\nexports.personalInfo = personalInfo;\nexports.setSelectedTab = setSelectedTab;\nexports.studentLevelClasses = studentLevelClasses;\nexports.levelProgressBar = levelProgressBar;\nexports.addNoteCB = _addNoteCB;\nexports.removeNoteCB = _removeNoteCB;\nexports.userInfo = userInfo;\nexports.coachInfo = coachInfo;\nexports.navigateToStudent = navigateToStudent;\nexports.otherTeamMembers = otherTeamMembers;\nexports.inactiveWarning = inactiveWarning;\nexports.make = make$1;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/students/components/CoursesStudents__StudentOverlay.bs.js"],"names":["Icon","require","Link","$$Array","Curry","React","Avatar","Js_exn","DateFns","Js_dict","Js_json","Caml_obj","Js_option","UserProxy","ArrayUtils","ScrollLock","Caml_option","OptionUtils","GraphqlQuery","SkeletonLoading","ReasonReactRouter","CoursesStudents__Level","CoursesStudents__TeamInfo","CoursesStudents__CoachNotes","CoursesStudents__TeamCoaches","CoursesStudents__StudentDetails","CoursesStudents__SubmissionsList","CoursesStudents__EvaluationCriterion","str","prim","initialState","selectedTab","studentData","submissions","closeOverlay","courseId","push","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeString","raiseError","JSON","stringify","match$3","tmp$2","value$4","match$4","decodeNull","match$5","match$6","match$7","match$8","tmp$3","value$5","match$9","tmp$4","value$6","match$10","match$11","tmp$5","value$7","match$12","match$13","tmp$6","value$8","match$14","match$15","tmp$7","value$9","match$16","some","match$17","tmp$8","value$10","match$18","match$19","match$20","id","name","levelId","droppedOutAt","accessEndsAt","students","decodeArray","map","title","avatarUrl","coachUserIds","match$21","match$22","tmp$9","value$11","match$23","decodeNumber","match$24","tmp$10","value$12","match$25","match$26","match$27","match$28","email","phone","socialLinks","evaluationCriteria","maxGrade","passGrade","team","evaluationCriterionId","averageGrade","match$29","studentDetails","coachNotes","note","createdAt","author","make","studentId","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","StudentDetailsQuery","updateStudentDetails","setState","details","makeFromJs","state","getStudentDetails","eta","sendQuery","then","response","Promise","resolve","updateSubmissions","doughnutChart","color","percentage","createElement","className","viewBox","d","strokeDasharray","x","y","targetsCompletionStatus","targetsCompleted","totalTargets","targetCompletionPercent","String","quizPerformanceChart","averageQuizScore","quizzesAttempted","averageGradeCharts","averageGrades","grade","criterion","evaluationCriterionForGrade","gradeValue","key","cx","cy","r","gradeAsPercentage","toString","url","tester","RegExp","socialLinkIconClass","showSocialLinks","mapi","index","link","href","target","personalInfo","isNotEmpty","setSelectedTab","studentLevelClasses","levelNumber","levelCompleted","currentLevelNumber","reached","caml_lessequal","current","caml_equal","completed","levelProgressBar","levels","levelsCompleted","applicableLevels","level","number","courseCompleted","for_all","mem","unsafeFind","sort","addNoteCB","addNewNote","removeNoteCB","noteId","removeNote","userInfo","avatar","coachInfo","teamCoaches","coaches","teamHasManyStudents","coach","userId","navigateToStudent","_event","otherTeamMembers","student","path","onClick","children","studentAvatarUrl","studentName","studentTitle","otherStudents","inactiveWarning","teamInfo","warning","formatPreset","isPast","mapWithDefault","CoursesStudents__StudentOverlay","Props","useState","useEffect","activate","deactivate","src","completedLevelIds","updateSubmissionsCB","image","multiple","profileCard","contents","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\nvar Link = require(\"../../../shared/components/Link.bs.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Avatar = require(\"../../../shared/Avatar.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\nvar CoursesStudents__Level = require(\"../types/CoursesStudents__Level.bs.js\");\nvar CoursesStudents__TeamInfo = require(\"../types/CoursesStudents__TeamInfo.bs.js\");\nvar CoursesStudents__CoachNotes = require(\"./CoursesStudents__CoachNotes.bs.js\");\nvar CoursesStudents__TeamCoaches = require(\"./CoursesStudents__TeamCoaches.bs.js\");\nvar CoursesStudents__StudentDetails = require(\"../types/CoursesStudents__StudentDetails.bs.js\");\nvar CoursesStudents__SubmissionsList = require(\"./CoursesStudents__SubmissionsList.bs.js\");\nvar CoursesStudents__EvaluationCriterion = require(\"../types/CoursesStudents__EvaluationCriterion.bs.js\");\n\n((require(\"./CoursesStudents__StudentOverlay.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialState = {\n  selectedTab: /* Notes */0,\n  studentData: /* Loading */0,\n  submissions: /* Unloaded */0\n};\n\nfunction closeOverlay(courseId) {\n  return ReasonReactRouter.push(\"/courses/\" + (courseId + \"/students\"));\n}\n\nvar ppx_printed_query = \"query StudentDetailsQuery($studentId: ID!)  {\\nstudentDetails(studentId: $studentId)  {\\nemail  \\nphone  \\nsocialLinks  \\nevaluationCriteria  {\\nid  \\nname  \\nmaxGrade  \\npassGrade  \\n}\\n\\nteam  {\\nid  \\nname  \\nlevelId  \\ndroppedOutAt  \\naccessEndsAt  \\nstudents  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\n}\\n\\ncoachUserIds  \\n}\\n\\nsocialLinks  \\ntotalTargets  \\ntargetsCompleted  \\ncompletedLevelIds  \\nquizScores  \\naverageGrades  {\\nevaluationCriterionId  \\naverageGrade  \\n}\\n\\n}\\n\\ncoachNotes(studentId: $studentId)  {\\nid  \\nnote  \\ncreatedAt  \\nauthor  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"studentDetails\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"email\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeString(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field email on type StudentDetails is missing\");\n    }\n    var match$3 = Js_dict.get(value$2, \"phone\");\n    var tmp$2;\n    if (match$3 !== undefined) {\n      var value$4 = Caml_option.valFromOption(match$3);\n      var match$4 = Js_json.decodeNull(value$4);\n      if (match$4 !== undefined) {\n        tmp$2 = undefined;\n      } else {\n        var match$5 = Js_json.decodeString(value$4);\n        tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n      }\n    } else {\n      tmp$2 = undefined;\n    }\n    var match$6 = Js_dict.get(value$2, \"socialLinks\");\n    var match$7 = Js_dict.get(value$2, \"evaluationCriteria\");\n    var match$8 = Js_dict.get(value$2, \"team\");\n    var tmp$3;\n    if (match$8 !== undefined) {\n      var value$5 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$8)));\n      var match$9 = Js_dict.get(value$5, \"id\");\n      var tmp$4;\n      if (match$9 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$9);\n        var match$10 = Js_json.decodeString(value$6);\n        tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field id on type Team is missing\");\n      }\n      var match$11 = Js_dict.get(value$5, \"name\");\n      var tmp$5;\n      if (match$11 !== undefined) {\n        var value$7 = Caml_option.valFromOption(match$11);\n        var match$12 = Js_json.decodeString(value$7);\n        tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n      } else {\n        tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field name on type Team is missing\");\n      }\n      var match$13 = Js_dict.get(value$5, \"levelId\");\n      var tmp$6;\n      if (match$13 !== undefined) {\n        var value$8 = Caml_option.valFromOption(match$13);\n        var match$14 = Js_json.decodeString(value$8);\n        tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n      } else {\n        tmp$6 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type Team is missing\");\n      }\n      var match$15 = Js_dict.get(value$5, \"droppedOutAt\");\n      var tmp$7;\n      if (match$15 !== undefined) {\n        var value$9 = Caml_option.valFromOption(match$15);\n        var match$16 = Js_json.decodeNull(value$9);\n        tmp$7 = match$16 !== undefined ? undefined : Caml_option.some(value$9);\n      } else {\n        tmp$7 = undefined;\n      }\n      var match$17 = Js_dict.get(value$5, \"accessEndsAt\");\n      var tmp$8;\n      if (match$17 !== undefined) {\n        var value$10 = Caml_option.valFromOption(match$17);\n        var match$18 = Js_json.decodeNull(value$10);\n        tmp$8 = match$18 !== undefined ? undefined : Caml_option.some(value$10);\n      } else {\n        tmp$8 = undefined;\n      }\n      var match$19 = Js_dict.get(value$5, \"students\");\n      var match$20 = Js_dict.get(value$5, \"coachUserIds\");\n      tmp$3 = {\n        id: tmp$4,\n        name: tmp$5,\n        levelId: tmp$6,\n        droppedOutAt: tmp$7,\n        accessEndsAt: tmp$8,\n        students: match$19 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$19))).map((function (value) {\n                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                  var match = Js_dict.get(value$1, \"id\");\n                  var tmp;\n                  if (match !== undefined) {\n                    var value$2 = Caml_option.valFromOption(match);\n                    var match$1 = Js_json.decodeString(value$2);\n                    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                  } else {\n                    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Student is missing\");\n                  }\n                  var match$2 = Js_dict.get(value$1, \"name\");\n                  var tmp$1;\n                  if (match$2 !== undefined) {\n                    var value$3 = Caml_option.valFromOption(match$2);\n                    var match$3 = Js_json.decodeString(value$3);\n                    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                  } else {\n                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Student is missing\");\n                  }\n                  var match$4 = Js_dict.get(value$1, \"title\");\n                  var tmp$2;\n                  if (match$4 !== undefined) {\n                    var value$4 = Caml_option.valFromOption(match$4);\n                    var match$5 = Js_json.decodeString(value$4);\n                    tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                  } else {\n                    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field title on type Student is missing\");\n                  }\n                  var match$6 = Js_dict.get(value$1, \"avatarUrl\");\n                  var tmp$3;\n                  if (match$6 !== undefined) {\n                    var value$5 = Caml_option.valFromOption(match$6);\n                    var match$7 = Js_json.decodeNull(value$5);\n                    if (match$7 !== undefined) {\n                      tmp$3 = undefined;\n                    } else {\n                      var match$8 = Js_json.decodeString(value$5);\n                      tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n                    }\n                  } else {\n                    tmp$3 = undefined;\n                  }\n                  return {\n                          id: tmp,\n                          name: tmp$1,\n                          title: tmp$2,\n                          avatarUrl: tmp$3\n                        };\n                })) : Js_exn.raiseError(\"graphql_ppx: Field students on type Team is missing\"),\n        coachUserIds: match$20 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$20))).map((function (value) {\n                  var match = Js_json.decodeString(value);\n                  if (match !== undefined) {\n                    return match;\n                  } else {\n                    return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                  }\n                })) : Js_exn.raiseError(\"graphql_ppx: Field coachUserIds on type Team is missing\")\n      };\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field team on type StudentDetails is missing\");\n    }\n    var match$21 = Js_dict.get(value$2, \"socialLinks\");\n    var match$22 = Js_dict.get(value$2, \"totalTargets\");\n    var tmp$9;\n    if (match$22 !== undefined) {\n      var value$11 = Caml_option.valFromOption(match$22);\n      var match$23 = Js_json.decodeNumber(value$11);\n      tmp$9 = match$23 !== undefined ? match$23 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$11));\n    } else {\n      tmp$9 = Js_exn.raiseError(\"graphql_ppx: Field totalTargets on type StudentDetails is missing\");\n    }\n    var match$24 = Js_dict.get(value$2, \"targetsCompleted\");\n    var tmp$10;\n    if (match$24 !== undefined) {\n      var value$12 = Caml_option.valFromOption(match$24);\n      var match$25 = Js_json.decodeNumber(value$12);\n      tmp$10 = match$25 !== undefined ? match$25 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$12));\n    } else {\n      tmp$10 = Js_exn.raiseError(\"graphql_ppx: Field targetsCompleted on type StudentDetails is missing\");\n    }\n    var match$26 = Js_dict.get(value$2, \"completedLevelIds\");\n    var match$27 = Js_dict.get(value$2, \"quizScores\");\n    var match$28 = Js_dict.get(value$2, \"averageGrades\");\n    tmp = {\n      email: tmp$1,\n      phone: tmp$2,\n      socialLinks: match$6 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$6))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field socialLinks on type StudentDetails is missing\"),\n      evaluationCriteria: match$7 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$7))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"id\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type EvaluationCriterion is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"name\");\n                var tmp$1;\n                if (match$2 !== undefined) {\n                  var value$3 = Caml_option.valFromOption(match$2);\n                  var match$3 = Js_json.decodeString(value$3);\n                  tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                } else {\n                  tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type EvaluationCriterion is missing\");\n                }\n                var match$4 = Js_dict.get(value$1, \"maxGrade\");\n                var tmp$2;\n                if (match$4 !== undefined) {\n                  var value$4 = Caml_option.valFromOption(match$4);\n                  var match$5 = Js_json.decodeNumber(value$4);\n                  tmp$2 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$4));\n                } else {\n                  tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field maxGrade on type EvaluationCriterion is missing\");\n                }\n                var match$6 = Js_dict.get(value$1, \"passGrade\");\n                var tmp$3;\n                if (match$6 !== undefined) {\n                  var value$5 = Caml_option.valFromOption(match$6);\n                  var match$7 = Js_json.decodeNumber(value$5);\n                  tmp$3 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n                } else {\n                  tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field passGrade on type EvaluationCriterion is missing\");\n                }\n                return {\n                        id: tmp,\n                        name: tmp$1,\n                        maxGrade: tmp$2,\n                        passGrade: tmp$3\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field evaluationCriteria on type StudentDetails is missing\"),\n      team: tmp$3,\n      socialLinks: match$21 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$21))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field socialLinks on type StudentDetails is missing\"),\n      totalTargets: tmp$9,\n      targetsCompleted: tmp$10,\n      completedLevelIds: match$26 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$26))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field completedLevelIds on type StudentDetails is missing\"),\n      quizScores: match$27 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$27))).map((function (value) {\n                var match = Js_json.decodeString(value);\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              })) : Js_exn.raiseError(\"graphql_ppx: Field quizScores on type StudentDetails is missing\"),\n      averageGrades: match$28 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$28))).map((function (value) {\n                var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                var match = Js_dict.get(value$1, \"evaluationCriterionId\");\n                var tmp;\n                if (match !== undefined) {\n                  var value$2 = Caml_option.valFromOption(match);\n                  var match$1 = Js_json.decodeString(value$2);\n                  tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                } else {\n                  tmp = Js_exn.raiseError(\"graphql_ppx: Field evaluationCriterionId on type EvaluationCriterionAverage is missing\");\n                }\n                var match$2 = Js_dict.get(value$1, \"averageGrade\");\n                var tmp$1;\n                if (match$2 !== undefined) {\n                  var value$3 = Caml_option.valFromOption(match$2);\n                  var match$3 = Js_json.decodeNumber(value$3);\n                  tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected float, got \" + JSON.stringify(value$3));\n                } else {\n                  tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field averageGrade on type EvaluationCriterionAverage is missing\");\n                }\n                return {\n                        evaluationCriterionId: tmp,\n                        averageGrade: tmp$1\n                      };\n              })) : Js_exn.raiseError(\"graphql_ppx: Field averageGrades on type StudentDetails is missing\")\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field studentDetails on type Query is missing\");\n  }\n  var match$29 = Js_dict.get(value$1, \"coachNotes\");\n  return {\n          studentDetails: tmp,\n          coachNotes: match$29 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$29))).map((function (value) {\n                    var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                    var match = Js_dict.get(value$1, \"id\");\n                    var tmp;\n                    if (match !== undefined) {\n                      var value$2 = Caml_option.valFromOption(match);\n                      var match$1 = Js_json.decodeString(value$2);\n                      tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                    } else {\n                      tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CoachNote is missing\");\n                    }\n                    var match$2 = Js_dict.get(value$1, \"note\");\n                    var tmp$1;\n                    if (match$2 !== undefined) {\n                      var value$3 = Caml_option.valFromOption(match$2);\n                      var match$3 = Js_json.decodeString(value$3);\n                      tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                    } else {\n                      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field note on type CoachNote is missing\");\n                    }\n                    var match$4 = Js_dict.get(value$1, \"createdAt\");\n                    var match$5 = Js_dict.get(value$1, \"author\");\n                    var tmp$2;\n                    if (match$5 !== undefined) {\n                      var value$4 = Caml_option.valFromOption(match$5);\n                      var match$6 = Js_json.decodeNull(value$4);\n                      if (match$6 !== undefined) {\n                        tmp$2 = undefined;\n                      } else {\n                        var value$5 = Js_option.getExn(Js_json.decodeObject(value$4));\n                        var match$7 = Js_dict.get(value$5, \"id\");\n                        var tmp$3;\n                        if (match$7 !== undefined) {\n                          var value$6 = Caml_option.valFromOption(match$7);\n                          var match$8 = Js_json.decodeString(value$6);\n                          tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n                        } else {\n                          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field id on type User is missing\");\n                        }\n                        var match$9 = Js_dict.get(value$5, \"name\");\n                        var tmp$4;\n                        if (match$9 !== undefined) {\n                          var value$7 = Caml_option.valFromOption(match$9);\n                          var match$10 = Js_json.decodeString(value$7);\n                          tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n                        } else {\n                          tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field name on type User is missing\");\n                        }\n                        var match$11 = Js_dict.get(value$5, \"title\");\n                        var tmp$5;\n                        if (match$11 !== undefined) {\n                          var value$8 = Caml_option.valFromOption(match$11);\n                          var match$12 = Js_json.decodeString(value$8);\n                          tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n                        } else {\n                          tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field title on type User is missing\");\n                        }\n                        var match$13 = Js_dict.get(value$5, \"avatarUrl\");\n                        var tmp$6;\n                        if (match$13 !== undefined) {\n                          var value$9 = Caml_option.valFromOption(match$13);\n                          var match$14 = Js_json.decodeNull(value$9);\n                          if (match$14 !== undefined) {\n                            tmp$6 = undefined;\n                          } else {\n                            var match$15 = Js_json.decodeString(value$9);\n                            tmp$6 = match$15 !== undefined ? match$15 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n                          }\n                        } else {\n                          tmp$6 = undefined;\n                        }\n                        tmp$2 = {\n                          id: tmp$3,\n                          name: tmp$4,\n                          title: tmp$5,\n                          avatarUrl: tmp$6\n                        };\n                      }\n                    } else {\n                      tmp$2 = undefined;\n                    }\n                    return {\n                            id: tmp,\n                            note: tmp$1,\n                            createdAt: match$4 !== undefined ? Caml_option.valFromOption(match$4) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type CoachNote is missing\"),\n                            author: tmp$2\n                          };\n                  })) : Js_exn.raiseError(\"graphql_ppx: Field coachNotes on type Query is missing\")\n        };\n}\n\nfunction make(studentId, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"studentId\",\n                    studentId\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var studentId = variables.studentId;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([/* tuple */[\n                    \"studentId\",\n                    studentId\n                  ]].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(studentId, param) {\n  return Js_dict.fromArray([/* tuple */[\n                  \"studentId\",\n                  studentId\n                ]].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, studentId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([/* tuple */[\n                      \"studentId\",\n                      studentId\n                    ]].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar StudentDetailsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateStudentDetails(setState, studentId, details, coachNotes) {\n  var studentDetails = CoursesStudents__StudentDetails.makeFromJs(studentId, details, coachNotes);\n  return Curry._1(setState, (function (state) {\n                return {\n                        selectedTab: state.selectedTab,\n                        studentData: /* Loaded */[studentDetails],\n                        submissions: state.submissions\n                      };\n              }));\n}\n\nfunction getStudentDetails(studentId, setState, param) {\n  Curry._1(setState, (function (state) {\n          return {\n                  selectedTab: state.selectedTab,\n                  studentData: /* Loading */0,\n                  submissions: state.submissions\n                };\n        }));\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(studentId, /* () */0)).then((function (response) {\n          updateStudentDetails(setState, studentId, response.studentDetails, response.coachNotes);\n          return Promise.resolve(/* () */0);\n        }));\n  return ;\n}\n\nfunction updateSubmissions(setState, submissions) {\n  return Curry._1(setState, (function (state) {\n                return {\n                        selectedTab: state.selectedTab,\n                        studentData: state.studentData,\n                        submissions: submissions\n                      };\n              }));\n}\n\nfunction doughnutChart(color, percentage) {\n  return React.createElement(\"svg\", {\n              className: \"student-overlay__doughnut-chart \" + color,\n              viewBox: \"0 0 36 36\"\n            }, React.createElement(\"path\", {\n                  className: \"student-overlay__doughnut-chart-bg\",\n                  d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n                }), React.createElement(\"path\", {\n                  className: \"student-overlay__doughnut-chart-stroke\",\n                  d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\",\n                  strokeDasharray: percentage + \", 100\"\n                }), React.createElement(\"text\", {\n                  className: \"student-overlay__doughnut-chart-text font-semibold\",\n                  x: \"50%\",\n                  y: \"58%\"\n                }, percentage + \"%\"));\n}\n\nfunction targetsCompletionStatus(targetsCompleted, totalTargets) {\n  var targetCompletionPercent = String(targetsCompleted / totalTargets * 100.0 | 0);\n  return React.createElement(\"div\", {\n              \"aria-label\": \"target-completion-status\",\n              className: \"w-full lg:w-1/2 px-2\"\n            }, React.createElement(\"div\", {\n                  className: \"student-overlay__doughnut-chart-container\"\n                }, doughnutChart(\"purple\", targetCompletionPercent), React.createElement(\"p\", {\n                      className: \"text-sm font-semibold text-center mt-3\"\n                    }, \"Total Targets Completed\"), React.createElement(\"p\", {\n                      className: \"text-sm text-gray-700 font-semibold text-center mt-1\"\n                    }, String(targetsCompleted | 0) + (\"/\" + (String(totalTargets | 0) + \" Targets\")))));\n}\n\nfunction quizPerformanceChart(averageQuizScore, quizzesAttempted) {\n  if (averageQuizScore !== undefined) {\n    return React.createElement(\"div\", {\n                \"aria-label\": \"quiz-performance-chart\",\n                className: \"w-full lg:w-1/2 px-2 mt-2 lg:mt-0\"\n              }, React.createElement(\"div\", {\n                    className: \"student-overlay__doughnut-chart-container\"\n                  }, doughnutChart(\"pink\", String(averageQuizScore | 0)), React.createElement(\"p\", {\n                        className: \"text-sm font-semibold text-center mt-3\"\n                      }, \"Average Quiz Score\"), React.createElement(\"p\", {\n                        className: \"text-sm text-gray-700 font-semibold text-center leading-tight mt-1\"\n                      }, quizzesAttempted + \" Quizzes Attempted\")));\n  } else {\n    return null;\n  }\n}\n\nfunction averageGradeCharts(evaluationCriteria, averageGrades) {\n  return $$Array.map((function (grade) {\n                var criterion = CoursesStudents__StudentDetails.evaluationCriterionForGrade(grade, evaluationCriteria, \"CoursesStudents__StudentOverlay\");\n                var passGrade = CoursesStudents__EvaluationCriterion.passGrade(criterion);\n                var averageGrade = CoursesStudents__StudentDetails.gradeValue(grade);\n                return React.createElement(\"div\", {\n                            key: CoursesStudents__EvaluationCriterion.id(criterion),\n                            \"aria-label\": \"average-grade-for-criterion-\" + CoursesStudents__EvaluationCriterion.id(criterion),\n                            className: \"flex w-full lg:w-1/2 px-2 mt-2\"\n                          }, React.createElement(\"div\", {\n                                className: \"student-overlay__pie-chart-container\"\n                              }, React.createElement(\"div\", {\n                                    className: \"flex px-5 pt-4 text-center items-center\"\n                                  }, React.createElement(\"svg\", {\n                                        className: \"student-overlay__pie-chart \" + (\n                                          averageGrade < passGrade ? \"student-overlay__pie-chart--fail\" : \"student-overlay__pie-chart--pass\"\n                                        ),\n                                        viewBox: \"0 0 32 32\"\n                                      }, React.createElement(\"circle\", {\n                                            className: \"student-overlay__pie-chart-circle \" + (\n                                              averageGrade < passGrade ? \"student-overlay__pie-chart-circle--fail\" : \"student-overlay__pie-chart-circle--pass\"\n                                            ),\n                                            cx: \"16\",\n                                            cy: \"16\",\n                                            r: \"16\",\n                                            strokeDasharray: CoursesStudents__StudentDetails.gradeAsPercentage(grade, criterion) + \", 100\"\n                                          })), React.createElement(\"span\", {\n                                        className: \"ml-3 text-lg font-semibold\"\n                                      }, grade.grade.toString() + (\"/\" + String(criterion.maxGrade)))), React.createElement(\"p\", {\n                                    className: \"text-sm font-semibold px-5 pt-3 pb-4\"\n                                  }, CoursesStudents__EvaluationCriterion.name(criterion))));\n              }), averageGrades);\n}\n\nfunction test(value, url) {\n  var tester = new RegExp(value);\n  return tester.test(url);\n}\n\nfunction socialLinkIconClass(url) {\n  if (test(\"twitter\", url)) {\n    return \"fab fa-twitter\";\n  } else if (test(\"facebook\", url)) {\n    return \"fab fa-facebook-f\";\n  } else if (test(\"instagram\", url)) {\n    return \"fab fa-instagram\";\n  } else if (test(\"youtube\", url)) {\n    return \"fab fa-youtube\";\n  } else if (test(\"linkedin\", url)) {\n    return \"fab fa-linkedin\";\n  } else if (test(\"reddit\", url)) {\n    return \"fab fa-reddit\";\n  } else if (test(\"flickr\", url)) {\n    return \"fab fa-flickr\";\n  } else if (test(\"github\", url)) {\n    return \"fab fa-github\";\n  } else {\n    return \"fas fa-users\";\n  }\n}\n\nfunction showSocialLinks(socialLinks) {\n  return React.createElement(\"div\", {\n              className: \"inline-flex flex-wrap justify-center text-lg text-gray-800 mt-3 bg-gray-100 px-2 rounded-lg\"\n            }, $$Array.mapi((function (index, link) {\n                    return React.createElement(\"a\", {\n                                key: String(index),\n                                className: \"px-2 py-1 inline-block hover:text-primary-500\",\n                                href: link,\n                                target: \"_blank\"\n                              }, React.createElement(\"i\", {\n                                    className: socialLinkIconClass(link)\n                                  }));\n                  }), socialLinks));\n}\n\nfunction personalInfo(studentDetails) {\n  var match = CoursesStudents__StudentDetails.phone(studentDetails);\n  var socialLinks = CoursesStudents__StudentDetails.socialLinks(studentDetails);\n  return React.createElement(\"div\", {\n              className: \"mt-2 text-center\"\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-wrap justify-center text-xs font-semibold text-gray-800\"\n                }, React.createElement(\"div\", {\n                      className: \"flex items-center px-2\"\n                    }, React.createElement(\"i\", {\n                          className: \"fas fa-envelope\"\n                        }), React.createElement(\"p\", {\n                          className: \"ml-2 tracking-wide\"\n                        }, CoursesStudents__StudentDetails.email(studentDetails))), match !== undefined ? React.createElement(\"div\", {\n                        className: \"flex items-center px-2\"\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-phone\"\n                          }), React.createElement(\"p\", {\n                            className: \"ml-2 tracking-wide\"\n                          }, match)) : null), ArrayUtils.isNotEmpty(socialLinks) ? showSocialLinks(socialLinks) : null);\n}\n\nfunction setSelectedTab(selectedTab, setState) {\n  return Curry._1(setState, (function (state) {\n                return {\n                        selectedTab: selectedTab,\n                        studentData: state.studentData,\n                        submissions: state.submissions\n                      };\n              }));\n}\n\nfunction studentLevelClasses(levelNumber, levelCompleted, currentLevelNumber) {\n  var reached = Caml_obj.caml_lessequal(levelNumber, currentLevelNumber) ? \"student-overlay__student-level--reached\" : \"\";\n  var current = Caml_obj.caml_equal(levelNumber, currentLevelNumber) ? \" student-overlay__student-level--current\" : \"\";\n  var completed = levelCompleted ? \" student-overlay__student-level--completed\" : \"\";\n  return reached + (current + completed);\n}\n\nfunction levelProgressBar(levelId, levels, levelsCompleted) {\n  var applicableLevels = levels.filter((function (level) {\n          return CoursesStudents__Level.number(level) !== 0;\n        }));\n  var courseCompleted = $$Array.for_all((function (level) {\n          return $$Array.mem(CoursesStudents__Level.id(level), levelsCompleted);\n        }), applicableLevels);\n  var currentLevelNumber = CoursesStudents__Level.number(ArrayUtils.unsafeFind((function (level) {\n              return CoursesStudents__Level.id(level) === levelId;\n            }), \"Unable to find level with id\" + (levelId + \"in StudentOverlay\"), applicableLevels));\n  return React.createElement(\"div\", {\n              className: \"mb-8\"\n            }, React.createElement(\"div\", {\n                  className: \"flex justify-between items-end\"\n                }, React.createElement(\"h6\", {\n                      className: \"text-sm font-semibold\"\n                    }, \"Level Progress\"), courseCompleted ? React.createElement(\"p\", {\n                        className: \"text-green-600 font-semibold\"\n                      }, \"🎉\", React.createElement(\"span\", {\n                            className: \"text-xs ml-px\"\n                          }, \"Course Completed!\")) : null), React.createElement(\"div\", {\n                  className: \"h-12 flex items-center\"\n                }, React.createElement(\"ul\", {\n                      className: \"student-overlay__student-level-progress flex w-full \" + (\n                        courseCompleted ? \"student-overlay__student-level-progress--completed\" : \"\"\n                      )\n                    }, $$Array.map((function (level) {\n                            var levelNumber = CoursesStudents__Level.number(level);\n                            var levelCompleted = $$Array.mem(CoursesStudents__Level.id(level), levelsCompleted);\n                            return React.createElement(\"li\", {\n                                        key: CoursesStudents__Level.id(level),\n                                        className: \"flex-1 student-overlay__student-level \" + studentLevelClasses(levelNumber, levelCompleted, currentLevelNumber)\n                                      }, React.createElement(\"span\", {\n                                            className: \"student-overlay__student-level-count\"\n                                          }, String(levelNumber)));\n                          }), CoursesStudents__Level.sort(applicableLevels)))));\n}\n\nfunction addNoteCB(setState, studentDetails, note) {\n  return Curry._1(setState, (function (state) {\n                return {\n                        selectedTab: state.selectedTab,\n                        studentData: /* Loaded */[CoursesStudents__StudentDetails.addNewNote(note, studentDetails)],\n                        submissions: state.submissions\n                      };\n              }));\n}\n\nfunction removeNoteCB(setState, studentDetails, noteId) {\n  return Curry._1(setState, (function (state) {\n                return {\n                        selectedTab: state.selectedTab,\n                        studentData: /* Loaded */[CoursesStudents__StudentDetails.removeNote(noteId, studentDetails)],\n                        submissions: state.submissions\n                      };\n              }));\n}\n\nfunction userInfo(key, avatarUrl, name, title) {\n  return React.createElement(\"div\", {\n              key: key,\n              className: \"shadow rounded-lg p-4 flex items-center mt-2\"\n            }, CoursesStudents__TeamCoaches.avatar(undefined, avatarUrl, name), React.createElement(\"div\", {\n                  className: \"ml-2 md:ml-3\"\n                }, React.createElement(\"div\", {\n                      className: \"text-sm font-semibold\"\n                    }, name), React.createElement(\"div\", {\n                      className: \"text-xs\"\n                    }, title)));\n}\n\nfunction coachInfo(teamCoaches, studentDetails) {\n  var coaches = CoursesStudents__TeamInfo.coaches(teamCoaches, CoursesStudents__StudentDetails.team(studentDetails));\n  var title = CoursesStudents__StudentDetails.teamHasManyStudents(studentDetails) ? \"Team Coaches\" : \"Personal Coaches\";\n  if (ArrayUtils.isNotEmpty(coaches)) {\n    return React.createElement(\"div\", {\n                className: \"mb-8\"\n              }, React.createElement(\"h6\", {\n                    className: \"font-semibold\"\n                  }, title), $$Array.map((function (coach) {\n                      return userInfo(UserProxy.userId(coach), UserProxy.avatarUrl(coach), UserProxy.name(coach), UserProxy.title(coach));\n                    }), coaches));\n  } else {\n    return null;\n  }\n}\n\nfunction navigateToStudent(setState, _event) {\n  return Curry._1(setState, (function (param) {\n                return initialState;\n              }));\n}\n\nfunction otherTeamMembers(setState, studentId, studentDetails) {\n  if (CoursesStudents__StudentDetails.teamHasManyStudents(studentDetails)) {\n    return React.createElement(\"div\", {\n                className: \"block mb-8\"\n              }, React.createElement(\"h6\", {\n                    className: \"font-semibold\"\n                  }, \"Other Team Members\"), $$Array.map((function (student) {\n                      var path = \"/students/\" + (CoursesStudents__TeamInfo.studentId(student) + \"/report\");\n                      return React.createElement(Link.make, {\n                                  href: path,\n                                  className: \"block\",\n                                  onClick: (function (param) {\n                                      return Curry._1(setState, (function (param) {\n                                                    return initialState;\n                                                  }));\n                                    }),\n                                  children: userInfo(CoursesStudents__TeamInfo.studentId(student), CoursesStudents__TeamInfo.studentAvatarUrl(student), CoursesStudents__TeamInfo.studentName(student), CoursesStudents__TeamInfo.studentTitle(student)),\n                                  key: CoursesStudents__TeamInfo.studentId(student)\n                                });\n                    }), CoursesStudents__TeamInfo.otherStudents(studentId, CoursesStudents__StudentDetails.team(studentDetails))));\n  } else {\n    return null;\n  }\n}\n\nfunction inactiveWarning(teamInfo) {\n  var match = CoursesStudents__TeamInfo.droppedOutAt(teamInfo);\n  var match$1 = CoursesStudents__TeamInfo.accessEndsAt(teamInfo);\n  var warning;\n  if (match !== undefined) {\n    warning = \"This student dropped out of the course on \" + (DateFns.formatPreset(Caml_option.valFromOption(match), true, true, undefined, /* () */0) + \".\");\n  } else if (match$1 !== undefined) {\n    var accessEndsAt = Caml_option.valFromOption(match$1);\n    warning = DateFns.isPast(accessEndsAt) ? \"This student's access to the course ended on \" + (DateFns.formatPreset(accessEndsAt, true, true, undefined, /* () */0) + \".\") : undefined;\n  } else {\n    warning = undefined;\n  }\n  return OptionUtils.mapWithDefault((function (warning) {\n                return React.createElement(\"div\", {\n                            className: \"border border-yellow-400 rounded bg-yellow-400 py-2 px-3 mt-3\"\n                          }, React.createElement(\"i\", {\n                                className: \"fas fa-exclamation-triangle\"\n                              }), React.createElement(\"span\", {\n                                className: \"ml-2\"\n                              }, warning));\n              }), null, warning);\n}\n\nfunction CoursesStudents__StudentOverlay(Props) {\n  var courseId = Props.courseId;\n  var studentId = Props.studentId;\n  var levels = Props.levels;\n  var userId = Props.userId;\n  var teamCoaches = Props.teamCoaches;\n  var match = React.useState((function () {\n          return initialState;\n        }));\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          ScrollLock.activate(/* () */0);\n          return (function (param) {\n                    return ScrollLock.deactivate(/* () */0);\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          return getStudentDetails(studentId, setState, /* () */0);\n        }), [studentId]);\n  var match$1 = state.studentData;\n  var tmp;\n  if (match$1) {\n    var studentDetails = match$1[0];\n    var match$2 = CoursesStudents__StudentDetails.avatarUrl(studentDetails);\n    var match$3 = state.selectedTab;\n    var match$4 = state.selectedTab;\n    var match$5 = state.selectedTab;\n    tmp = React.createElement(\"div\", {\n          className: \"flex flex-col md:flex-row md:h-screen\"\n        }, React.createElement(\"div\", {\n              className: \"w-full md:w-2/5 bg-white p-4 md:p-8 md:py-6 2xl:px-16 2xl:py-12 md:overflow-y-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"student-overlay__student-details relative pb-8\"\n                }, React.createElement(\"div\", {\n                      className: \"absolute z-50 left-0 cursor-pointer top-0 inline-flex p-1 rounded-full bg-gray-200 h-10 w-10 justify-center items-center text-gray-700 hover:text-gray-900 hover:bg-gray-300\",\n                      onClick: (function (param) {\n                          return closeOverlay(courseId);\n                        })\n                    }, React.createElement(Icon.make, {\n                          className: \"if i-times-regular text-xl lg:text-2xl\"\n                        })), React.createElement(\"div\", {\n                      className: \"student-overlay__student-avatar mx-auto w-18 h-18 md:w-24 md:h-24 text-xs border border-yellow-500 rounded-full overflow-hidden flex-shrink-0\"\n                    }, match$2 !== undefined ? React.createElement(\"img\", {\n                            className: \"w-full object-cover\",\n                            src: match$2\n                          }) : React.createElement(Avatar.make, {\n                            name: CoursesStudents__StudentDetails.name(studentDetails),\n                            className: \"object-cover\"\n                          })), React.createElement(\"h2\", {\n                      className: \"text-lg text-center mt-3\"\n                    }, CoursesStudents__StudentDetails.name(studentDetails)), React.createElement(\"p\", {\n                      className: \"text-sm font-semibold text-center mt-1\"\n                    }, CoursesStudents__StudentDetails.title(studentDetails)), personalInfo(studentDetails), inactiveWarning(CoursesStudents__StudentDetails.team(studentDetails))), levelProgressBar(CoursesStudents__StudentDetails.levelId(studentDetails), levels, CoursesStudents__StudentDetails.completedLevelIds(studentDetails)), React.createElement(\"div\", {\n                  className: \"mb-8\"\n                }, React.createElement(\"h6\", {\n                      className: \"font-semibold\"\n                    }, \"Targets Overview\"), React.createElement(\"div\", {\n                      className: \"flex -mx-2 flex-wrap mt-2\"\n                    }, targetsCompletionStatus(CoursesStudents__StudentDetails.targetsCompleted(studentDetails), CoursesStudents__StudentDetails.totalTargets(studentDetails)), quizPerformanceChart(CoursesStudents__StudentDetails.averageQuizScore(studentDetails), CoursesStudents__StudentDetails.quizzesAttempted(studentDetails)))), ArrayUtils.isNotEmpty(CoursesStudents__StudentDetails.averageGrades(studentDetails)) ? React.createElement(\"div\", {\n                    className: \"mb-8\"\n                  }, React.createElement(\"h6\", {\n                        className: \"font-semibold\"\n                      }, \"Average Grades\"), React.createElement(\"div\", {\n                        className: \"flex -mx-2 flex-wrap\"\n                      }, averageGradeCharts(CoursesStudents__StudentDetails.evaluationCriteria(studentDetails), CoursesStudents__StudentDetails.averageGrades(studentDetails)))) : null, coachInfo(teamCoaches, studentDetails), otherTeamMembers(setState, studentId, studentDetails)), React.createElement(\"div\", {\n              className: \"w-full relative md:w-3/5 bg-gray-100 md:border-l pb-6 2xl:pb-12 md:overflow-y-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"sticky top-0 bg-gray-100 pt-2 md:pt-4 px-4 md:px-8 2xl:px-16 2xl:pt-10 z-30\"\n                }, React.createElement(\"ul\", {\n                      className: \"flex font-semibold border-b text-sm\"\n                    }, React.createElement(\"li\", {\n                          className: \"px-3 py-3 md:py-2 cursor-pointer text-gray-800 rounded-t-lg \" + (\n                            match$3 ? \"hover:bg-gray-200 hover:text-gray-900\" : \"border-b-3 border-primary-500 text-primary-500 -mb-px\"\n                          ),\n                          onClick: (function (_event) {\n                              return setSelectedTab(/* Notes */0, setState);\n                            })\n                        }, \"Notes\"), React.createElement(\"li\", {\n                          className: \"px-3 py-3 md:py-2 cursor-pointer text-gray-800 \" + (\n                            match$4 ? \"border-b-3 border-primary-500 text-primary-500 -mb-px\" : \"hover:bg-gray-200 hover:text-gray-900\"\n                          ),\n                          onClick: (function (_event) {\n                              return setSelectedTab(/* Submissions */1, setState);\n                            })\n                        }, \"Submissions\"))), React.createElement(\"div\", {\n                  className: \"pt-2 px-4 md:px-8 2xl:px-16\"\n                }, match$5 ? React.createElement(CoursesStudents__SubmissionsList.make, {\n                        studentId: studentId,\n                        levels: levels,\n                        submissions: state.submissions,\n                        updateSubmissionsCB: (function (param) {\n                            return updateSubmissions(setState, param);\n                          })\n                      }) : React.createElement(CoursesStudents__CoachNotes.make, {\n                        studentId: studentId,\n                        coachNotes: CoursesStudents__StudentDetails.coachNotes(studentDetails),\n                        addNoteCB: (function (param) {\n                            return addNoteCB(setState, studentDetails, param);\n                          }),\n                        removeNoteCB: (function (param) {\n                            return removeNoteCB(setState, studentDetails, param);\n                          }),\n                        userId: userId\n                      }))));\n  } else {\n    tmp = React.createElement(\"div\", {\n          className: \"flex flex-col md:flex-row md:h-screen\"\n        }, React.createElement(\"div\", {\n              className: \"w-full md:w-2/5 bg-white p-4 md:p-8 2xl:p-16\"\n            }, SkeletonLoading.image(/* () */0), SkeletonLoading.multiple(2, SkeletonLoading.profileCard(/* () */0))), React.createElement(\"div\", {\n              className: \"w-full relative md:w-3/5 bg-gray-100 md:border-l p-4 md:p-8 2xl:p-16\"\n            }, SkeletonLoading.contents(/* () */0), SkeletonLoading.profileCard(/* () */0)));\n  }\n  return React.createElement(\"div\", {\n              className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll md:overflow-hidden bg-white\"\n            }, tmp);\n}\n\nvar make$1 = CoursesStudents__StudentOverlay;\n\nexports.str = str;\nexports.initialState = initialState;\nexports.closeOverlay = closeOverlay;\nexports.StudentDetailsQuery = StudentDetailsQuery;\nexports.updateStudentDetails = updateStudentDetails;\nexports.getStudentDetails = getStudentDetails;\nexports.updateSubmissions = updateSubmissions;\nexports.doughnutChart = doughnutChart;\nexports.targetsCompletionStatus = targetsCompletionStatus;\nexports.quizPerformanceChart = quizPerformanceChart;\nexports.averageGradeCharts = averageGradeCharts;\nexports.test = test;\nexports.socialLinkIconClass = socialLinkIconClass;\nexports.showSocialLinks = showSocialLinks;\nexports.personalInfo = personalInfo;\nexports.setSelectedTab = setSelectedTab;\nexports.studentLevelClasses = studentLevelClasses;\nexports.levelProgressBar = levelProgressBar;\nexports.addNoteCB = addNoteCB;\nexports.removeNoteCB = removeNoteCB;\nexports.userInfo = userInfo;\nexports.coachInfo = coachInfo;\nexports.navigateToStudent = navigateToStudent;\nexports.otherTeamMembers = otherTeamMembers;\nexports.inactiveWarning = inactiveWarning;\nexports.make = make$1;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}