{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar Fetch = require(\"bs-fetch/src/Fetch.js\");\n\nvar React = require(\"react\");\n\nvar UrlUtils = require(\"../../../../shared/utils/UrlUtils.bs.js\");\n\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\n\nvar EmailUtils = require(\"../../../../shared/utils/EmailUtils.bs.js\");\n\nvar Pervasives = require(\"bs-platform/lib/js/pervasives.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\n\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\n\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nvar CoachesSchoolIndex__Coach = require(\"../../types/school_index/CoachesSchoolIndex__Coach.bs.js\");\n\nvar UnexpectedResponse = Caml_exceptions.create(\"SA_Coaches_CoachEditor.UnexpectedResponse\");\n\nfunction handleApiError(match) {\n  if (Caml_exceptions.caml_is_extension(match) && match[0] === UnexpectedResponse) {\n    return match[1];\n  }\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    return {\n      name: state.name,\n      email: state.email,\n      title: state.title,\n      linkedinUrl: state.linkedinUrl,\n      \"public\": state[\"public\"],\n      exited: state.exited,\n      connectLink: state.connectLink,\n      imageFileName: state.imageFileName,\n      dirty: state.dirty,\n      saving: !state.saving,\n      hasNameError: state.hasNameError,\n      hasTitleError: state.hasTitleError,\n      hasEmailError: state.hasEmailError,\n      hasLinkedInUrlError: state.hasLinkedInUrlError,\n      hasConnectLinkError: state.hasConnectLinkError,\n      affiliation: state.affiliation\n    };\n  } else {\n    switch (action.tag | 0) {\n      case\n      /* UpdateName */\n      0:\n        return {\n          name: action[0],\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: action[1],\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateEmail */\n      1:\n        return {\n          name: state.name,\n          email: action[0],\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: action[1],\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateTitle */\n      2:\n        return {\n          name: state.name,\n          email: state.email,\n          title: action[0],\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: action[1],\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateLinkedInUrl */\n      3:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: action[0],\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: action[1],\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateConnectLink */\n      4:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: action[0],\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: action[1],\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdatePublic */\n      5:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": action[0],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateImageFileName */\n      6:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: action[0],\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateExited */\n      7:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: action[0],\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: state.affiliation\n        };\n\n      case\n      /* UpdateAffiliation */\n      8:\n        return {\n          name: state.name,\n          email: state.email,\n          title: state.title,\n          linkedinUrl: state.linkedinUrl,\n          \"public\": state[\"public\"],\n          exited: state.exited,\n          connectLink: state.connectLink,\n          imageFileName: state.imageFileName,\n          dirty: true,\n          saving: state.saving,\n          hasNameError: state.hasNameError,\n          hasTitleError: state.hasTitleError,\n          hasEmailError: state.hasEmailError,\n          hasLinkedInUrlError: state.hasLinkedInUrlError,\n          hasConnectLinkError: state.hasConnectLinkError,\n          affiliation: action[0]\n        };\n    }\n  }\n}\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction nameOrTitleInvalid(name) {\n  return name.length < 2;\n}\n\nfunction updateName(send, name) {\n  return Curry._1(send,\n  /* UpdateName */\n  Block.__(0, [name, name.length < 2]));\n}\n\nfunction emailInvalid(email) {\n  return EmailUtils.isInvalid(false, email);\n}\n\nfunction updateEmail(send, email) {\n  return Curry._1(send,\n  /* UpdateEmail */\n  Block.__(1, [email, EmailUtils.isInvalid(false, email)]));\n}\n\nfunction updateTitle(send, title) {\n  return Curry._1(send,\n  /* UpdateTitle */\n  Block.__(2, [title, title.length < 2]));\n}\n\nfunction updateLinkedInUrl(send, linkedinUrl) {\n  var regex = /(https?)?:?(\\/\\/)?(([w]{3}||\\w\\w)\\.)?linkedin.com(\\w+:{0,1}\\w*@)?(\\S+)(:([0-9])+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n  var hasError = linkedinUrl.length < 1 ? false : !regex.test(linkedinUrl);\n  return Curry._1(send,\n  /* UpdateLinkedInUrl */\n  Block.__(3, [linkedinUrl, hasError]));\n}\n\nfunction updateConnectLink(send, connectLink) {\n  return Curry._1(send,\n  /* UpdateConnectLink */\n  Block.__(4, [connectLink, UrlUtils.isInvalid(true, connectLink)]));\n}\n\nfunction booleanButtonClasses(selected) {\n  return \"toggle-button__button\" + (selected ? \" toggle-button__button--active\" : \"\");\n}\n\nfunction saveDisabled(state) {\n  if (state.title.length < 2 || state.name.length < 2 || EmailUtils.isInvalid(false, state.email) || state.hasLinkedInUrlError || UrlUtils.isInvalid(true, state.connectLink) || !state.dirty) {\n    return true;\n  } else {\n    return state.saving;\n  }\n}\n\nfunction computeInitialState(coach) {\n  if (coach !== undefined) {\n    var coach$1 = Caml_option.valFromOption(coach);\n    var match = CoachesSchoolIndex__Coach.linkedinUrl(coach$1);\n    var match$1 = CoachesSchoolIndex__Coach.connectLink(coach$1);\n    var match$2 = CoachesSchoolIndex__Coach.imageFileName(coach$1);\n    return {\n      name: CoachesSchoolIndex__Coach.name(coach$1),\n      email: CoachesSchoolIndex__Coach.email(coach$1),\n      title: CoachesSchoolIndex__Coach.title(coach$1),\n      linkedinUrl: match !== undefined ? match : \"\",\n      \"public\": CoachesSchoolIndex__Coach.$$public(coach$1),\n      exited: CoachesSchoolIndex__Coach.exited(coach$1),\n      connectLink: match$1 !== undefined ? match$1 : \"\",\n      imageFileName: match$2 !== undefined ? match$2 : \"\",\n      dirty: false,\n      saving: false,\n      hasNameError: false,\n      hasTitleError: false,\n      hasEmailError: false,\n      hasLinkedInUrlError: false,\n      hasConnectLinkError: false,\n      affiliation: OptionUtils.toString(CoachesSchoolIndex__Coach.affiliation(coach$1))\n    };\n  } else {\n    return {\n      name: \"\",\n      email: \"\",\n      title: \"\",\n      linkedinUrl: \"\",\n      \"public\": false,\n      exited: false,\n      connectLink: \"\",\n      imageFileName: \"\",\n      dirty: false,\n      saving: false,\n      hasNameError: false,\n      hasTitleError: false,\n      hasEmailError: false,\n      hasLinkedInUrlError: false,\n      hasConnectLinkError: false,\n      affiliation: \"\"\n    };\n  }\n}\n\nfunction SA_Coaches_CoachEditor(Props) {\n  var coach = Props.coach;\n  var closeFormCB = Props.closeFormCB;\n  var updateCoachCB = Props.updateCoachCB;\n  var authenticityToken = Props.authenticityToken;\n  var match = React.useReducer(reducer, coach, computeInitialState);\n  var send = match[1];\n  var state = match[0];\n  var formId = \"coach-create-form\";\n\n  var avatarUploaderText = function avatarUploaderText(param) {\n    var match = state.imageFileName;\n\n    if (match === \"\") {\n      return \"Upload an avatar\";\n    } else {\n      return \"Replace avatar: \" + state.imageFileName;\n    }\n  };\n\n  var handleResponseJSON = function handleResponseJSON(json) {\n    var error = Json_decode.field(\"error\", function (param) {\n      return Json_decode.nullable(Json_decode.string, param);\n    }, json);\n\n    if (error !== null) {\n      Curry._1(send,\n      /* UpdateSaving */\n      0);\n\n      return $$Notification.error(\"Something went wrong!\", error);\n    } else {\n      var json$1 = json;\n      var id = Json_decode.field(\"id\", Json_decode.$$int, json$1);\n      var imageUrl = Json_decode.field(\"image_url\", Json_decode.string, json$1);\n      var newCoach = CoachesSchoolIndex__Coach.make(id, state.name, imageUrl, state.email, state.title, state.linkedinUrl, state[\"public\"], state.connectLink, state.exited, state.imageFileName, state.affiliation);\n\n      if (coach !== undefined) {\n        $$Notification.success(\"Success\", \"Coach updated successfully\");\n      } else {\n        $$Notification.success(\"Success\", \"Coach created successfully\");\n      }\n\n      Curry._1(updateCoachCB, newCoach);\n\n      return Curry._1(closeFormCB,\n      /* () */\n      0);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"blanket\"\n  }, React.createElement(\"div\", {\n    className: \"drawer-right\"\n  }, React.createElement(\"div\", {\n    className: \"drawer-right__close absolute\"\n  }, React.createElement(\"button\", {\n    className: \"flex items-center justify-center bg-white text-gray-600 font-bold py-3 px-5 rounded-l-full rounded-r-none hover:text-gray-700 focus:outline-none mt-4\",\n    title: \"close\",\n    onClick: function onClick(_e) {\n      return Curry._1(closeFormCB,\n      /* () */\n      0);\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-times text-xl\"\n  }))), React.createElement(\"div\", {\n    className: \"drawer-right-form w-full\"\n  }, React.createElement(\"div\", {\n    className: \"w-full\"\n  }, React.createElement(\"div\", {\n    className: \"mx-auto bg-white\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl px-6 pt-5 mx-auto\"\n  }, React.createElement(\"h5\", {\n    className: \"uppercase text-center border-b border-gray-400 pb-2\"\n  }, coach !== undefined ? CoachesSchoolIndex__Coach.name(Caml_option.valFromOption(coach)) : \"Add New Coach\")), React.createElement(\"form\", {\n    key: \"xxx\",\n    id: formId,\n    onSubmit: function onSubmit($$event) {\n      var $$event$1 = $$event;\n      $$event$1.preventDefault();\n\n      Curry._1(send,\n      /* UpdateSaving */\n      0);\n\n      var element = document.getElementById(formId);\n\n      if (element == null) {\n        return (\n          /* () */\n          0\n        );\n      } else {\n        var formData = new FormData(element);\n        var endPoint = coach !== undefined ? \"/school/coaches/\" + String(CoachesSchoolIndex__Coach.id(Caml_option.valFromOption(coach))) : \"/school/coaches/\";\n        var httpMethod = coach !== undefined ?\n        /* Patch */\n        8 :\n        /* Post */\n        2;\n        fetch(endPoint, Fetch.RequestInit.make(httpMethod, undefined, Caml_option.some(formData), undefined, undefined, undefined,\n        /* SameOrigin */\n        1, undefined, undefined, undefined, undefined, undefined)(\n        /* () */\n        0)).then(function (response) {\n          if (response.ok || response.status === 422) {\n            return response.json();\n          } else {\n            return Promise.reject([UnexpectedResponse, response.status]);\n          }\n        }).then(function (json) {\n          return Promise.resolve(handleResponseJSON(json));\n        })[\"catch\"](function (error) {\n          var match = handleApiError(error);\n          return Promise.resolve(match !== undefined ? (Curry._1(send,\n          /* UpdateSaving */\n          0), $$Notification.error(String(match), \"Please try again\")) : (Curry._1(send,\n          /* UpdateSaving */\n          0), $$Notification.error(\"Something went wrong!\", \"Please try again\")));\n        });\n        return (\n          /* () */\n          0\n        );\n      }\n    }\n  }, React.createElement(\"input\", {\n    name: \"authenticity_token\",\n    type: \"hidden\",\n    value: authenticityToken\n  }), React.createElement(\"div\", {\n    className: \"max-w-2xl px-6 pb-6 mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-gray-900 text-xs font-semibold\",\n    htmlFor: \"name\"\n  }, \"Name\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white text-gray-800 border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"name\",\n    name: \"faculty[name]\",\n    placeholder: \"Coach Name\",\n    type: \"text\",\n    value: state.name,\n    onChange: function onChange($$event) {\n      return updateName(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"is not a valid name\",\n    active: state.hasNameError\n  })), coach !== undefined ? null : React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"email\"\n  }, \"Email\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"email\",\n    name: \"faculty[email]\",\n    placeholder: \"Coach email address\",\n    type: \"email\",\n    value: state.email,\n    onChange: function onChange($$event) {\n      return updateEmail(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"is not a valid email address\",\n    active: state.hasEmailError\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"title\"\n  }, \"Title\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"title\",\n    name: \"faculty[title]\",\n    placeholder: \"Coach Title/Expertise\",\n    type: \"text\",\n    value: state.title,\n    onChange: function onChange($$event) {\n      return updateTitle(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"is not a valid title\",\n    active: state.hasTitleError\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"affiliation\"\n  }, \"Affiliation\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"affiliation\",\n    name: \"faculty[affiliation]\",\n    placeholder: \"Acme Inc., Acme University, etc.\",\n    type: \"text\",\n    value: state.affiliation,\n    onChange: function onChange($$event) {\n      return Curry._1(send,\n      /* UpdateAffiliation */\n      Block.__(8, [$$event.target.value]));\n    }\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"linkedIn\"\n  }, \"LinkedIn\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"linkedIn\",\n    name: \"faculty[linkedin_url]\",\n    placeholder: \"LinkedIn Profile URL\",\n    type: \"text\",\n    value: state.linkedinUrl,\n    onChange: function onChange($$event) {\n      return updateLinkedInUrl(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"is not a valid LinkedIn URL\",\n    active: state.hasLinkedInUrlError\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"connectLink\"\n  }, \"Connect Link\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"connectLink\",\n    name: \"faculty[connect_link]\",\n    placeholder: \"Student connect request link for the coach\",\n    type: \"text\",\n    value: state.connectLink,\n    onChange: function onChange($$event) {\n      return updateConnectLink(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"is not a valid connect url\",\n    active: state.hasConnectLinkError\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"div\", {\n    className: \"flex items-center flex-shrink-0\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide text-xs font-semibold mr-3\",\n    htmlFor: \"evaluated\"\n  }, \"Should the coach profile be public?\"), React.createElement(\"div\", {\n    className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\",\n    id: \"notification\"\n  }, React.createElement(\"button\", {\n    className: booleanButtonClasses(state[\"public\"]),\n    name: \"faculty[public]\",\n    type: \"submit\",\n    value: \"true\",\n    onClick: function onClick(_event) {\n      _event.preventDefault();\n\n      return Curry._1(send,\n      /* UpdatePublic */\n      Block.__(5, [true]));\n    }\n  }, \"Yes\"), React.createElement(\"button\", {\n    className: booleanButtonClasses(!state[\"public\"]),\n    onClick: function onClick(_event) {\n      _event.preventDefault();\n\n      return Curry._1(send,\n      /* UpdatePublic */\n      Block.__(5, [false]));\n    }\n  }, \"No\"), React.createElement(\"input\", {\n    name: \"faculty[public]\",\n    type: \"hidden\",\n    value: Pervasives.string_of_bool(state[\"public\"])\n  })))), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide text-xs font-semibold\",\n    htmlFor: \"avatarUploader\"\n  }, \"Avatar\"), React.createElement(\"input\", {\n    className: \"hidden\",\n    id: \"sa-coach-editor__file-input\",\n    disabled: state.saving,\n    multiple: false,\n    name: \"faculty[image]\",\n    required: false,\n    type: \"file\",\n    onChange: function onChange($$event) {\n      return Curry._1(send,\n      /* UpdateImageFileName */\n      Block.__(6, [Caml_array.caml_array_get($$event.target.files, 0).name]));\n    }\n  }), React.createElement(\"label\", {\n    className: \"file-input-label mt-2\",\n    htmlFor: \"sa-coach-editor__file-input\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-upload mr-2 text-gray-600 text-lg\"\n  }), React.createElement(\"span\", {\n    className: \"truncate\"\n  }, avatarUploaderText(\n  /* () */\n  0))))), React.createElement(\"div\", {\n    className: \"p-6 bg-gray-200\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl px-6 mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex max-w-2xl w-full justify-between items-center mx-auto\"\n  }, coach !== undefined ? React.createElement(\"div\", {\n    className: \"flex items-center flex-shrink-0\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide  text-xs font-semibold mr-3\",\n    htmlFor: \"evaluated\"\n  }, \"Has the coach left the school?\"), React.createElement(\"div\", {\n    className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\",\n    id: \"exited\"\n  }, React.createElement(\"button\", {\n    className: booleanButtonClasses(state.exited),\n    name: \"faculty[exited]\",\n    onClick: function onClick(_event) {\n      _event.preventDefault();\n\n      return Curry._1(send,\n      /* UpdateExited */\n      Block.__(7, [true]));\n    }\n  }, \"Yes\"), React.createElement(\"button\", {\n    className: booleanButtonClasses(!state.exited),\n    onClick: function onClick(_event) {\n      _event.preventDefault();\n\n      return Curry._1(send,\n      /* UpdateExited */\n      Block.__(7, [false]));\n    }\n  }, \"No\"), React.createElement(\"input\", {\n    name: \"faculty[exited]\",\n    type: \"hidden\",\n    value: Pervasives.string_of_bool(state.exited)\n  }))) : null, React.createElement(\"button\", {\n    className: \"w-auto btn btn-large btn-primary\",\n    disabled: saveDisabled(state)\n  }, coach !== undefined ? \"Update Coach\" : \"Add Coach\"))))))))));\n}\n\nvar make = SA_Coaches_CoachEditor;\nexports.UnexpectedResponse = UnexpectedResponse;\nexports.handleApiError = handleApiError;\nexports.reducer = reducer;\nexports.str = str;\nexports.nameOrTitleInvalid = nameOrTitleInvalid;\nexports.updateName = updateName;\nexports.emailInvalid = emailInvalid;\nexports.updateEmail = updateEmail;\nexports.updateTitle = updateTitle;\nexports.updateLinkedInUrl = updateLinkedInUrl;\nexports.updateConnectLink = updateConnectLink;\nexports.booleanButtonClasses = booleanButtonClasses;\nexports.saveDisabled = saveDisabled;\nexports.computeInitialState = computeInitialState;\nexports.make = make;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/coaches/components/school_index/SA_Coaches_CoachEditor.bs.js"],"names":["Block","require","Curry","Fetch","React","UrlUtils","Caml_array","EmailUtils","Pervasives","Caml_option","Json_decode","OptionUtils","$$Notification","Caml_exceptions","School__InputGroupError","CoachesSchoolIndex__Coach","UnexpectedResponse","create","handleApiError","match","caml_is_extension","reducer","state","action","name","email","title","linkedinUrl","exited","connectLink","imageFileName","dirty","saving","hasNameError","hasTitleError","hasEmailError","hasLinkedInUrlError","hasConnectLinkError","affiliation","tag","str","prim","nameOrTitleInvalid","length","updateName","send","_1","__","emailInvalid","isInvalid","updateEmail","updateTitle","updateLinkedInUrl","regex","hasError","test","updateConnectLink","booleanButtonClasses","selected","saveDisabled","computeInitialState","coach","undefined","coach$1","valFromOption","match$1","match$2","$$public","toString","SA_Coaches_CoachEditor","Props","closeFormCB","updateCoachCB","authenticityToken","useReducer","formId","avatarUploaderText","param","handleResponseJSON","json","error","field","nullable","string","json$1","id","$$int","imageUrl","newCoach","make","success","createElement","className","onClick","_e","key","onSubmit","$$event","$$event$1","preventDefault","element","document","getElementById","formData","FormData","endPoint","String","httpMethod","fetch","RequestInit","some","then","response","ok","status","Promise","reject","resolve","type","value","htmlFor","placeholder","onChange","target","message","active","_event","string_of_bool","disabled","multiple","required","caml_array_get","files","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Fetch = require(\"bs-fetch/src/Fetch.js\");\nvar React = require(\"react\");\nvar UrlUtils = require(\"../../../../shared/utils/UrlUtils.bs.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar EmailUtils = require(\"../../../../shared/utils/EmailUtils.bs.js\");\nvar Pervasives = require(\"bs-platform/lib/js/pervasives.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\nvar CoachesSchoolIndex__Coach = require(\"../../types/school_index/CoachesSchoolIndex__Coach.bs.js\");\n\nvar UnexpectedResponse = Caml_exceptions.create(\"SA_Coaches_CoachEditor.UnexpectedResponse\");\n\nfunction handleApiError(match) {\n  if (Caml_exceptions.caml_is_extension(match) && match[0] === UnexpectedResponse) {\n    return match[1];\n  }\n  \n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    return {\n            name: state.name,\n            email: state.email,\n            title: state.title,\n            linkedinUrl: state.linkedinUrl,\n            public: state.public,\n            exited: state.exited,\n            connectLink: state.connectLink,\n            imageFileName: state.imageFileName,\n            dirty: state.dirty,\n            saving: !state.saving,\n            hasNameError: state.hasNameError,\n            hasTitleError: state.hasTitleError,\n            hasEmailError: state.hasEmailError,\n            hasLinkedInUrlError: state.hasLinkedInUrlError,\n            hasConnectLinkError: state.hasConnectLinkError,\n            affiliation: state.affiliation\n          };\n  } else {\n    switch (action.tag | 0) {\n      case /* UpdateName */0 :\n          return {\n                  name: action[0],\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: action[1],\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateEmail */1 :\n          return {\n                  name: state.name,\n                  email: action[0],\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: action[1],\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateTitle */2 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: action[0],\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: action[1],\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateLinkedInUrl */3 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: action[0],\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: action[1],\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateConnectLink */4 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: action[0],\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: action[1],\n                  affiliation: state.affiliation\n                };\n      case /* UpdatePublic */5 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: action[0],\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateImageFileName */6 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: action[0],\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateExited */7 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: action[0],\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: state.affiliation\n                };\n      case /* UpdateAffiliation */8 :\n          return {\n                  name: state.name,\n                  email: state.email,\n                  title: state.title,\n                  linkedinUrl: state.linkedinUrl,\n                  public: state.public,\n                  exited: state.exited,\n                  connectLink: state.connectLink,\n                  imageFileName: state.imageFileName,\n                  dirty: true,\n                  saving: state.saving,\n                  hasNameError: state.hasNameError,\n                  hasTitleError: state.hasTitleError,\n                  hasEmailError: state.hasEmailError,\n                  hasLinkedInUrlError: state.hasLinkedInUrlError,\n                  hasConnectLinkError: state.hasConnectLinkError,\n                  affiliation: action[0]\n                };\n      \n    }\n  }\n}\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction nameOrTitleInvalid(name) {\n  return name.length < 2;\n}\n\nfunction updateName(send, name) {\n  return Curry._1(send, /* UpdateName */Block.__(0, [\n                name,\n                name.length < 2\n              ]));\n}\n\nfunction emailInvalid(email) {\n  return EmailUtils.isInvalid(false, email);\n}\n\nfunction updateEmail(send, email) {\n  return Curry._1(send, /* UpdateEmail */Block.__(1, [\n                email,\n                EmailUtils.isInvalid(false, email)\n              ]));\n}\n\nfunction updateTitle(send, title) {\n  return Curry._1(send, /* UpdateTitle */Block.__(2, [\n                title,\n                title.length < 2\n              ]));\n}\n\nfunction updateLinkedInUrl(send, linkedinUrl) {\n  var regex = /(https?)?:?(\\/\\/)?(([w]{3}||\\w\\w)\\.)?linkedin.com(\\w+:{0,1}\\w*@)?(\\S+)(:([0-9])+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n  var hasError = linkedinUrl.length < 1 ? false : !regex.test(linkedinUrl);\n  return Curry._1(send, /* UpdateLinkedInUrl */Block.__(3, [\n                linkedinUrl,\n                hasError\n              ]));\n}\n\nfunction updateConnectLink(send, connectLink) {\n  return Curry._1(send, /* UpdateConnectLink */Block.__(4, [\n                connectLink,\n                UrlUtils.isInvalid(true, connectLink)\n              ]));\n}\n\nfunction booleanButtonClasses(selected) {\n  return \"toggle-button__button\" + (\n          selected ? \" toggle-button__button--active\" : \"\"\n        );\n}\n\nfunction saveDisabled(state) {\n  if (state.title.length < 2 || state.name.length < 2 || EmailUtils.isInvalid(false, state.email) || state.hasLinkedInUrlError || UrlUtils.isInvalid(true, state.connectLink) || !state.dirty) {\n    return true;\n  } else {\n    return state.saving;\n  }\n}\n\nfunction computeInitialState(coach) {\n  if (coach !== undefined) {\n    var coach$1 = Caml_option.valFromOption(coach);\n    var match = CoachesSchoolIndex__Coach.linkedinUrl(coach$1);\n    var match$1 = CoachesSchoolIndex__Coach.connectLink(coach$1);\n    var match$2 = CoachesSchoolIndex__Coach.imageFileName(coach$1);\n    return {\n            name: CoachesSchoolIndex__Coach.name(coach$1),\n            email: CoachesSchoolIndex__Coach.email(coach$1),\n            title: CoachesSchoolIndex__Coach.title(coach$1),\n            linkedinUrl: match !== undefined ? match : \"\",\n            public: CoachesSchoolIndex__Coach.$$public(coach$1),\n            exited: CoachesSchoolIndex__Coach.exited(coach$1),\n            connectLink: match$1 !== undefined ? match$1 : \"\",\n            imageFileName: match$2 !== undefined ? match$2 : \"\",\n            dirty: false,\n            saving: false,\n            hasNameError: false,\n            hasTitleError: false,\n            hasEmailError: false,\n            hasLinkedInUrlError: false,\n            hasConnectLinkError: false,\n            affiliation: OptionUtils.toString(CoachesSchoolIndex__Coach.affiliation(coach$1))\n          };\n  } else {\n    return {\n            name: \"\",\n            email: \"\",\n            title: \"\",\n            linkedinUrl: \"\",\n            public: false,\n            exited: false,\n            connectLink: \"\",\n            imageFileName: \"\",\n            dirty: false,\n            saving: false,\n            hasNameError: false,\n            hasTitleError: false,\n            hasEmailError: false,\n            hasLinkedInUrlError: false,\n            hasConnectLinkError: false,\n            affiliation: \"\"\n          };\n  }\n}\n\nfunction SA_Coaches_CoachEditor(Props) {\n  var coach = Props.coach;\n  var closeFormCB = Props.closeFormCB;\n  var updateCoachCB = Props.updateCoachCB;\n  var authenticityToken = Props.authenticityToken;\n  var match = React.useReducer(reducer, coach, computeInitialState);\n  var send = match[1];\n  var state = match[0];\n  var formId = \"coach-create-form\";\n  var avatarUploaderText = function (param) {\n    var match = state.imageFileName;\n    if (match === \"\") {\n      return \"Upload an avatar\";\n    } else {\n      return \"Replace avatar: \" + state.imageFileName;\n    }\n  };\n  var handleResponseJSON = function (json) {\n    var error = Json_decode.field(\"error\", (function (param) {\n            return Json_decode.nullable(Json_decode.string, param);\n          }), json);\n    if (error !== null) {\n      Curry._1(send, /* UpdateSaving */0);\n      return $$Notification.error(\"Something went wrong!\", error);\n    } else {\n      var json$1 = json;\n      var id = Json_decode.field(\"id\", Json_decode.$$int, json$1);\n      var imageUrl = Json_decode.field(\"image_url\", Json_decode.string, json$1);\n      var newCoach = CoachesSchoolIndex__Coach.make(id, state.name, imageUrl, state.email, state.title, state.linkedinUrl, state.public, state.connectLink, state.exited, state.imageFileName, state.affiliation);\n      if (coach !== undefined) {\n        $$Notification.success(\"Success\", \"Coach updated successfully\");\n      } else {\n        $$Notification.success(\"Success\", \"Coach created successfully\");\n      }\n      Curry._1(updateCoachCB, newCoach);\n      return Curry._1(closeFormCB, /* () */0);\n    }\n  };\n  return React.createElement(\"div\", {\n              className: \"blanket\"\n            }, React.createElement(\"div\", {\n                  className: \"drawer-right\"\n                }, React.createElement(\"div\", {\n                      className: \"drawer-right__close absolute\"\n                    }, React.createElement(\"button\", {\n                          className: \"flex items-center justify-center bg-white text-gray-600 font-bold py-3 px-5 rounded-l-full rounded-r-none hover:text-gray-700 focus:outline-none mt-4\",\n                          title: \"close\",\n                          onClick: (function (_e) {\n                              return Curry._1(closeFormCB, /* () */0);\n                            })\n                        }, React.createElement(\"i\", {\n                              className: \"fas fa-times text-xl\"\n                            }))), React.createElement(\"div\", {\n                      className: \"drawer-right-form w-full\"\n                    }, React.createElement(\"div\", {\n                          className: \"w-full\"\n                        }, React.createElement(\"div\", {\n                              className: \"mx-auto bg-white\"\n                            }, React.createElement(\"div\", {\n                                  className: \"max-w-2xl px-6 pt-5 mx-auto\"\n                                }, React.createElement(\"h5\", {\n                                      className: \"uppercase text-center border-b border-gray-400 pb-2\"\n                                    }, coach !== undefined ? CoachesSchoolIndex__Coach.name(Caml_option.valFromOption(coach)) : \"Add New Coach\")), React.createElement(\"form\", {\n                                  key: \"xxx\",\n                                  id: formId,\n                                  onSubmit: (function ($$event) {\n                                      var $$event$1 = $$event;\n                                      $$event$1.preventDefault();\n                                      Curry._1(send, /* UpdateSaving */0);\n                                      var element = document.getElementById(formId);\n                                      if (element == null) {\n                                        return /* () */0;\n                                      } else {\n                                        var formData = new FormData(element);\n                                        var endPoint = coach !== undefined ? \"/school/coaches/\" + String(CoachesSchoolIndex__Coach.id(Caml_option.valFromOption(coach))) : \"/school/coaches/\";\n                                        var httpMethod = coach !== undefined ? /* Patch */8 : /* Post */2;\n                                        fetch(endPoint, Fetch.RequestInit.make(httpMethod, undefined, Caml_option.some(formData), undefined, undefined, undefined, /* SameOrigin */1, undefined, undefined, undefined, undefined, undefined)(/* () */0)).then((function (response) {\n                                                    if (response.ok || response.status === 422) {\n                                                      return response.json();\n                                                    } else {\n                                                      return Promise.reject([\n                                                                  UnexpectedResponse,\n                                                                  response.status\n                                                                ]);\n                                                    }\n                                                  })).then((function (json) {\n                                                  return Promise.resolve(handleResponseJSON(json));\n                                                })).catch((function (error) {\n                                                var match = handleApiError(error);\n                                                return Promise.resolve(match !== undefined ? (Curry._1(send, /* UpdateSaving */0), $$Notification.error(String(match), \"Please try again\")) : (Curry._1(send, /* UpdateSaving */0), $$Notification.error(\"Something went wrong!\", \"Please try again\")));\n                                              }));\n                                        return /* () */0;\n                                      }\n                                    })\n                                }, React.createElement(\"input\", {\n                                      name: \"authenticity_token\",\n                                      type: \"hidden\",\n                                      value: authenticityToken\n                                    }), React.createElement(\"div\", {\n                                      className: \"max-w-2xl px-6 pb-6 mx-auto\"\n                                    }, React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"inline-block tracking-wide text-gray-900 text-xs font-semibold\",\n                                              htmlFor: \"name\"\n                                            }, \"Name\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n                                              className: \"appearance-none block w-full bg-white text-gray-800 border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                              id: \"name\",\n                                              name: \"faculty[name]\",\n                                              placeholder: \"Coach Name\",\n                                              type: \"text\",\n                                              value: state.name,\n                                              onChange: (function ($$event) {\n                                                  return updateName(send, $$event.target.value);\n                                                })\n                                            }), React.createElement(School__InputGroupError.make, {\n                                              message: \"is not a valid name\",\n                                              active: state.hasNameError\n                                            })), coach !== undefined ? null : React.createElement(\"div\", {\n                                            className: \"mt-5\"\n                                          }, React.createElement(\"label\", {\n                                                className: \"inline-block tracking-wide text-xs font-semibold\",\n                                                htmlFor: \"email\"\n                                              }, \"Email\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n                                                className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                                id: \"email\",\n                                                name: \"faculty[email]\",\n                                                placeholder: \"Coach email address\",\n                                                type: \"email\",\n                                                value: state.email,\n                                                onChange: (function ($$event) {\n                                                    return updateEmail(send, $$event.target.value);\n                                                  })\n                                              }), React.createElement(School__InputGroupError.make, {\n                                                message: \"is not a valid email address\",\n                                                active: state.hasEmailError\n                                              })), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"inline-block tracking-wide text-xs font-semibold\",\n                                              htmlFor: \"title\"\n                                            }, \"Title\"), React.createElement(\"span\", undefined, \"*\"), React.createElement(\"input\", {\n                                              className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                              id: \"title\",\n                                              name: \"faculty[title]\",\n                                              placeholder: \"Coach Title/Expertise\",\n                                              type: \"text\",\n                                              value: state.title,\n                                              onChange: (function ($$event) {\n                                                  return updateTitle(send, $$event.target.value);\n                                                })\n                                            }), React.createElement(School__InputGroupError.make, {\n                                              message: \"is not a valid title\",\n                                              active: state.hasTitleError\n                                            })), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"inline-block tracking-wide text-xs font-semibold\",\n                                              htmlFor: \"affiliation\"\n                                            }, \"Affiliation\"), React.createElement(\"input\", {\n                                              className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                              id: \"affiliation\",\n                                              name: \"faculty[affiliation]\",\n                                              placeholder: \"Acme Inc., Acme University, etc.\",\n                                              type: \"text\",\n                                              value: state.affiliation,\n                                              onChange: (function ($$event) {\n                                                  return Curry._1(send, /* UpdateAffiliation */Block.__(8, [$$event.target.value]));\n                                                })\n                                            })), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"inline-block tracking-wide text-xs font-semibold\",\n                                              htmlFor: \"linkedIn\"\n                                            }, \"LinkedIn\"), React.createElement(\"input\", {\n                                              className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                              id: \"linkedIn\",\n                                              name: \"faculty[linkedin_url]\",\n                                              placeholder: \"LinkedIn Profile URL\",\n                                              type: \"text\",\n                                              value: state.linkedinUrl,\n                                              onChange: (function ($$event) {\n                                                  return updateLinkedInUrl(send, $$event.target.value);\n                                                })\n                                            }), React.createElement(School__InputGroupError.make, {\n                                              message: \"is not a valid LinkedIn URL\",\n                                              active: state.hasLinkedInUrlError\n                                            })), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"inline-block tracking-wide text-xs font-semibold\",\n                                              htmlFor: \"connectLink\"\n                                            }, \"Connect Link\"), React.createElement(\"input\", {\n                                              className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                              id: \"connectLink\",\n                                              name: \"faculty[connect_link]\",\n                                              placeholder: \"Student connect request link for the coach\",\n                                              type: \"text\",\n                                              value: state.connectLink,\n                                              onChange: (function ($$event) {\n                                                  return updateConnectLink(send, $$event.target.value);\n                                                })\n                                            }), React.createElement(School__InputGroupError.make, {\n                                              message: \"is not a valid connect url\",\n                                              active: state.hasConnectLinkError\n                                            })), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"div\", {\n                                              className: \"flex items-center flex-shrink-0\"\n                                            }, React.createElement(\"label\", {\n                                                  className: \"block tracking-wide text-xs font-semibold mr-3\",\n                                                  htmlFor: \"evaluated\"\n                                                }, \"Should the coach profile be public?\"), React.createElement(\"div\", {\n                                                  className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\",\n                                                  id: \"notification\"\n                                                }, React.createElement(\"button\", {\n                                                      className: booleanButtonClasses(state.public),\n                                                      name: \"faculty[public]\",\n                                                      type: \"submit\",\n                                                      value: \"true\",\n                                                      onClick: (function (_event) {\n                                                          _event.preventDefault();\n                                                          return Curry._1(send, /* UpdatePublic */Block.__(5, [true]));\n                                                        })\n                                                    }, \"Yes\"), React.createElement(\"button\", {\n                                                      className: booleanButtonClasses(!state.public),\n                                                      onClick: (function (_event) {\n                                                          _event.preventDefault();\n                                                          return Curry._1(send, /* UpdatePublic */Block.__(5, [false]));\n                                                        })\n                                                    }, \"No\"), React.createElement(\"input\", {\n                                                      name: \"faculty[public]\",\n                                                      type: \"hidden\",\n                                                      value: Pervasives.string_of_bool(state.public)\n                                                    })))), React.createElement(\"div\", {\n                                          className: \"mt-5\"\n                                        }, React.createElement(\"label\", {\n                                              className: \"block tracking-wide text-xs font-semibold\",\n                                              htmlFor: \"avatarUploader\"\n                                            }, \"Avatar\"), React.createElement(\"input\", {\n                                              className: \"hidden\",\n                                              id: \"sa-coach-editor__file-input\",\n                                              disabled: state.saving,\n                                              multiple: false,\n                                              name: \"faculty[image]\",\n                                              required: false,\n                                              type: \"file\",\n                                              onChange: (function ($$event) {\n                                                  return Curry._1(send, /* UpdateImageFileName */Block.__(6, [Caml_array.caml_array_get($$event.target.files, 0).name]));\n                                                })\n                                            }), React.createElement(\"label\", {\n                                              className: \"file-input-label mt-2\",\n                                              htmlFor: \"sa-coach-editor__file-input\"\n                                            }, React.createElement(\"i\", {\n                                                  className: \"fas fa-upload mr-2 text-gray-600 text-lg\"\n                                                }), React.createElement(\"span\", {\n                                                  className: \"truncate\"\n                                                }, avatarUploaderText(/* () */0))))), React.createElement(\"div\", {\n                                      className: \"p-6 bg-gray-200\"\n                                    }, React.createElement(\"div\", {\n                                          className: \"max-w-2xl px-6 mx-auto\"\n                                        }, React.createElement(\"div\", {\n                                              className: \"flex max-w-2xl w-full justify-between items-center mx-auto\"\n                                            }, coach !== undefined ? React.createElement(\"div\", {\n                                                    className: \"flex items-center flex-shrink-0\"\n                                                  }, React.createElement(\"label\", {\n                                                        className: \"block tracking-wide  text-xs font-semibold mr-3\",\n                                                        htmlFor: \"evaluated\"\n                                                      }, \"Has the coach left the school?\"), React.createElement(\"div\", {\n                                                        className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\",\n                                                        id: \"exited\"\n                                                      }, React.createElement(\"button\", {\n                                                            className: booleanButtonClasses(state.exited),\n                                                            name: \"faculty[exited]\",\n                                                            onClick: (function (_event) {\n                                                                _event.preventDefault();\n                                                                return Curry._1(send, /* UpdateExited */Block.__(7, [true]));\n                                                              })\n                                                          }, \"Yes\"), React.createElement(\"button\", {\n                                                            className: booleanButtonClasses(!state.exited),\n                                                            onClick: (function (_event) {\n                                                                _event.preventDefault();\n                                                                return Curry._1(send, /* UpdateExited */Block.__(7, [false]));\n                                                              })\n                                                          }, \"No\"), React.createElement(\"input\", {\n                                                            name: \"faculty[exited]\",\n                                                            type: \"hidden\",\n                                                            value: Pervasives.string_of_bool(state.exited)\n                                                          }))) : null, React.createElement(\"button\", {\n                                                  className: \"w-auto btn btn-large btn-primary\",\n                                                  disabled: saveDisabled(state)\n                                                }, coach !== undefined ? \"Update Coach\" : \"Add Coach\"))))))))));\n}\n\nvar make = SA_Coaches_CoachEditor;\n\nexports.UnexpectedResponse = UnexpectedResponse;\nexports.handleApiError = handleApiError;\nexports.reducer = reducer;\nexports.str = str;\nexports.nameOrTitleInvalid = nameOrTitleInvalid;\nexports.updateName = updateName;\nexports.emailInvalid = emailInvalid;\nexports.updateEmail = updateEmail;\nexports.updateTitle = updateTitle;\nexports.updateLinkedInUrl = updateLinkedInUrl;\nexports.updateConnectLink = updateConnectLink;\nexports.booleanButtonClasses = booleanButtonClasses;\nexports.saveDisabled = saveDisabled;\nexports.computeInitialState = computeInitialState;\nexports.make = make;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}