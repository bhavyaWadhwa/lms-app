{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\n\nvar Link = require(\"../../../shared/components/Link.bs.js\");\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar ListUtils = require(\"../../../shared/utils/ListUtils.bs.js\");\n\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\n\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\n\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\n\nvar CoursesCurriculum__Quiz = require(\"./CoursesCurriculum__Quiz.bs.js\");\n\nvar CoursesCurriculum__User = require(\"../types/CoursesCurriculum__User.bs.js\");\n\nvar CoursesCurriculum__Learn = require(\"./CoursesCurriculum__Learn.bs.js\");\n\nvar CoursesCurriculum__Course = require(\"../types/CoursesCurriculum__Course.bs.js\");\n\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\n\nvar CoursesCurriculum__Discuss = require(\"./CoursesCurriculum__Discuss.bs.js\");\n\nvar CoursesCurriculum__AutoVerify = require(\"./CoursesCurriculum__AutoVerify.bs.js\");\n\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\n\nvar CoursesCurriculum__TargetStatus = require(\"../types/CoursesCurriculum__TargetStatus.bs.js\");\n\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\n\nvar CoursesCurriculum__LatestSubmission = require(\"../types/CoursesCurriculum__LatestSubmission.bs.js\");\n\nvar CoursesCurriculum__SubmissionBuilder = require(\"./CoursesCurriculum__SubmissionBuilder.bs.js\");\n\nvar CoursesCurriculum__CompletionInstructions = require(\"./CoursesCurriculum__CompletionInstructions.bs.js\");\n\nvar CoursesCurriculum__SubmissionsAndFeedback = require(\"./CoursesCurriculum__SubmissionsAndFeedback.bs.js\");\n\nvar UnexpectedSubmissionStatus = Caml_exceptions.create(\"CoursesCurriculum__Overlay.UnexpectedSubmissionStatus\");\n\nrequire(\"./CoursesCurriculum__Overlay.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialState = {\n  targetDetails: undefined,\n  tab:\n  /* Learn */\n  0\n};\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    return {\n      targetDetails: undefined,\n      tab: state.tab\n    };\n  } else {\n    switch (action.tag | 0) {\n      case\n      /* Select */\n      0:\n        return {\n          targetDetails: state.targetDetails,\n          tab: action[0]\n        };\n\n      case\n      /* SetTargetDetails */\n      1:\n        return {\n          targetDetails: action[0],\n          tab: state.tab\n        };\n\n      case\n      /* AddSubmission */\n      2:\n        if (action[0]) {\n          return {\n            targetDetails: OptionUtils.map(CoursesCurriculum__TargetDetails.clearPendingUserIds, state.targetDetails),\n            tab: state.tab\n          };\n        } else {\n          return state;\n        }\n\n    }\n  }\n}\n\nfunction closeOverlay(course) {\n  return ReasonReactRouter.push(\"/courses/\" + (CoursesCurriculum__Course.id(course) + \"/curriculum\"));\n}\n\nfunction loadTargetDetails(target, send, param) {\n  fetch(\"/targets/\" + (CoursesCurriculum__Target.id(target) + \"/details_v2\")).then(function (prim) {\n    return prim.json();\n  }).then(function (json) {\n    return Promise.resolve(Curry._1(send,\n    /* SetTargetDetails */\n    Block.__(1, [CoursesCurriculum__TargetDetails.decode(json)])));\n  });\n  return;\n}\n\nfunction completionTypeToString(completionType, targetStatus) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      if (completionType < 2) {\n        return \"Submissions & Feedback\";\n      }\n    } else {\n      switch (completionType) {\n        case\n        /* Evaluated */\n        0:\n          return \"Complete\";\n\n        case\n        /* TakeQuiz */\n        1:\n          return \"Take Quiz\";\n\n        case\n        /* LinkToComplete */\n        2:\n          return \"Visit Link to Complete\";\n\n        case\n        /* MarkAsComplete */\n        3:\n          return \"Mark as Complete\";\n      }\n    }\n  } else if (match[0] < 2 && completionType < 2) {\n    return \"Submissions & Feedback\";\n  }\n\n  if (typeof match === \"number\") {\n    return \"Completed\";\n  } else {\n    return \"Locked\";\n  }\n}\n\nfunction tabToString(targetStatus, tab) {\n  if (typeof tab === \"number\") {\n    if (tab !== 0) {\n      return \"Discuss\";\n    } else {\n      return \"Learn\";\n    }\n  } else {\n    return completionTypeToString(tab[0], targetStatus);\n  }\n}\n\nfunction selectableTabs(targetDetails) {\n  if (ListUtils.isNotEmpty(CoursesCurriculum__TargetDetails.communities(targetDetails))) {\n    return (\n      /* :: */\n      [\n      /* Learn */\n      0,\n      /* :: */\n      [\n      /* Discuss */\n      1,\n      /* [] */\n      0]]\n    );\n  } else {\n    return (\n      /* :: */\n      [\n      /* Learn */\n      0,\n      /* [] */\n      0]\n    );\n  }\n}\n\nfunction tabClasses(selection, tab) {\n  return \"course-overlay__body-tab-item p-2 md:px-3 md:py-4 flex w-full items-center justify-center text-sm -mx-px font-semibold\" + (Caml_obj.caml_equal(tab, selection) ? \" course-overlay__body-tab-item--selected\" : \" bg-gray-100 hover:text-primary-400 hover:bg-gray-200 cursor-pointer\");\n}\n\nfunction scrollCompleteButtonIntoViewEventually(param) {\n  setTimeout(function (param) {\n    var element = document.getElementById(\"auto-verify-target\");\n\n    if (element == null) {\n      Rollbar.error(\"Could not find the 'Complete' button to scroll to.\");\n      return (\n        /* () */\n        0\n      );\n    } else {\n      element.scrollIntoView();\n      element.className = \"mt-4 complete-button-selected\";\n      return (\n        /* () */\n        0\n      );\n    }\n  }, 50);\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction handleTablink(send, _event) {\n  Curry._1(send,\n  /* Select */\n  Block.__(0, [\n  /* Learn */\n  0]));\n\n  return scrollCompleteButtonIntoViewEventually(\n  /* () */\n  0);\n}\n\nfunction tabButton(tab, state, send, targetStatus) {\n  return React.createElement(\"span\", {\n    key: \"select-\" + tabToString(targetStatus, tab),\n    className: tabClasses(tab, state.tab),\n    onClick: function onClick(_e) {\n      return Curry._1(send,\n      /* Select */\n      Block.__(0, [tab]));\n    }\n  }, tabToString(targetStatus, tab));\n}\n\nfunction tabLink(tab, state, send, targetStatus) {\n  return React.createElement(\"span\", {\n    className: tabClasses(tab, state.tab),\n    onClick: function onClick(param) {\n      Curry._1(send,\n      /* Select */\n      Block.__(0, [\n      /* Learn */\n      0]));\n\n      return scrollCompleteButtonIntoViewEventually(\n      /* () */\n      0);\n    }\n  }, tabToString(targetStatus, tab));\n}\n\nfunction tabOptions(state, send, targetDetails, targetStatus) {\n  var completionType = CoursesCurriculum__TargetDetails.computeCompletionType(targetDetails);\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  return React.createElement(\"div\", {\n    className: \"flex justify-between max-w-3xl mx-auto -mb-px mt-5 md:mt-7\"\n  }, $$Array.of_list(List.map(function (selection) {\n    return tabButton(selection, state, send, targetStatus);\n  }, selectableTabs(targetDetails))), typeof match === \"number\" ? completionType >= 2 ? tabLink(\n  /* Complete */\n  [completionType], state, send, targetStatus) : tabButton(\n  /* Complete */\n  [completionType], state, send, targetStatus) : match[0] >= 2 || completionType >= 2 || !ListUtils.isNotEmpty(CoursesCurriculum__TargetDetails.submissions(targetDetails)) ? null : tabButton(\n  /* Complete */\n  [completionType], state, send, targetStatus));\n}\n\nfunction addSubmission(target, state, send, addSubmissionCB, submission) {\n  var match = state.targetDetails;\n\n  if (match !== undefined) {\n    var newTargetDetails = CoursesCurriculum__TargetDetails.addSubmission(submission, match);\n\n    Curry._1(send,\n    /* SetTargetDetails */\n    Block.__(1, [newTargetDetails]));\n  }\n\n  var match$1 = CoursesCurriculum__Submission.status(submission);\n\n  switch (match$1) {\n    case\n    /* MarkedAsComplete */\n    0:\n      return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(false, CoursesCurriculum__Target.id(target)));\n\n    case\n    /* Pending */\n    1:\n      return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(true, CoursesCurriculum__Target.id(target)));\n\n    case\n    /* Passed */\n    2:\n      throw [UnexpectedSubmissionStatus, \"CoursesCurriculum__Overlay.addSubmission cannot handle a submsision with status Passed\"];\n\n    case\n    /* Failed */\n    3:\n      throw [UnexpectedSubmissionStatus, \"CoursesCurriculum__Overlay.addSubmission cannot handle a submsision with status Failed\"];\n  }\n}\n\nfunction addVerifiedSubmission(target, state, send, addSubmissionCB, submission) {\n  var match = state.targetDetails;\n\n  if (match !== undefined) {\n    var newTargetDetails = CoursesCurriculum__TargetDetails.addSubmission(submission, match);\n\n    Curry._1(send,\n    /* SetTargetDetails */\n    Block.__(1, [newTargetDetails]));\n  }\n\n  return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(false, CoursesCurriculum__Target.id(target)));\n}\n\nfunction targetStatusClass(prefix, targetStatus) {\n  return prefix + CoursesCurriculum__TargetStatus.statusToString(targetStatus).toLowerCase();\n}\n\nfunction targetStatusClasses(targetStatus) {\n  return \"curriculum__target-status bg-white text-xs mt-2 md:mt-0 py-1 px-2 md:px-4 \" + targetStatusClass(\"curriculum__target-status--\", targetStatus);\n}\n\nfunction overlayHeaderTitleCardClasses(targetStatus) {\n  return \"course-overlay__header-title-card relative flex justify-between items-center px-3 py-5 md:p-6 \" + targetStatusClass(\"course-overlay__header-title-card--\", targetStatus);\n}\n\nfunction renderLocked(text) {\n  return React.createElement(\"div\", {\n    className: \"mx-auto text-center bg-gray-900 text-white max-w-fc px-4 py-2 text-sm font-semibold relative z-10 rounded-b-lg\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-lock text-lg\"\n  }), React.createElement(\"span\", {\n    className: \"ml-2\"\n  }, text));\n}\n\nfunction overlayStatus(course, target, targetStatus, preview) {\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: overlayHeaderTitleCardClasses(targetStatus)\n  }, React.createElement(\"button\", {\n    className: \"course-overlay__close xl:absolute flex flex-col items-center justify-center absolute rounded-t-lg lg:rounded-t-none lg:rounded-b-lg leading-tight px-4 py-1 h-8 lg:h-full cursor-pointer border border-b-0 lg:border-transparent lg:border-t-0 lg:shadow hover:text-gray-900 hover:shadow-md focus:border-gray-300 focus:outline-none focus:shadow-inner \" + targetStatusClass(\"course-overlay__close--\", targetStatus),\n    onClick: function onClick(_e) {\n      return closeOverlay(course);\n    }\n  }, React.createElement(Icon.make, {\n    className: \"if i-times-regular text-xl lg:text-2xl mt-1 lg:mt-0\"\n  }), React.createElement(\"span\", {\n    className: \"text-xs hidden lg:inline-block mt-px\"\n  }, \"Close\")), React.createElement(\"div\", {\n    className: \"w-full flex flex-wrap md:flex-no-wrap items-center justify-between relative\"\n  }, React.createElement(\"h1\", {\n    className: \"text-base leading-snug md:mr-6 md:text-xl\"\n  }, CoursesCurriculum__Target.title(target)), React.createElement(\"div\", {\n    className: targetStatusClasses(targetStatus)\n  }, CoursesCurriculum__TargetStatus.statusToString(targetStatus)))), preview ? React.createElement(\"div\", undefined, renderLocked(\"You are currently looking at a preview of this course.\")) : null);\n}\n\nfunction renderLockReason(reason) {\n  return renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason));\n}\n\nfunction prerequisitesIncomplete(reason, target, targets, statusOfTargets) {\n  var prerequisiteTargetIds = CoursesCurriculum__Target.prerequisiteTargetIds(target);\n  var prerequisiteTargets = List.filter(function (target) {\n    return List.mem(CoursesCurriculum__Target.id(target), prerequisiteTargetIds);\n  })(targets);\n  return React.createElement(\"div\", {\n    className: \"relative px-3 md:px-0\"\n  }, renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason)), React.createElement(\"div\", {\n    className: \"course-overlay__prerequisite-targets z-10 max-w-3xl mx-auto bg-white text-center rounded-lg overflow-hidden shadow mt-6\"\n  }, $$Array.of_list(List.map(function (target) {\n    var targetStatus = List.find(function (ts) {\n      return CoursesCurriculum__TargetStatus.targetId(ts) === CoursesCurriculum__Target.id(target);\n    }, statusOfTargets);\n    return React.createElement(Link.make, {\n      href: \"/targets/\" + CoursesCurriculum__Target.id(target),\n      ariaLabel: \"Select Target \" + CoursesCurriculum__Target.id(target),\n      className: \"bg-white border-t px-6 py-4 relative z-10 flex items-center justify-between hover:bg-gray-200 hover:text-primary-500 cursor-pointer\",\n      children: null,\n      key: CoursesCurriculum__Target.id(target)\n    }, React.createElement(\"span\", {\n      className: \"font-semibold text-left leading-snug\"\n    }, CoursesCurriculum__Target.title(target)), React.createElement(\"span\", {\n      className: targetStatusClasses(targetStatus)\n    }, CoursesCurriculum__TargetStatus.statusToString(targetStatus)));\n  }, prerequisiteTargets))));\n}\n\nfunction handleLocked(target, targets, targetStatus, statusOfTargets) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n\n  if (typeof match === \"number\") {\n    return null;\n  } else {\n    var reason = match[0];\n\n    if (reason >= 3) {\n      return prerequisitesIncomplete(reason, target, targets, statusOfTargets);\n    } else {\n      return renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason));\n    }\n  }\n}\n\nfunction overlayContentClasses(bool) {\n  if (bool) {\n    return \"\";\n  } else {\n    return \"hidden\";\n  }\n}\n\nfunction learnSection(targetDetails, tab) {\n  return React.createElement(\"div\", {\n    className: tab ===\n    /* Learn */\n    0 ? \"\" : \"hidden\"\n  }, React.createElement(CoursesCurriculum__Learn.make, {\n    targetDetails: targetDetails\n  }));\n}\n\nfunction discussSection(target, targetDetails, tab) {\n  return React.createElement(\"div\", {\n    className: tab ===\n    /* Discuss */\n    1 ? \"\" : \"hidden\"\n  }, React.createElement(CoursesCurriculum__Discuss.make, {\n    targetId: CoursesCurriculum__Target.id(target),\n    communities: CoursesCurriculum__TargetDetails.communities(targetDetails)\n  }));\n}\n\nfunction completeSectionClasses(tab, completionType) {\n  if (typeof tab === \"number\" && (tab !== 0 || completionType < 2)) {\n    return \"hidden\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction completeSection(state, send, target, targetDetails, targetStatus, _addSubmissionCB, evaluationCriteria, coaches, users, preview) {\n  var completionType = CoursesCurriculum__TargetDetails.computeCompletionType(targetDetails);\n\n  var addVerifiedSubmissionCB = function addVerifiedSubmissionCB(param) {\n    return addVerifiedSubmission(target, state, send, _addSubmissionCB, param);\n  };\n\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  var tmp;\n  var exit = 0;\n  var exit$1 = 0;\n\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      exit$1 = 2;\n    } else if (completionType !== 1) {\n      if (completionType !== 0) {\n        exit = 1;\n      } else {\n        tmp = [React.createElement(CoursesCurriculum__CompletionInstructions.make, {\n          targetDetails: targetDetails,\n          title: \"Instructions\",\n          key: \"completion-instructions\"\n        }), React.createElement(CoursesCurriculum__SubmissionBuilder.make, {\n          target: target,\n          addSubmissionCB: function addSubmissionCB(param) {\n            return addSubmission(target, state, send, _addSubmissionCB, param);\n          },\n          preview: preview,\n          checklist: CoursesCurriculum__TargetDetails.checklist(targetDetails),\n          key: \"courses-curriculum-submission-form\"\n        })];\n      }\n    } else {\n      tmp = [React.createElement(CoursesCurriculum__CompletionInstructions.make, {\n        targetDetails: targetDetails,\n        title: \"Instructions\",\n        key: \"completion-instructions\"\n      }), React.createElement(CoursesCurriculum__Quiz.make, {\n        target: target,\n        targetDetails: targetDetails,\n        addSubmissionCB: addVerifiedSubmissionCB,\n        preview: preview,\n        key: \"courses-curriculum-quiz\"\n      })];\n    }\n  } else if (match[0] >= 2) {\n    exit = 1;\n  } else {\n    exit$1 = 2;\n  }\n\n  if (exit$1 === 2) {\n    if (completionType >= 2) {\n      exit = 1;\n    } else {\n      tmp = React.createElement(CoursesCurriculum__SubmissionsAndFeedback.make, {\n        targetDetails: targetDetails,\n        target: target,\n        evaluationCriteria: evaluationCriteria,\n        addSubmissionCB: function addSubmissionCB(param) {\n          return addSubmission(target, state, send, _addSubmissionCB, param);\n        },\n        targetStatus: targetStatus,\n        coaches: coaches,\n        users: users,\n        preview: preview,\n        checklist: CoursesCurriculum__TargetDetails.checklist(targetDetails)\n      });\n    }\n  }\n\n  if (exit === 1) {\n    tmp = typeof match === \"number\" ? React.createElement(CoursesCurriculum__AutoVerify.make, {\n      target: target,\n      targetDetails: targetDetails,\n      targetStatus: targetStatus,\n      addSubmissionCB: addVerifiedSubmissionCB,\n      preview: preview\n    }) : null;\n  }\n\n  return React.createElement(\"div\", {\n    className: completeSectionClasses(state.tab, completionType)\n  }, tmp);\n}\n\nfunction renderPendingStudents(pendingUserIds, users) {\n  return React.createElement(\"div\", {\n    className: \"max-w-3xl mx-auto text-center mt-4\"\n  }, React.createElement(\"div\", {\n    className: \"font-semibold text-md\"\n  }, \"You have team members who are yet to complete this target:\"), React.createElement(\"div\", {\n    className: \"flex justify-center flex-wrap\"\n  }, $$Array.of_list(List.map(function (studentId) {\n    var user = ListUtils.unsafeFind(function (u) {\n      return CoursesCurriculum__User.id(u) === studentId;\n    }, \"Unable to find user with id \" + (studentId + \"in CoursesCurriculum__Overlay\"), users);\n    return React.createElement(\"div\", {\n      key: CoursesCurriculum__User.id(user),\n      className: \"w-10 h-10 rounded-full border border-yellow-400 flex items-center justify-center overflow-hidden mx-1 shadow-md flex-shrink-0 mt-2\",\n      title: CoursesCurriculum__User.name(user) + \" has not completed this target.\"\n    }, CoursesCurriculum__User.avatar(user));\n  }, pendingUserIds))));\n}\n\nfunction handlePendingStudents(targetStatus, targetDetails, users) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n\n  if (targetDetails !== undefined && typeof match === \"number\" && (match === 2 || match === 1)) {\n    var pendingUserIds = CoursesCurriculum__TargetDetails.pendingUserIds(targetDetails);\n\n    if (ListUtils.isNotEmpty(pendingUserIds)) {\n      return renderPendingStudents(pendingUserIds, users);\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nfunction performQuickNavigation(send, _event) {\n  var match = document.getElementById(\"target-overlay\");\n\n  if (!(match == null)) {\n    match.scrollTop = 0.0;\n  }\n\n  return Curry._1(send,\n  /* ClearTargetDetails */\n  0);\n}\n\nfunction navigationLink(direction, url, send) {\n  var match = direction >= 870035731 ?\n  /* tuple */\n  [undefined, \"Next Target\", \"fa-arrow-right\"] :\n  /* tuple */\n  [\"fa-arrow-left\", \"Previous Target\", undefined];\n\n  var arrow = function arrow(icon) {\n    return Belt_Option.mapWithDefault(icon, null, function (icon) {\n      return React.createElement(FaIcon.make, {\n        classes: \"fas \" + icon\n      });\n    });\n  };\n\n  return React.createElement(Link.make, {\n    href: url,\n    className: \"block p-2 md:p-4 text-center border rounded-lg bg-gray-100 hover:bg-gray-200\",\n    onClick: function onClick(param) {\n      return performQuickNavigation(send, param);\n    },\n    children: null\n  }, arrow(match[0]), React.createElement(\"span\", {\n    className: \"mx-2 hidden md:inline\"\n  }, match[1]), arrow(match[2]));\n}\n\nfunction scrollOverlayToTop(_event) {\n  var element = document.getElementById(\"target-overlay\");\n  return Belt_Option.mapWithDefault(element == null ? undefined : Caml_option.some(element),\n  /* () */\n  0, function (element) {\n    element.scrollTop = 0.0;\n    return (\n      /* () */\n      0\n    );\n  });\n}\n\nfunction quickNavigationLinks(targetDetails, send) {\n  var match = CoursesCurriculum__TargetDetails.navigation(targetDetails);\n  return React.createElement(\"div\", {\n    className: \"pb-6\"\n  }, React.createElement(\"hr\", {\n    className: \"my-6\"\n  }), React.createElement(\"div\", {\n    className: \"container mx-auto max-w-3xl flex px-3 lg:px-0\"\n  }, React.createElement(\"div\", {\n    className: \"w-1/3 mr-2\"\n  }, Belt_Option.mapWithDefault(match[0], null, function (previousUrl) {\n    return navigationLink(\n    /* Previous */\n    -43878313, previousUrl, send);\n  })), React.createElement(\"div\", {\n    className: \"w-1/3 mx-2\"\n  }, React.createElement(\"button\", {\n    className: \"block w-full focus:outline-none p-2 md:p-4 text-center border rounded-lg bg-gray-100 hover:bg-gray-200\",\n    onClick: scrollOverlayToTop\n  }, React.createElement(\"span\", {\n    className: \"mx-2 hidden md:inline\"\n  }, \"Scroll to Top\"), React.createElement(\"span\", {\n    className: \"mx-2 md:hidden\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-arrow-up\"\n  })))), React.createElement(\"div\", {\n    className: \"w-1/3 ml-2\"\n  }, Belt_Option.mapWithDefault(match[1], null, function (nextUrl) {\n    return navigationLink(\n    /* Next */\n    870035731, nextUrl, send);\n  }))));\n}\n\nfunction updatePendingUserIdsWhenAddingSubmission(send, target, addSubmissionCB, submission) {\n  Curry._1(send,\n  /* AddSubmission */\n  Block.__(2, [CoursesCurriculum__Target.role(target)]));\n\n  return Curry._1(addSubmissionCB, submission);\n}\n\nfunction CoursesCurriculum__Overlay(Props) {\n  var target = Props.target;\n  var course = Props.course;\n  var targetStatus = Props.targetStatus;\n  var addSubmissionCB = Props.addSubmissionCB;\n  var targets = Props.targets;\n  var statusOfTargets = Props.statusOfTargets;\n  var users = Props.users;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var coaches = Props.coaches;\n  var preview = Props.preview;\n  var match = React.useReducer(reducer, initialState);\n  var send = match[1];\n  var state = match[0];\n  React.useEffect(function () {\n    return loadTargetDetails(target, send,\n    /* () */\n    0);\n  }, [CoursesCurriculum__Target.id(target)]);\n  React.useEffect(function () {\n    ScrollLock.activate(\n    /* () */\n    0);\n    return function (param) {\n      return ScrollLock.deactivate(\n      /* () */\n      0);\n    };\n  });\n  var match$1 = state.targetDetails;\n  var match$2 = state.targetDetails;\n  var tmp;\n\n  if (match$2 !== undefined) {\n    var targetDetails = match$2;\n    var match$3 = state.tab;\n    tmp = React.createElement(\"div\", undefined, React.createElement(\"div\", {\n      className: \"container mx-auto mt-6 md:mt-8 max-w-3xl px-3 lg:px-0\"\n    }, learnSection(targetDetails, state.tab), discussSection(target, targetDetails, state.tab), completeSection(state, send, target, targetDetails, targetStatus, function (param) {\n      return updatePendingUserIdsWhenAddingSubmission(send, target, addSubmissionCB, param);\n    }, evaluationCriteria, coaches, users, preview)), typeof match$3 === \"number\" && match$3 === 0 ? quickNavigationLinks(targetDetails, send) : null);\n  } else {\n    tmp = React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-body-container max-w-3xl w-full pb-4 mx-auto\"\n    }, React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-body-wrapper mt-8 px-3 lg:px-0\"\n    }, React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-md mt-4 w-2/4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-image-placeholder mt-5 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-2/5 skeleton-animate\"\n    })), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-body-wrapper mt-8 px-3 lg:px-0\"\n    }, React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n    }), React.createElement(\"div\", {\n      className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n    })));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll bg-white\",\n    id: \"target-overlay\"\n  }, React.createElement(\"div\", {\n    className: \"bg-gray-100 border-b border-gray-400 px-3\"\n  }, React.createElement(\"div\", {\n    className: \"course-overlay__header-container pt-12 lg:pt-0 mx-auto\"\n  }, overlayStatus(course, target, targetStatus, preview), handleLocked(target, targets, targetStatus, statusOfTargets), handlePendingStudents(targetStatus, state.targetDetails, users), match$1 !== undefined ? tabOptions(state, send, match$1, targetStatus) : React.createElement(\"div\", {\n    className: \"course-overlay__skeleton-head-container max-w-3xl w-full mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"course-overlay__skeleton-head-wrapper bg-white h-13 flex items-center justify-between border border-b-0 rounded-t-lg mt-5 md:mt-7\"\n  }, React.createElement(\"div\", {\n    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n  }), React.createElement(\"div\", {\n    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n  }), React.createElement(\"div\", {\n    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n  }))))), tmp);\n}\n\nvar TargetStatus =\n/* alias */\n0;\nvar make = CoursesCurriculum__Overlay;\nexports.UnexpectedSubmissionStatus = UnexpectedSubmissionStatus;\nexports.TargetStatus = TargetStatus;\nexports.str = str;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.closeOverlay = closeOverlay;\nexports.loadTargetDetails = loadTargetDetails;\nexports.completionTypeToString = completionTypeToString;\nexports.tabToString = tabToString;\nexports.selectableTabs = selectableTabs;\nexports.tabClasses = tabClasses;\nexports.scrollCompleteButtonIntoViewEventually = scrollCompleteButtonIntoViewEventually;\nexports.handleTablink = handleTablink;\nexports.tabButton = tabButton;\nexports.tabLink = tabLink;\nexports.tabOptions = tabOptions;\nexports.addSubmission = addSubmission;\nexports.addVerifiedSubmission = addVerifiedSubmission;\nexports.targetStatusClass = targetStatusClass;\nexports.targetStatusClasses = targetStatusClasses;\nexports.overlayHeaderTitleCardClasses = overlayHeaderTitleCardClasses;\nexports.renderLocked = renderLocked;\nexports.overlayStatus = overlayStatus;\nexports.renderLockReason = renderLockReason;\nexports.prerequisitesIncomplete = prerequisitesIncomplete;\nexports.handleLocked = handleLocked;\nexports.overlayContentClasses = overlayContentClasses;\nexports.learnSection = learnSection;\nexports.discussSection = discussSection;\nexports.completeSectionClasses = completeSectionClasses;\nexports.completeSection = completeSection;\nexports.renderPendingStudents = renderPendingStudents;\nexports.handlePendingStudents = handlePendingStudents;\nexports.performQuickNavigation = performQuickNavigation;\nexports.navigationLink = navigationLink;\nexports.scrollOverlayToTop = scrollOverlayToTop;\nexports.quickNavigationLinks = quickNavigationLinks;\nexports.updatePendingUserIdsWhenAddingSubmission = updatePendingUserIdsWhenAddingSubmission;\nexports.make = make;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/curricula/components/CoursesCurriculum__Overlay.bs.js"],"names":["Icon","require","Link","List","$$Array","Block","Curry","React","FaIcon","Caml_obj","ListUtils","ScrollLock","Belt_Option","Caml_option","OptionUtils","Caml_exceptions","ReasonReactRouter","CoursesCurriculum__Quiz","CoursesCurriculum__User","CoursesCurriculum__Learn","CoursesCurriculum__Course","CoursesCurriculum__Target","CoursesCurriculum__Discuss","CoursesCurriculum__AutoVerify","CoursesCurriculum__Submission","CoursesCurriculum__TargetStatus","CoursesCurriculum__TargetDetails","CoursesCurriculum__LatestSubmission","CoursesCurriculum__SubmissionBuilder","CoursesCurriculum__CompletionInstructions","CoursesCurriculum__SubmissionsAndFeedback","UnexpectedSubmissionStatus","create","str","prim","initialState","targetDetails","undefined","tab","reducer","state","action","tag","map","clearPendingUserIds","closeOverlay","course","push","id","loadTargetDetails","target","send","param","fetch","then","json","Promise","resolve","_1","__","decode","completionTypeToString","completionType","targetStatus","match","status","tabToString","selectableTabs","isNotEmpty","communities","tabClasses","selection","caml_equal","scrollCompleteButtonIntoViewEventually","setTimeout","element","document","getElementById","Rollbar","error","scrollIntoView","className","handleTablink","_event","tabButton","createElement","key","onClick","_e","tabLink","tabOptions","computeCompletionType","of_list","submissions","addSubmission","addSubmissionCB","submission","newTargetDetails","match$1","make","addVerifiedSubmission","targetStatusClass","prefix","statusToString","toLowerCase","targetStatusClasses","overlayHeaderTitleCardClasses","renderLocked","text","overlayStatus","preview","title","renderLockReason","reason","lockReasonToString","prerequisitesIncomplete","targets","statusOfTargets","prerequisiteTargetIds","prerequisiteTargets","filter","mem","find","ts","targetId","href","ariaLabel","children","handleLocked","overlayContentClasses","bool","learnSection","discussSection","completeSectionClasses","completeSection","evaluationCriteria","coaches","users","addVerifiedSubmissionCB","tmp","exit","exit$1","checklist","renderPendingStudents","pendingUserIds","studentId","user","unsafeFind","u","name","avatar","handlePendingStudents","performQuickNavigation","scrollTop","navigationLink","direction","url","arrow","icon","mapWithDefault","classes","scrollOverlayToTop","some","quickNavigationLinks","navigation","previousUrl","nextUrl","updatePendingUserIdsWhenAddingSubmission","role","CoursesCurriculum__Overlay","Props","useReducer","useEffect","activate","deactivate","match$2","match$3","TargetStatus","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Icon = require(\"../../../shared/Icon.bs.js\");\nvar Link = require(\"../../../shared/components/Link.bs.js\");\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar ListUtils = require(\"../../../shared/utils/ListUtils.bs.js\");\nvar ScrollLock = require(\"../../../shared/utils/ScrollLock.bs.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\nvar ReasonReactRouter = require(\"reason-react/src/ReasonReactRouter.js\");\nvar CoursesCurriculum__Quiz = require(\"./CoursesCurriculum__Quiz.bs.js\");\nvar CoursesCurriculum__User = require(\"../types/CoursesCurriculum__User.bs.js\");\nvar CoursesCurriculum__Learn = require(\"./CoursesCurriculum__Learn.bs.js\");\nvar CoursesCurriculum__Course = require(\"../types/CoursesCurriculum__Course.bs.js\");\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\nvar CoursesCurriculum__Discuss = require(\"./CoursesCurriculum__Discuss.bs.js\");\nvar CoursesCurriculum__AutoVerify = require(\"./CoursesCurriculum__AutoVerify.bs.js\");\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\nvar CoursesCurriculum__TargetStatus = require(\"../types/CoursesCurriculum__TargetStatus.bs.js\");\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\nvar CoursesCurriculum__LatestSubmission = require(\"../types/CoursesCurriculum__LatestSubmission.bs.js\");\nvar CoursesCurriculum__SubmissionBuilder = require(\"./CoursesCurriculum__SubmissionBuilder.bs.js\");\nvar CoursesCurriculum__CompletionInstructions = require(\"./CoursesCurriculum__CompletionInstructions.bs.js\");\nvar CoursesCurriculum__SubmissionsAndFeedback = require(\"./CoursesCurriculum__SubmissionsAndFeedback.bs.js\");\n\nvar UnexpectedSubmissionStatus = Caml_exceptions.create(\"CoursesCurriculum__Overlay.UnexpectedSubmissionStatus\");\n\n((require(\"./CoursesCurriculum__Overlay.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialState = {\n  targetDetails: undefined,\n  tab: /* Learn */0\n};\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    return {\n            targetDetails: undefined,\n            tab: state.tab\n          };\n  } else {\n    switch (action.tag | 0) {\n      case /* Select */0 :\n          return {\n                  targetDetails: state.targetDetails,\n                  tab: action[0]\n                };\n      case /* SetTargetDetails */1 :\n          return {\n                  targetDetails: action[0],\n                  tab: state.tab\n                };\n      case /* AddSubmission */2 :\n          if (action[0]) {\n            return {\n                    targetDetails: OptionUtils.map(CoursesCurriculum__TargetDetails.clearPendingUserIds, state.targetDetails),\n                    tab: state.tab\n                  };\n          } else {\n            return state;\n          }\n      \n    }\n  }\n}\n\nfunction closeOverlay(course) {\n  return ReasonReactRouter.push(\"/courses/\" + (CoursesCurriculum__Course.id(course) + \"/curriculum\"));\n}\n\nfunction loadTargetDetails(target, send, param) {\n  fetch(\"/targets/\" + (CoursesCurriculum__Target.id(target) + \"/details_v2\")).then((function (prim) {\n            return prim.json();\n          })).then((function (json) {\n          return Promise.resolve(Curry._1(send, /* SetTargetDetails */Block.__(1, [CoursesCurriculum__TargetDetails.decode(json)])));\n        }));\n  return ;\n}\n\nfunction completionTypeToString(completionType, targetStatus) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      if (completionType < 2) {\n        return \"Submissions & Feedback\";\n      }\n      \n    } else {\n      switch (completionType) {\n        case /* Evaluated */0 :\n            return \"Complete\";\n        case /* TakeQuiz */1 :\n            return \"Take Quiz\";\n        case /* LinkToComplete */2 :\n            return \"Visit Link to Complete\";\n        case /* MarkAsComplete */3 :\n            return \"Mark as Complete\";\n        \n      }\n    }\n  } else if (match[0] < 2 && completionType < 2) {\n    return \"Submissions & Feedback\";\n  }\n  if (typeof match === \"number\") {\n    return \"Completed\";\n  } else {\n    return \"Locked\";\n  }\n}\n\nfunction tabToString(targetStatus, tab) {\n  if (typeof tab === \"number\") {\n    if (tab !== 0) {\n      return \"Discuss\";\n    } else {\n      return \"Learn\";\n    }\n  } else {\n    return completionTypeToString(tab[0], targetStatus);\n  }\n}\n\nfunction selectableTabs(targetDetails) {\n  if (ListUtils.isNotEmpty(CoursesCurriculum__TargetDetails.communities(targetDetails))) {\n    return /* :: */[\n            /* Learn */0,\n            /* :: */[\n              /* Discuss */1,\n              /* [] */0\n            ]\n          ];\n  } else {\n    return /* :: */[\n            /* Learn */0,\n            /* [] */0\n          ];\n  }\n}\n\nfunction tabClasses(selection, tab) {\n  return \"course-overlay__body-tab-item p-2 md:px-3 md:py-4 flex w-full items-center justify-center text-sm -mx-px font-semibold\" + (\n          Caml_obj.caml_equal(tab, selection) ? \" course-overlay__body-tab-item--selected\" : \" bg-gray-100 hover:text-primary-400 hover:bg-gray-200 cursor-pointer\"\n        );\n}\n\nfunction scrollCompleteButtonIntoViewEventually(param) {\n  setTimeout((function (param) {\n          var element = document.getElementById(\"auto-verify-target\");\n          if (element == null) {\n            Rollbar.error(\"Could not find the 'Complete' button to scroll to.\");\n            return /* () */0;\n          } else {\n            element.scrollIntoView();\n            element.className = \"mt-4 complete-button-selected\";\n            return /* () */0;\n          }\n        }), 50);\n  return /* () */0;\n}\n\nfunction handleTablink(send, _event) {\n  Curry._1(send, /* Select */Block.__(0, [/* Learn */0]));\n  return scrollCompleteButtonIntoViewEventually(/* () */0);\n}\n\nfunction tabButton(tab, state, send, targetStatus) {\n  return React.createElement(\"span\", {\n              key: \"select-\" + tabToString(targetStatus, tab),\n              className: tabClasses(tab, state.tab),\n              onClick: (function (_e) {\n                  return Curry._1(send, /* Select */Block.__(0, [tab]));\n                })\n            }, tabToString(targetStatus, tab));\n}\n\nfunction tabLink(tab, state, send, targetStatus) {\n  return React.createElement(\"span\", {\n              className: tabClasses(tab, state.tab),\n              onClick: (function (param) {\n                  Curry._1(send, /* Select */Block.__(0, [/* Learn */0]));\n                  return scrollCompleteButtonIntoViewEventually(/* () */0);\n                })\n            }, tabToString(targetStatus, tab));\n}\n\nfunction tabOptions(state, send, targetDetails, targetStatus) {\n  var completionType = CoursesCurriculum__TargetDetails.computeCompletionType(targetDetails);\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  return React.createElement(\"div\", {\n              className: \"flex justify-between max-w-3xl mx-auto -mb-px mt-5 md:mt-7\"\n            }, $$Array.of_list(List.map((function (selection) {\n                        return tabButton(selection, state, send, targetStatus);\n                      }), selectableTabs(targetDetails))), typeof match === \"number\" ? (\n                completionType >= 2 ? tabLink(/* Complete */[completionType], state, send, targetStatus) : tabButton(/* Complete */[completionType], state, send, targetStatus)\n              ) : (\n                match[0] >= 2 || completionType >= 2 || !ListUtils.isNotEmpty(CoursesCurriculum__TargetDetails.submissions(targetDetails)) ? null : tabButton(/* Complete */[completionType], state, send, targetStatus)\n              ));\n}\n\nfunction addSubmission(target, state, send, addSubmissionCB, submission) {\n  var match = state.targetDetails;\n  if (match !== undefined) {\n    var newTargetDetails = CoursesCurriculum__TargetDetails.addSubmission(submission, match);\n    Curry._1(send, /* SetTargetDetails */Block.__(1, [newTargetDetails]));\n  }\n  var match$1 = CoursesCurriculum__Submission.status(submission);\n  switch (match$1) {\n    case /* MarkedAsComplete */0 :\n        return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(false, CoursesCurriculum__Target.id(target)));\n    case /* Pending */1 :\n        return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(true, CoursesCurriculum__Target.id(target)));\n    case /* Passed */2 :\n        throw [\n              UnexpectedSubmissionStatus,\n              \"CoursesCurriculum__Overlay.addSubmission cannot handle a submsision with status Passed\"\n            ];\n    case /* Failed */3 :\n        throw [\n              UnexpectedSubmissionStatus,\n              \"CoursesCurriculum__Overlay.addSubmission cannot handle a submsision with status Failed\"\n            ];\n    \n  }\n}\n\nfunction addVerifiedSubmission(target, state, send, addSubmissionCB, submission) {\n  var match = state.targetDetails;\n  if (match !== undefined) {\n    var newTargetDetails = CoursesCurriculum__TargetDetails.addSubmission(submission, match);\n    Curry._1(send, /* SetTargetDetails */Block.__(1, [newTargetDetails]));\n  }\n  return Curry._1(addSubmissionCB, CoursesCurriculum__LatestSubmission.make(false, CoursesCurriculum__Target.id(target)));\n}\n\nfunction targetStatusClass(prefix, targetStatus) {\n  return prefix + CoursesCurriculum__TargetStatus.statusToString(targetStatus).toLowerCase();\n}\n\nfunction targetStatusClasses(targetStatus) {\n  return \"curriculum__target-status bg-white text-xs mt-2 md:mt-0 py-1 px-2 md:px-4 \" + targetStatusClass(\"curriculum__target-status--\", targetStatus);\n}\n\nfunction overlayHeaderTitleCardClasses(targetStatus) {\n  return \"course-overlay__header-title-card relative flex justify-between items-center px-3 py-5 md:p-6 \" + targetStatusClass(\"course-overlay__header-title-card--\", targetStatus);\n}\n\nfunction renderLocked(text) {\n  return React.createElement(\"div\", {\n              className: \"mx-auto text-center bg-gray-900 text-white max-w-fc px-4 py-2 text-sm font-semibold relative z-10 rounded-b-lg\"\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-lock text-lg\"\n                }), React.createElement(\"span\", {\n                  className: \"ml-2\"\n                }, text));\n}\n\nfunction overlayStatus(course, target, targetStatus, preview) {\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: overlayHeaderTitleCardClasses(targetStatus)\n                }, React.createElement(\"button\", {\n                      className: \"course-overlay__close xl:absolute flex flex-col items-center justify-center absolute rounded-t-lg lg:rounded-t-none lg:rounded-b-lg leading-tight px-4 py-1 h-8 lg:h-full cursor-pointer border border-b-0 lg:border-transparent lg:border-t-0 lg:shadow hover:text-gray-900 hover:shadow-md focus:border-gray-300 focus:outline-none focus:shadow-inner \" + targetStatusClass(\"course-overlay__close--\", targetStatus),\n                      onClick: (function (_e) {\n                          return closeOverlay(course);\n                        })\n                    }, React.createElement(Icon.make, {\n                          className: \"if i-times-regular text-xl lg:text-2xl mt-1 lg:mt-0\"\n                        }), React.createElement(\"span\", {\n                          className: \"text-xs hidden lg:inline-block mt-px\"\n                        }, \"Close\")), React.createElement(\"div\", {\n                      className: \"w-full flex flex-wrap md:flex-no-wrap items-center justify-between relative\"\n                    }, React.createElement(\"h1\", {\n                          className: \"text-base leading-snug md:mr-6 md:text-xl\"\n                        }, CoursesCurriculum__Target.title(target)), React.createElement(\"div\", {\n                          className: targetStatusClasses(targetStatus)\n                        }, CoursesCurriculum__TargetStatus.statusToString(targetStatus)))), preview ? React.createElement(\"div\", undefined, renderLocked(\"You are currently looking at a preview of this course.\")) : null);\n}\n\nfunction renderLockReason(reason) {\n  return renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason));\n}\n\nfunction prerequisitesIncomplete(reason, target, targets, statusOfTargets) {\n  var prerequisiteTargetIds = CoursesCurriculum__Target.prerequisiteTargetIds(target);\n  var prerequisiteTargets = List.filter((function (target) {\n            return List.mem(CoursesCurriculum__Target.id(target), prerequisiteTargetIds);\n          }))(targets);\n  return React.createElement(\"div\", {\n              className: \"relative px-3 md:px-0\"\n            }, renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason)), React.createElement(\"div\", {\n                  className: \"course-overlay__prerequisite-targets z-10 max-w-3xl mx-auto bg-white text-center rounded-lg overflow-hidden shadow mt-6\"\n                }, $$Array.of_list(List.map((function (target) {\n                            var targetStatus = List.find((function (ts) {\n                                    return CoursesCurriculum__TargetStatus.targetId(ts) === CoursesCurriculum__Target.id(target);\n                                  }), statusOfTargets);\n                            return React.createElement(Link.make, {\n                                        href: \"/targets/\" + CoursesCurriculum__Target.id(target),\n                                        ariaLabel: \"Select Target \" + CoursesCurriculum__Target.id(target),\n                                        className: \"bg-white border-t px-6 py-4 relative z-10 flex items-center justify-between hover:bg-gray-200 hover:text-primary-500 cursor-pointer\",\n                                        children: null,\n                                        key: CoursesCurriculum__Target.id(target)\n                                      }, React.createElement(\"span\", {\n                                            className: \"font-semibold text-left leading-snug\"\n                                          }, CoursesCurriculum__Target.title(target)), React.createElement(\"span\", {\n                                            className: targetStatusClasses(targetStatus)\n                                          }, CoursesCurriculum__TargetStatus.statusToString(targetStatus)));\n                          }), prerequisiteTargets))));\n}\n\nfunction handleLocked(target, targets, targetStatus, statusOfTargets) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  if (typeof match === \"number\") {\n    return null;\n  } else {\n    var reason = match[0];\n    if (reason >= 3) {\n      return prerequisitesIncomplete(reason, target, targets, statusOfTargets);\n    } else {\n      return renderLocked(CoursesCurriculum__TargetStatus.lockReasonToString(reason));\n    }\n  }\n}\n\nfunction overlayContentClasses(bool) {\n  if (bool) {\n    return \"\";\n  } else {\n    return \"hidden\";\n  }\n}\n\nfunction learnSection(targetDetails, tab) {\n  return React.createElement(\"div\", {\n              className: tab === /* Learn */0 ? \"\" : \"hidden\"\n            }, React.createElement(CoursesCurriculum__Learn.make, {\n                  targetDetails: targetDetails\n                }));\n}\n\nfunction discussSection(target, targetDetails, tab) {\n  return React.createElement(\"div\", {\n              className: tab === /* Discuss */1 ? \"\" : \"hidden\"\n            }, React.createElement(CoursesCurriculum__Discuss.make, {\n                  targetId: CoursesCurriculum__Target.id(target),\n                  communities: CoursesCurriculum__TargetDetails.communities(targetDetails)\n                }));\n}\n\nfunction completeSectionClasses(tab, completionType) {\n  if (typeof tab === \"number\" && (tab !== 0 || completionType < 2)) {\n    return \"hidden\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction completeSection(state, send, target, targetDetails, targetStatus, addSubmissionCB, evaluationCriteria, coaches, users, preview) {\n  var completionType = CoursesCurriculum__TargetDetails.computeCompletionType(targetDetails);\n  var addVerifiedSubmissionCB = function (param) {\n    return addVerifiedSubmission(target, state, send, addSubmissionCB, param);\n  };\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  var tmp;\n  var exit = 0;\n  var exit$1 = 0;\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      exit$1 = 2;\n    } else if (completionType !== 1) {\n      if (completionType !== 0) {\n        exit = 1;\n      } else {\n        tmp = [\n          React.createElement(CoursesCurriculum__CompletionInstructions.make, {\n                targetDetails: targetDetails,\n                title: \"Instructions\",\n                key: \"completion-instructions\"\n              }),\n          React.createElement(CoursesCurriculum__SubmissionBuilder.make, {\n                target: target,\n                addSubmissionCB: (function (param) {\n                    return addSubmission(target, state, send, addSubmissionCB, param);\n                  }),\n                preview: preview,\n                checklist: CoursesCurriculum__TargetDetails.checklist(targetDetails),\n                key: \"courses-curriculum-submission-form\"\n              })\n        ];\n      }\n    } else {\n      tmp = [\n        React.createElement(CoursesCurriculum__CompletionInstructions.make, {\n              targetDetails: targetDetails,\n              title: \"Instructions\",\n              key: \"completion-instructions\"\n            }),\n        React.createElement(CoursesCurriculum__Quiz.make, {\n              target: target,\n              targetDetails: targetDetails,\n              addSubmissionCB: addVerifiedSubmissionCB,\n              preview: preview,\n              key: \"courses-curriculum-quiz\"\n            })\n      ];\n    }\n  } else if (match[0] >= 2) {\n    exit = 1;\n  } else {\n    exit$1 = 2;\n  }\n  if (exit$1 === 2) {\n    if (completionType >= 2) {\n      exit = 1;\n    } else {\n      tmp = React.createElement(CoursesCurriculum__SubmissionsAndFeedback.make, {\n            targetDetails: targetDetails,\n            target: target,\n            evaluationCriteria: evaluationCriteria,\n            addSubmissionCB: (function (param) {\n                return addSubmission(target, state, send, addSubmissionCB, param);\n              }),\n            targetStatus: targetStatus,\n            coaches: coaches,\n            users: users,\n            preview: preview,\n            checklist: CoursesCurriculum__TargetDetails.checklist(targetDetails)\n          });\n    }\n  }\n  if (exit === 1) {\n    tmp = typeof match === \"number\" ? React.createElement(CoursesCurriculum__AutoVerify.make, {\n            target: target,\n            targetDetails: targetDetails,\n            targetStatus: targetStatus,\n            addSubmissionCB: addVerifiedSubmissionCB,\n            preview: preview\n          }) : null;\n  }\n  return React.createElement(\"div\", {\n              className: completeSectionClasses(state.tab, completionType)\n            }, tmp);\n}\n\nfunction renderPendingStudents(pendingUserIds, users) {\n  return React.createElement(\"div\", {\n              className: \"max-w-3xl mx-auto text-center mt-4\"\n            }, React.createElement(\"div\", {\n                  className: \"font-semibold text-md\"\n                }, \"You have team members who are yet to complete this target:\"), React.createElement(\"div\", {\n                  className: \"flex justify-center flex-wrap\"\n                }, $$Array.of_list(List.map((function (studentId) {\n                            var user = ListUtils.unsafeFind((function (u) {\n                                    return CoursesCurriculum__User.id(u) === studentId;\n                                  }), \"Unable to find user with id \" + (studentId + \"in CoursesCurriculum__Overlay\"), users);\n                            return React.createElement(\"div\", {\n                                        key: CoursesCurriculum__User.id(user),\n                                        className: \"w-10 h-10 rounded-full border border-yellow-400 flex items-center justify-center overflow-hidden mx-1 shadow-md flex-shrink-0 mt-2\",\n                                        title: CoursesCurriculum__User.name(user) + \" has not completed this target.\"\n                                      }, CoursesCurriculum__User.avatar(user));\n                          }), pendingUserIds))));\n}\n\nfunction handlePendingStudents(targetStatus, targetDetails, users) {\n  var match = CoursesCurriculum__TargetStatus.status(targetStatus);\n  if (targetDetails !== undefined && typeof match === \"number\" && (match === 2 || match === 1)) {\n    var pendingUserIds = CoursesCurriculum__TargetDetails.pendingUserIds(targetDetails);\n    if (ListUtils.isNotEmpty(pendingUserIds)) {\n      return renderPendingStudents(pendingUserIds, users);\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\n\nfunction performQuickNavigation(send, _event) {\n  var match = document.getElementById(\"target-overlay\");\n  if (!(match == null)) {\n    match.scrollTop = 0.0;\n  }\n  return Curry._1(send, /* ClearTargetDetails */0);\n}\n\nfunction navigationLink(direction, url, send) {\n  var match = direction >= 870035731 ? /* tuple */[\n      undefined,\n      \"Next Target\",\n      \"fa-arrow-right\"\n    ] : /* tuple */[\n      \"fa-arrow-left\",\n      \"Previous Target\",\n      undefined\n    ];\n  var arrow = function (icon) {\n    return Belt_Option.mapWithDefault(icon, null, (function (icon) {\n                  return React.createElement(FaIcon.make, {\n                              classes: \"fas \" + icon\n                            });\n                }));\n  };\n  return React.createElement(Link.make, {\n              href: url,\n              className: \"block p-2 md:p-4 text-center border rounded-lg bg-gray-100 hover:bg-gray-200\",\n              onClick: (function (param) {\n                  return performQuickNavigation(send, param);\n                }),\n              children: null\n            }, arrow(match[0]), React.createElement(\"span\", {\n                  className: \"mx-2 hidden md:inline\"\n                }, match[1]), arrow(match[2]));\n}\n\nfunction scrollOverlayToTop(_event) {\n  var element = document.getElementById(\"target-overlay\");\n  return Belt_Option.mapWithDefault((element == null) ? undefined : Caml_option.some(element), /* () */0, (function (element) {\n                element.scrollTop = 0.0;\n                return /* () */0;\n              }));\n}\n\nfunction quickNavigationLinks(targetDetails, send) {\n  var match = CoursesCurriculum__TargetDetails.navigation(targetDetails);\n  return React.createElement(\"div\", {\n              className: \"pb-6\"\n            }, React.createElement(\"hr\", {\n                  className: \"my-6\"\n                }), React.createElement(\"div\", {\n                  className: \"container mx-auto max-w-3xl flex px-3 lg:px-0\"\n                }, React.createElement(\"div\", {\n                      className: \"w-1/3 mr-2\"\n                    }, Belt_Option.mapWithDefault(match[0], null, (function (previousUrl) {\n                            return navigationLink(/* Previous */-43878313, previousUrl, send);\n                          }))), React.createElement(\"div\", {\n                      className: \"w-1/3 mx-2\"\n                    }, React.createElement(\"button\", {\n                          className: \"block w-full focus:outline-none p-2 md:p-4 text-center border rounded-lg bg-gray-100 hover:bg-gray-200\",\n                          onClick: scrollOverlayToTop\n                        }, React.createElement(\"span\", {\n                              className: \"mx-2 hidden md:inline\"\n                            }, \"Scroll to Top\"), React.createElement(\"span\", {\n                              className: \"mx-2 md:hidden\"\n                            }, React.createElement(\"i\", {\n                                  className: \"fas fa-arrow-up\"\n                                })))), React.createElement(\"div\", {\n                      className: \"w-1/3 ml-2\"\n                    }, Belt_Option.mapWithDefault(match[1], null, (function (nextUrl) {\n                            return navigationLink(/* Next */870035731, nextUrl, send);\n                          })))));\n}\n\nfunction updatePendingUserIdsWhenAddingSubmission(send, target, addSubmissionCB, submission) {\n  Curry._1(send, /* AddSubmission */Block.__(2, [CoursesCurriculum__Target.role(target)]));\n  return Curry._1(addSubmissionCB, submission);\n}\n\nfunction CoursesCurriculum__Overlay(Props) {\n  var target = Props.target;\n  var course = Props.course;\n  var targetStatus = Props.targetStatus;\n  var addSubmissionCB = Props.addSubmissionCB;\n  var targets = Props.targets;\n  var statusOfTargets = Props.statusOfTargets;\n  var users = Props.users;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var coaches = Props.coaches;\n  var preview = Props.preview;\n  var match = React.useReducer(reducer, initialState);\n  var send = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          return loadTargetDetails(target, send, /* () */0);\n        }), [CoursesCurriculum__Target.id(target)]);\n  React.useEffect((function () {\n          ScrollLock.activate(/* () */0);\n          return (function (param) {\n                    return ScrollLock.deactivate(/* () */0);\n                  });\n        }));\n  var match$1 = state.targetDetails;\n  var match$2 = state.targetDetails;\n  var tmp;\n  if (match$2 !== undefined) {\n    var targetDetails = match$2;\n    var match$3 = state.tab;\n    tmp = React.createElement(\"div\", undefined, React.createElement(\"div\", {\n              className: \"container mx-auto mt-6 md:mt-8 max-w-3xl px-3 lg:px-0\"\n            }, learnSection(targetDetails, state.tab), discussSection(target, targetDetails, state.tab), completeSection(state, send, target, targetDetails, targetStatus, (function (param) {\n                    return updatePendingUserIdsWhenAddingSubmission(send, target, addSubmissionCB, param);\n                  }), evaluationCriteria, coaches, users, preview)), typeof match$3 === \"number\" && match$3 === 0 ? quickNavigationLinks(targetDetails, send) : null);\n  } else {\n    tmp = React.createElement(\"div\", {\n          className: \"course-overlay__skeleton-body-container max-w-3xl w-full pb-4 mx-auto\"\n        }, React.createElement(\"div\", {\n              className: \"course-overlay__skeleton-body-wrapper mt-8 px-3 lg:px-0\"\n            }, React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-md mt-4 w-2/4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-image-placeholder mt-5 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-2/5 skeleton-animate\"\n                })), React.createElement(\"div\", {\n              className: \"course-overlay__skeleton-body-wrapper mt-8 px-3 lg:px-0\"\n            }, React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 skeleton-animate\"\n                }), React.createElement(\"div\", {\n                  className: \"course-overlay__skeleton-line-placeholder-sm mt-4 w-3/4 skeleton-animate\"\n                })));\n  }\n  return React.createElement(\"div\", {\n              className: \"fixed z-30 top-0 left-0 w-full h-full overflow-y-scroll bg-white\",\n              id: \"target-overlay\"\n            }, React.createElement(\"div\", {\n                  className: \"bg-gray-100 border-b border-gray-400 px-3\"\n                }, React.createElement(\"div\", {\n                      className: \"course-overlay__header-container pt-12 lg:pt-0 mx-auto\"\n                    }, overlayStatus(course, target, targetStatus, preview), handleLocked(target, targets, targetStatus, statusOfTargets), handlePendingStudents(targetStatus, state.targetDetails, users), match$1 !== undefined ? tabOptions(state, send, match$1, targetStatus) : React.createElement(\"div\", {\n                            className: \"course-overlay__skeleton-head-container max-w-3xl w-full mx-auto\"\n                          }, React.createElement(\"div\", {\n                                className: \"course-overlay__skeleton-head-wrapper bg-white h-13 flex items-center justify-between border border-b-0 rounded-t-lg mt-5 md:mt-7\"\n                              }, React.createElement(\"div\", {\n                                    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n                                  }), React.createElement(\"div\", {\n                                    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n                                  }), React.createElement(\"div\", {\n                                    className: \"course-overlay__skeleton-line-placeholder-sm w-1/3 mx-8 skeleton-animate\"\n                                  }))))), tmp);\n}\n\nvar TargetStatus = /* alias */0;\n\nvar make = CoursesCurriculum__Overlay;\n\nexports.UnexpectedSubmissionStatus = UnexpectedSubmissionStatus;\nexports.TargetStatus = TargetStatus;\nexports.str = str;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.closeOverlay = closeOverlay;\nexports.loadTargetDetails = loadTargetDetails;\nexports.completionTypeToString = completionTypeToString;\nexports.tabToString = tabToString;\nexports.selectableTabs = selectableTabs;\nexports.tabClasses = tabClasses;\nexports.scrollCompleteButtonIntoViewEventually = scrollCompleteButtonIntoViewEventually;\nexports.handleTablink = handleTablink;\nexports.tabButton = tabButton;\nexports.tabLink = tabLink;\nexports.tabOptions = tabOptions;\nexports.addSubmission = addSubmission;\nexports.addVerifiedSubmission = addVerifiedSubmission;\nexports.targetStatusClass = targetStatusClass;\nexports.targetStatusClasses = targetStatusClasses;\nexports.overlayHeaderTitleCardClasses = overlayHeaderTitleCardClasses;\nexports.renderLocked = renderLocked;\nexports.overlayStatus = overlayStatus;\nexports.renderLockReason = renderLockReason;\nexports.prerequisitesIncomplete = prerequisitesIncomplete;\nexports.handleLocked = handleLocked;\nexports.overlayContentClasses = overlayContentClasses;\nexports.learnSection = learnSection;\nexports.discussSection = discussSection;\nexports.completeSectionClasses = completeSectionClasses;\nexports.completeSection = completeSection;\nexports.renderPendingStudents = renderPendingStudents;\nexports.handlePendingStudents = handlePendingStudents;\nexports.performQuickNavigation = performQuickNavigation;\nexports.navigationLink = navigationLink;\nexports.scrollOverlayToTop = scrollOverlayToTop;\nexports.quickNavigationLinks = quickNavigationLinks;\nexports.updatePendingUserIdsWhenAddingSubmission = updatePendingUserIdsWhenAddingSubmission;\nexports.make = make;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}