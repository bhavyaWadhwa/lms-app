{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nfunction url(t) {\n  return t.url;\n}\n\nfunction filename(t) {\n  return t.filename;\n}\n\nfunction make(url, filename) {\n  return {\n    url: url,\n    filename: filename\n  };\n}\n\nvar $$Image = {\n  url: url,\n  filename: filename,\n  make: make\n};\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction endsAt(t) {\n  return t.endsAt;\n}\n\nfunction about(t) {\n  return t.about;\n}\n\nfunction publicSignup(t) {\n  return t.publicSignup;\n}\n\nfunction description(t) {\n  return t.description;\n}\n\nfunction featured(t) {\n  return t.featured;\n}\n\nfunction cover(t) {\n  return t.cover;\n}\n\nfunction thumbnail(t) {\n  return t.thumbnail;\n}\n\nfunction progressionBehavior(t) {\n  var match = t.progressionBehavior;\n\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      return (\n        /* Strict */\n        -976972951\n      );\n    } else {\n      return (\n        /* Unlimited */\n        751362817\n      );\n    }\n  } else {\n    return (\n      /* Limited */\n      -599448518\n    );\n  }\n}\n\nfunction progressionLimit(t) {\n  var match = t.progressionBehavior;\n\n  if (typeof match === \"number\") {\n    return;\n  } else {\n    return match[0];\n  }\n}\n\nfunction imageUrl(image) {\n  return image.url;\n}\n\nfunction filename$1(image) {\n  return image.filename;\n}\n\nfunction sort(courses) {\n  return List.sort(function (x, y) {\n    return Caml_format.caml_int_of_string(x.id) - Caml_format.caml_int_of_string(y.id) | 0;\n  }, courses);\n}\n\nfunction updateList(courses, course) {\n  var oldCourses = List.filter(function (c) {\n    return c.id !== course.id;\n  })(courses);\n  return List.rev(List.append(\n  /* :: */\n  [course,\n  /* [] */\n  0], List.rev(oldCourses)));\n}\n\nfunction makeImageFromJs(data) {\n  if (data !== undefined) {\n    var image = Caml_option.valFromOption(data);\n    return {\n      url: image.url,\n      filename: image.filename\n    };\n  }\n}\n\nfunction addImages(coverUrl, thumbnailUrl, coverFilename, thumbnailFilename, t) {\n  return {\n    id: t.id,\n    name: t.name,\n    description: t.description,\n    endsAt: t.endsAt,\n    about: t.about,\n    publicSignup: t.publicSignup,\n    thumbnail: thumbnailUrl !== undefined ? {\n      url: thumbnailUrl,\n      filename: thumbnailFilename\n    } : undefined,\n    cover: coverUrl !== undefined ? {\n      url: coverUrl,\n      filename: coverFilename\n    } : undefined,\n    featured: t.featured,\n    progressionBehavior: t.progressionBehavior\n  };\n}\n\nfunction replaceImages(cover, thumbnail, t) {\n  return {\n    id: t.id,\n    name: t.name,\n    description: t.description,\n    endsAt: t.endsAt,\n    about: t.about,\n    publicSignup: t.publicSignup,\n    thumbnail: thumbnail,\n    cover: cover,\n    featured: t.featured,\n    progressionBehavior: t.progressionBehavior\n  };\n}\n\nfunction makeFromJs(rawCourse) {\n  var endsAt = Belt_Option.map(rawCourse.endsAt, DateFns.decodeISO);\n  var match = rawCourse.progressionBehavior;\n  var progressionBehavior = match !== -599448518 ? match >= 751362817 ?\n  /* Unlimited */\n  0 :\n  /* Strict */\n  1 :\n  /* Limited */\n  [Belt_Option.getExn(rawCourse.progressionLimit)];\n  return {\n    id: rawCourse.id,\n    name: rawCourse.name,\n    description: rawCourse.description,\n    endsAt: endsAt,\n    about: rawCourse.about,\n    publicSignup: rawCourse.publicSignup,\n    thumbnail: makeImageFromJs(rawCourse.thumbnail),\n    cover: makeImageFromJs(rawCourse.cover),\n    featured: rawCourse.featured,\n    progressionBehavior: progressionBehavior\n  };\n}\n\nvar ppx_printed_query = \"fragment allFields on Course   {\\nid  \\nname  \\ndescription  \\nendsAt  \\nabout  \\npublicSignup  \\nthumbnail  {\\nurl  \\nfilename  \\n}\\n\\ncover  {\\nurl  \\nfilename  \\n}\\n\\nfeatured  \\nprogressionBehavior  \\nprogressionLimit  \\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"id\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Caml_option.valFromOption(match);\n    var match$1 = Js_json.decodeString(value$2);\n    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Course is missing\");\n  }\n\n  var match$2 = Js_dict.get(value$1, \"name\");\n  var tmp$1;\n\n  if (match$2 !== undefined) {\n    var value$3 = Caml_option.valFromOption(match$2);\n    var match$3 = Js_json.decodeString(value$3);\n    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n  } else {\n    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Course is missing\");\n  }\n\n  var match$4 = Js_dict.get(value$1, \"description\");\n  var tmp$2;\n\n  if (match$4 !== undefined) {\n    var value$4 = Caml_option.valFromOption(match$4);\n    var match$5 = Js_json.decodeString(value$4);\n    tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n  } else {\n    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field description on type Course is missing\");\n  }\n\n  var match$6 = Js_dict.get(value$1, \"endsAt\");\n  var tmp$3;\n\n  if (match$6 !== undefined) {\n    var value$5 = Caml_option.valFromOption(match$6);\n    var match$7 = Js_json.decodeNull(value$5);\n    tmp$3 = match$7 !== undefined ? undefined : Caml_option.some(value$5);\n  } else {\n    tmp$3 = undefined;\n  }\n\n  var match$8 = Js_dict.get(value$1, \"about\");\n  var tmp$4;\n\n  if (match$8 !== undefined) {\n    var value$6 = Caml_option.valFromOption(match$8);\n    var match$9 = Js_json.decodeNull(value$6);\n\n    if (match$9 !== undefined) {\n      tmp$4 = undefined;\n    } else {\n      var match$10 = Js_json.decodeString(value$6);\n      tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n    }\n  } else {\n    tmp$4 = undefined;\n  }\n\n  var match$11 = Js_dict.get(value$1, \"publicSignup\");\n  var tmp$5;\n\n  if (match$11 !== undefined) {\n    var value$7 = Caml_option.valFromOption(match$11);\n    var match$12 = Js_json.decodeBoolean(value$7);\n    tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n  } else {\n    tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field publicSignup on type Course is missing\");\n  }\n\n  var match$13 = Js_dict.get(value$1, \"thumbnail\");\n  var tmp$6;\n\n  if (match$13 !== undefined) {\n    var value$8 = Caml_option.valFromOption(match$13);\n    var match$14 = Js_json.decodeNull(value$8);\n\n    if (match$14 !== undefined) {\n      tmp$6 = undefined;\n    } else {\n      var value$9 = Js_option.getExn(Js_json.decodeObject(value$8));\n      var match$15 = Js_dict.get(value$9, \"url\");\n      var tmp$7;\n\n      if (match$15 !== undefined) {\n        var value$10 = Caml_option.valFromOption(match$15);\n        var match$16 = Js_json.decodeString(value$10);\n        tmp$7 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$10));\n      } else {\n        tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field url on type Image is missing\");\n      }\n\n      var match$17 = Js_dict.get(value$9, \"filename\");\n      var tmp$8;\n\n      if (match$17 !== undefined) {\n        var value$11 = Caml_option.valFromOption(match$17);\n        var match$18 = Js_json.decodeString(value$11);\n        tmp$8 = match$18 !== undefined ? match$18 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$11));\n      } else {\n        tmp$8 = Js_exn.raiseError(\"graphql_ppx: Field filename on type Image is missing\");\n      }\n\n      tmp$6 = {\n        url: tmp$7,\n        filename: tmp$8\n      };\n    }\n  } else {\n    tmp$6 = undefined;\n  }\n\n  var match$19 = Js_dict.get(value$1, \"cover\");\n  var tmp$9;\n\n  if (match$19 !== undefined) {\n    var value$12 = Caml_option.valFromOption(match$19);\n    var match$20 = Js_json.decodeNull(value$12);\n\n    if (match$20 !== undefined) {\n      tmp$9 = undefined;\n    } else {\n      var value$13 = Js_option.getExn(Js_json.decodeObject(value$12));\n      var match$21 = Js_dict.get(value$13, \"url\");\n      var tmp$10;\n\n      if (match$21 !== undefined) {\n        var value$14 = Caml_option.valFromOption(match$21);\n        var match$22 = Js_json.decodeString(value$14);\n        tmp$10 = match$22 !== undefined ? match$22 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$14));\n      } else {\n        tmp$10 = Js_exn.raiseError(\"graphql_ppx: Field url on type Image is missing\");\n      }\n\n      var match$23 = Js_dict.get(value$13, \"filename\");\n      var tmp$11;\n\n      if (match$23 !== undefined) {\n        var value$15 = Caml_option.valFromOption(match$23);\n        var match$24 = Js_json.decodeString(value$15);\n        tmp$11 = match$24 !== undefined ? match$24 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$15));\n      } else {\n        tmp$11 = Js_exn.raiseError(\"graphql_ppx: Field filename on type Image is missing\");\n      }\n\n      tmp$9 = {\n        url: tmp$10,\n        filename: tmp$11\n      };\n    }\n  } else {\n    tmp$9 = undefined;\n  }\n\n  var match$25 = Js_dict.get(value$1, \"featured\");\n  var tmp$12;\n\n  if (match$25 !== undefined) {\n    var value$16 = Caml_option.valFromOption(match$25);\n    var match$26 = Js_json.decodeBoolean(value$16);\n    tmp$12 = match$26 !== undefined ? match$26 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$16));\n  } else {\n    tmp$12 = Js_exn.raiseError(\"graphql_ppx: Field featured on type Course is missing\");\n  }\n\n  var match$27 = Js_dict.get(value$1, \"progressionBehavior\");\n  var tmp$13;\n\n  if (match$27 !== undefined) {\n    var value$17 = Caml_option.valFromOption(match$27);\n    var match$28 = Js_json.decodeString(value$17);\n\n    if (match$28 !== undefined) {\n      var value$18 = match$28;\n\n      switch (value$18) {\n        case \"Limited\":\n          tmp$13 =\n          /* Limited */\n          -599448518;\n          break;\n\n        case \"Strict\":\n          tmp$13 =\n          /* Strict */\n          -976972951;\n          break;\n\n        case \"Unlimited\":\n          tmp$13 =\n          /* Unlimited */\n          751362817;\n          break;\n\n        default:\n          tmp$13 = Js_exn.raiseError(\"graphql_ppx: Unknown enum variant for ProgressionBehavior: \" + value$18);\n      }\n    } else {\n      tmp$13 = Js_exn.raiseError(\"graphql_ppx: Expected enum value for ProgressionBehavior, got \" + JSON.stringify(value$17));\n    }\n  } else {\n    tmp$13 = Js_exn.raiseError(\"graphql_ppx: Field progressionBehavior on type Course is missing\");\n  }\n\n  var match$29 = Js_dict.get(value$1, \"progressionLimit\");\n  var tmp$14;\n\n  if (match$29 !== undefined) {\n    var value$19 = Caml_option.valFromOption(match$29);\n    var match$30 = Js_json.decodeNull(value$19);\n\n    if (match$30 !== undefined) {\n      tmp$14 = undefined;\n    } else {\n      var match$31 = Js_json.decodeNumber(value$19);\n      tmp$14 = match$31 !== undefined ? match$31 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$19));\n    }\n  } else {\n    tmp$14 = undefined;\n  }\n\n  return {\n    id: tmp,\n    name: tmp$1,\n    description: tmp$2,\n    endsAt: tmp$3,\n    about: tmp$4,\n    publicSignup: tmp$5,\n    thumbnail: tmp$6,\n    cover: tmp$9,\n    featured: tmp$12,\n    progressionBehavior: tmp$13,\n    progressionLimit: tmp$14\n  };\n}\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar AllFields = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  name: \"allFields\",\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\nvar Fragments = {\n  AllFields: AllFields\n};\nexports.$$Image = $$Image;\nexports.name = name;\nexports.id = id;\nexports.endsAt = endsAt;\nexports.about = about;\nexports.publicSignup = publicSignup;\nexports.description = description;\nexports.featured = featured;\nexports.cover = cover;\nexports.thumbnail = thumbnail;\nexports.progressionBehavior = progressionBehavior;\nexports.progressionLimit = progressionLimit;\nexports.imageUrl = imageUrl;\nexports.filename = filename$1;\nexports.sort = sort;\nexports.updateList = updateList;\nexports.makeImageFromJs = makeImageFromJs;\nexports.addImages = addImages;\nexports.replaceImages = replaceImages;\nexports.makeFromJs = makeFromJs;\nexports.Fragments = Fragments;\n/* DateFns Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/types/course_editor/CourseEditor__Course.bs.js"],"names":["List","require","Js_exn","DateFns","Js_dict","Js_json","Js_option","Belt_Option","Caml_format","Caml_option","url","t","filename","make","$$Image","name","id","endsAt","about","publicSignup","description","featured","cover","thumbnail","progressionBehavior","match","progressionLimit","imageUrl","image","filename$1","sort","courses","x","y","caml_int_of_string","updateList","course","oldCourses","filter","c","rev","append","makeImageFromJs","data","undefined","valFromOption","addImages","coverUrl","thumbnailUrl","coverFilename","thumbnailFilename","replaceImages","makeFromJs","rawCourse","map","decodeISO","getExn","ppx_printed_query","parse","value","value$1","decodeObject","get","tmp","value$2","match$1","decodeString","raiseError","JSON","stringify","match$2","tmp$1","value$3","match$3","match$4","tmp$2","value$4","match$5","match$6","tmp$3","value$5","match$7","decodeNull","some","match$8","tmp$4","value$6","match$9","match$10","match$11","tmp$5","value$7","match$12","decodeBoolean","match$13","tmp$6","value$8","match$14","value$9","match$15","tmp$7","value$10","match$16","match$17","tmp$8","value$11","match$18","match$19","tmp$9","value$12","match$20","value$13","match$21","tmp$10","value$14","match$22","match$23","tmp$11","value$15","match$24","match$25","tmp$12","value$16","match$26","match$27","tmp$13","value$17","match$28","value$18","match$29","tmp$14","value$19","match$30","match$31","decodeNumber","ret_type","f","MT_Ret","AllFields","query","Fragments","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nfunction url(t) {\n  return t.url;\n}\n\nfunction filename(t) {\n  return t.filename;\n}\n\nfunction make(url, filename) {\n  return {\n          url: url,\n          filename: filename\n        };\n}\n\nvar $$Image = {\n  url: url,\n  filename: filename,\n  make: make\n};\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction endsAt(t) {\n  return t.endsAt;\n}\n\nfunction about(t) {\n  return t.about;\n}\n\nfunction publicSignup(t) {\n  return t.publicSignup;\n}\n\nfunction description(t) {\n  return t.description;\n}\n\nfunction featured(t) {\n  return t.featured;\n}\n\nfunction cover(t) {\n  return t.cover;\n}\n\nfunction thumbnail(t) {\n  return t.thumbnail;\n}\n\nfunction progressionBehavior(t) {\n  var match = t.progressionBehavior;\n  if (typeof match === \"number\") {\n    if (match !== 0) {\n      return /* Strict */-976972951;\n    } else {\n      return /* Unlimited */751362817;\n    }\n  } else {\n    return /* Limited */-599448518;\n  }\n}\n\nfunction progressionLimit(t) {\n  var match = t.progressionBehavior;\n  if (typeof match === \"number\") {\n    return ;\n  } else {\n    return match[0];\n  }\n}\n\nfunction imageUrl(image) {\n  return image.url;\n}\n\nfunction filename$1(image) {\n  return image.filename;\n}\n\nfunction sort(courses) {\n  return List.sort((function (x, y) {\n                return Caml_format.caml_int_of_string(x.id) - Caml_format.caml_int_of_string(y.id) | 0;\n              }), courses);\n}\n\nfunction updateList(courses, course) {\n  var oldCourses = List.filter((function (c) {\n            return c.id !== course.id;\n          }))(courses);\n  return List.rev(List.append(/* :: */[\n                  course,\n                  /* [] */0\n                ], List.rev(oldCourses)));\n}\n\nfunction makeImageFromJs(data) {\n  if (data !== undefined) {\n    var image = Caml_option.valFromOption(data);\n    return {\n            url: image.url,\n            filename: image.filename\n          };\n  }\n  \n}\n\nfunction addImages(coverUrl, thumbnailUrl, coverFilename, thumbnailFilename, t) {\n  return {\n          id: t.id,\n          name: t.name,\n          description: t.description,\n          endsAt: t.endsAt,\n          about: t.about,\n          publicSignup: t.publicSignup,\n          thumbnail: thumbnailUrl !== undefined ? ({\n                url: thumbnailUrl,\n                filename: thumbnailFilename\n              }) : undefined,\n          cover: coverUrl !== undefined ? ({\n                url: coverUrl,\n                filename: coverFilename\n              }) : undefined,\n          featured: t.featured,\n          progressionBehavior: t.progressionBehavior\n        };\n}\n\nfunction replaceImages(cover, thumbnail, t) {\n  return {\n          id: t.id,\n          name: t.name,\n          description: t.description,\n          endsAt: t.endsAt,\n          about: t.about,\n          publicSignup: t.publicSignup,\n          thumbnail: thumbnail,\n          cover: cover,\n          featured: t.featured,\n          progressionBehavior: t.progressionBehavior\n        };\n}\n\nfunction makeFromJs(rawCourse) {\n  var endsAt = Belt_Option.map(rawCourse.endsAt, DateFns.decodeISO);\n  var match = rawCourse.progressionBehavior;\n  var progressionBehavior = match !== -599448518 ? (\n      match >= 751362817 ? /* Unlimited */0 : /* Strict */1\n    ) : /* Limited */[Belt_Option.getExn(rawCourse.progressionLimit)];\n  return {\n          id: rawCourse.id,\n          name: rawCourse.name,\n          description: rawCourse.description,\n          endsAt: endsAt,\n          about: rawCourse.about,\n          publicSignup: rawCourse.publicSignup,\n          thumbnail: makeImageFromJs(rawCourse.thumbnail),\n          cover: makeImageFromJs(rawCourse.cover),\n          featured: rawCourse.featured,\n          progressionBehavior: progressionBehavior\n        };\n}\n\nvar ppx_printed_query = \"fragment allFields on Course   {\\nid  \\nname  \\ndescription  \\nendsAt  \\nabout  \\npublicSignup  \\nthumbnail  {\\nurl  \\nfilename  \\n}\\n\\ncover  {\\nurl  \\nfilename  \\n}\\n\\nfeatured  \\nprogressionBehavior  \\nprogressionLimit  \\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"id\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Caml_option.valFromOption(match);\n    var match$1 = Js_json.decodeString(value$2);\n    tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Course is missing\");\n  }\n  var match$2 = Js_dict.get(value$1, \"name\");\n  var tmp$1;\n  if (match$2 !== undefined) {\n    var value$3 = Caml_option.valFromOption(match$2);\n    var match$3 = Js_json.decodeString(value$3);\n    tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n  } else {\n    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Course is missing\");\n  }\n  var match$4 = Js_dict.get(value$1, \"description\");\n  var tmp$2;\n  if (match$4 !== undefined) {\n    var value$4 = Caml_option.valFromOption(match$4);\n    var match$5 = Js_json.decodeString(value$4);\n    tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n  } else {\n    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field description on type Course is missing\");\n  }\n  var match$6 = Js_dict.get(value$1, \"endsAt\");\n  var tmp$3;\n  if (match$6 !== undefined) {\n    var value$5 = Caml_option.valFromOption(match$6);\n    var match$7 = Js_json.decodeNull(value$5);\n    tmp$3 = match$7 !== undefined ? undefined : Caml_option.some(value$5);\n  } else {\n    tmp$3 = undefined;\n  }\n  var match$8 = Js_dict.get(value$1, \"about\");\n  var tmp$4;\n  if (match$8 !== undefined) {\n    var value$6 = Caml_option.valFromOption(match$8);\n    var match$9 = Js_json.decodeNull(value$6);\n    if (match$9 !== undefined) {\n      tmp$4 = undefined;\n    } else {\n      var match$10 = Js_json.decodeString(value$6);\n      tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n    }\n  } else {\n    tmp$4 = undefined;\n  }\n  var match$11 = Js_dict.get(value$1, \"publicSignup\");\n  var tmp$5;\n  if (match$11 !== undefined) {\n    var value$7 = Caml_option.valFromOption(match$11);\n    var match$12 = Js_json.decodeBoolean(value$7);\n    tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n  } else {\n    tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field publicSignup on type Course is missing\");\n  }\n  var match$13 = Js_dict.get(value$1, \"thumbnail\");\n  var tmp$6;\n  if (match$13 !== undefined) {\n    var value$8 = Caml_option.valFromOption(match$13);\n    var match$14 = Js_json.decodeNull(value$8);\n    if (match$14 !== undefined) {\n      tmp$6 = undefined;\n    } else {\n      var value$9 = Js_option.getExn(Js_json.decodeObject(value$8));\n      var match$15 = Js_dict.get(value$9, \"url\");\n      var tmp$7;\n      if (match$15 !== undefined) {\n        var value$10 = Caml_option.valFromOption(match$15);\n        var match$16 = Js_json.decodeString(value$10);\n        tmp$7 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$10));\n      } else {\n        tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field url on type Image is missing\");\n      }\n      var match$17 = Js_dict.get(value$9, \"filename\");\n      var tmp$8;\n      if (match$17 !== undefined) {\n        var value$11 = Caml_option.valFromOption(match$17);\n        var match$18 = Js_json.decodeString(value$11);\n        tmp$8 = match$18 !== undefined ? match$18 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$11));\n      } else {\n        tmp$8 = Js_exn.raiseError(\"graphql_ppx: Field filename on type Image is missing\");\n      }\n      tmp$6 = {\n        url: tmp$7,\n        filename: tmp$8\n      };\n    }\n  } else {\n    tmp$6 = undefined;\n  }\n  var match$19 = Js_dict.get(value$1, \"cover\");\n  var tmp$9;\n  if (match$19 !== undefined) {\n    var value$12 = Caml_option.valFromOption(match$19);\n    var match$20 = Js_json.decodeNull(value$12);\n    if (match$20 !== undefined) {\n      tmp$9 = undefined;\n    } else {\n      var value$13 = Js_option.getExn(Js_json.decodeObject(value$12));\n      var match$21 = Js_dict.get(value$13, \"url\");\n      var tmp$10;\n      if (match$21 !== undefined) {\n        var value$14 = Caml_option.valFromOption(match$21);\n        var match$22 = Js_json.decodeString(value$14);\n        tmp$10 = match$22 !== undefined ? match$22 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$14));\n      } else {\n        tmp$10 = Js_exn.raiseError(\"graphql_ppx: Field url on type Image is missing\");\n      }\n      var match$23 = Js_dict.get(value$13, \"filename\");\n      var tmp$11;\n      if (match$23 !== undefined) {\n        var value$15 = Caml_option.valFromOption(match$23);\n        var match$24 = Js_json.decodeString(value$15);\n        tmp$11 = match$24 !== undefined ? match$24 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$15));\n      } else {\n        tmp$11 = Js_exn.raiseError(\"graphql_ppx: Field filename on type Image is missing\");\n      }\n      tmp$9 = {\n        url: tmp$10,\n        filename: tmp$11\n      };\n    }\n  } else {\n    tmp$9 = undefined;\n  }\n  var match$25 = Js_dict.get(value$1, \"featured\");\n  var tmp$12;\n  if (match$25 !== undefined) {\n    var value$16 = Caml_option.valFromOption(match$25);\n    var match$26 = Js_json.decodeBoolean(value$16);\n    tmp$12 = match$26 !== undefined ? match$26 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$16));\n  } else {\n    tmp$12 = Js_exn.raiseError(\"graphql_ppx: Field featured on type Course is missing\");\n  }\n  var match$27 = Js_dict.get(value$1, \"progressionBehavior\");\n  var tmp$13;\n  if (match$27 !== undefined) {\n    var value$17 = Caml_option.valFromOption(match$27);\n    var match$28 = Js_json.decodeString(value$17);\n    if (match$28 !== undefined) {\n      var value$18 = match$28;\n      switch (value$18) {\n        case \"Limited\" :\n            tmp$13 = /* Limited */-599448518;\n            break;\n        case \"Strict\" :\n            tmp$13 = /* Strict */-976972951;\n            break;\n        case \"Unlimited\" :\n            tmp$13 = /* Unlimited */751362817;\n            break;\n        default:\n          tmp$13 = Js_exn.raiseError(\"graphql_ppx: Unknown enum variant for ProgressionBehavior: \" + value$18);\n      }\n    } else {\n      tmp$13 = Js_exn.raiseError(\"graphql_ppx: Expected enum value for ProgressionBehavior, got \" + JSON.stringify(value$17));\n    }\n  } else {\n    tmp$13 = Js_exn.raiseError(\"graphql_ppx: Field progressionBehavior on type Course is missing\");\n  }\n  var match$29 = Js_dict.get(value$1, \"progressionLimit\");\n  var tmp$14;\n  if (match$29 !== undefined) {\n    var value$19 = Caml_option.valFromOption(match$29);\n    var match$30 = Js_json.decodeNull(value$19);\n    if (match$30 !== undefined) {\n      tmp$14 = undefined;\n    } else {\n      var match$31 = Js_json.decodeNumber(value$19);\n      tmp$14 = match$31 !== undefined ? match$31 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$19));\n    }\n  } else {\n    tmp$14 = undefined;\n  }\n  return {\n          id: tmp,\n          name: tmp$1,\n          description: tmp$2,\n          endsAt: tmp$3,\n          about: tmp$4,\n          publicSignup: tmp$5,\n          thumbnail: tmp$6,\n          cover: tmp$9,\n          featured: tmp$12,\n          progressionBehavior: tmp$13,\n          progressionLimit: tmp$14\n        };\n}\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar AllFields = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  name: \"allFields\",\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nvar Fragments = {\n  AllFields: AllFields\n};\n\nexports.$$Image = $$Image;\nexports.name = name;\nexports.id = id;\nexports.endsAt = endsAt;\nexports.about = about;\nexports.publicSignup = publicSignup;\nexports.description = description;\nexports.featured = featured;\nexports.cover = cover;\nexports.thumbnail = thumbnail;\nexports.progressionBehavior = progressionBehavior;\nexports.progressionLimit = progressionLimit;\nexports.imageUrl = imageUrl;\nexports.filename = filename$1;\nexports.sort = sort;\nexports.updateList = updateList;\nexports.makeImageFromJs = makeImageFromJs;\nexports.addImages = addImages;\nexports.replaceImages = replaceImages;\nexports.makeFromJs = makeFromJs;\nexports.Fragments = Fragments;\n/* DateFns Not a pure module */\n"]},"metadata":{},"sourceType":"module"}