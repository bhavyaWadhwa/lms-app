{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar $$String = require(\"bs-platform/lib/js/string.js\");\n\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\n\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\n\nvar DatePicker = require(\"../../../../shared/components/DatePicker.bs.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\n\nvar DisablingCover = require(\"../../../../shared/components/DisablingCover.bs.js\");\n\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\n\nvar MultiselectInline = require(\"../../../../packages/multiselect-inline/src/components/MultiselectInline.bs.js\");\n\nvar StudentsEditor__Team = require(\"../../types/students_editor/StudentsEditor__Team.bs.js\");\n\nvar StudentsEditor__Coach = require(\"../../types/students_editor/StudentsEditor__Coach.bs.js\");\n\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\n\nvar StudentsEditor__SearchableTagList = require(\"./StudentsEditor__SearchableTagList.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction stringInputInvalid(s) {\n  return s.length < 2;\n}\n\nfunction updateName(send, name) {\n  return Curry._1(send,\n  /* UpdateName */\n  Block.__(0, [name]));\n}\n\nfunction updateTeamName(send, teamName) {\n  return Curry._1(send,\n  /* UpdateTeamName */\n  Block.__(1, [teamName]));\n}\n\nfunction updateTitle(send, title) {\n  return Curry._1(send,\n  /* UpdateTitle */\n  Block.__(7, [title]));\n}\n\nfunction formInvalid(state) {\n  if (state.name.length < 2 || state.teamName.length < 2) {\n    return true;\n  } else {\n    return state.title.length < 2;\n  }\n}\n\nfunction handleErrorCB(send, param) {\n  return Curry._1(send,\n  /* UpdateSaving */\n  Block.__(9, [false]));\n}\n\nfunction successMessage(accessEndsAt, isSingleFounder) {\n  if (accessEndsAt !== undefined) {\n    var match = DateFns.isPast(Caml_option.valFromOption(accessEndsAt));\n\n    if (match) {\n      if (isSingleFounder) {\n        return \"Student has been updated, and moved to list of inactive students\";\n      } else {\n        return \"Team has been updated, and moved to list of inactive students\";\n      }\n    } else {\n      return \"Student updated successfully\";\n    }\n  } else {\n    return \"Student updated successfully\";\n  }\n}\n\nfunction enrolledCoachIds(teamCoaches) {\n  return $$Array.map(function (param) {\n    return param[0];\n  }, teamCoaches.filter(function (param) {\n    return param[2] === true;\n  }));\n}\n\nfunction handleResponseCB(updateFormCB, state, student, oldTeam, _json) {\n  var text = $$String.trim(state.affiliation);\n  var affiliation = text === \"\" ? undefined : text;\n  var newStudent = StudentsEditor__Student.update(state.name, state.tagsToApply, state.excludedFromLeaderboard, state.title, affiliation, student);\n  var newTeam = StudentsEditor__Team.update(state.teamName, newStudent, state.teamCoaches, state.accessEndsAt, oldTeam);\n  var team = StudentsEditor__Team.active(newTeam) ? newTeam : undefined;\n\n  Curry._2(updateFormCB, state.tagsToApply, team);\n\n  return $$Notification.success(\"Success\", successMessage(state.accessEndsAt, StudentsEditor__Team.isSingleStudent(newTeam)));\n}\n\nfunction updateStudent(student, state, send, responseCB) {\n  Curry._1(send,\n  /* UpdateSaving */\n  Block.__(9, [true]));\n\n  var payload = {};\n  payload[\"authenticity_token\"] = AuthenticityToken.fromHead(\n  /* () */\n  0);\n  var updatedStudent = StudentsEditor__Student.updateInfo(state.name, state.excludedFromLeaderboard, state.title, state.affiliation, student);\n  payload[\"founder\"] = StudentsEditor__Student.encode(state.teamName, updatedStudent);\n  payload[\"tags\"] = Json_encode.array(function (prim) {\n    return prim;\n  }, state.tagsToApply);\n  payload[\"coach_ids\"] = Json_encode.array(function (prim) {\n    return prim;\n  }, state.teamCoaches);\n  payload[\"access_ends_at\"] = Belt_Option.mapWithDefault(state.accessEndsAt, \"\", DateFns.encodeISO);\n  var url = \"/school/students/\" + StudentsEditor__Student.id(student);\n  return Api.update(url, payload, responseCB, function (param) {\n    return Curry._1(send,\n    /* UpdateSaving */\n    Block.__(9, [false]));\n  });\n}\n\nfunction boolBtnClasses(selected) {\n  return \"toggle-button__button\" + (selected ? \" toggle-button__button--active\" : \"\");\n}\n\nfunction handleTeamCoachList(schoolCoaches, team) {\n  var selectedTeamCoachIds = StudentsEditor__Team.coachIds(team);\n  return $$Array.map(function (coach) {\n    var coachId = StudentsEditor__Coach.id(coach);\n    var selected = selectedTeamCoachIds.findIndex(function (selectedCoachId) {\n      return coachId === selectedCoachId;\n    }) > -1;\n    return (\n      /* tuple */\n      [StudentsEditor__Coach.id(coach), StudentsEditor__Coach.name(coach), selected]\n    );\n  }, schoolCoaches);\n}\n\nvar value = StudentsEditor__Coach.name;\n\nfunction make(coach) {\n  return coach;\n}\n\nvar SelectablePrerequisiteTargets = {\n  value: value,\n  searchString: value,\n  make: make\n};\n\nfunction setTeamCoachSearch(send, value) {\n  return Curry._1(send,\n  /* UpdateCoachSearchInput */\n  Block.__(5, [value]));\n}\n\nfunction selectTeamCoach(send, state, coach) {\n  var updatedTeamCoaches = state.teamCoaches.concat([StudentsEditor__Coach.id(coach)]);\n  return Curry._1(send,\n  /* UpdateCoachesList */\n  Block.__(4, [updatedTeamCoaches]));\n}\n\nfunction deSelectTeamCoach(send, state, coach) {\n  var updatedTeamCoaches = state.teamCoaches.filter(function (coachId) {\n    return coachId !== StudentsEditor__Coach.id(coach);\n  });\n  return Curry._1(send,\n  /* UpdateCoachesList */\n  Block.__(4, [updatedTeamCoaches]));\n}\n\nvar MultiselectForTeamCoaches = MultiselectInline.Make(SelectablePrerequisiteTargets);\n\nfunction teamCoachesEditor(courseCoaches, state, send) {\n  var selected = $$Array.map(function (coach) {\n    return coach;\n  }, courseCoaches.filter(function (coach) {\n    return $$Array.mem(StudentsEditor__Coach.id(coach), state.teamCoaches);\n  }));\n  var unselected = $$Array.map(function (coach) {\n    return coach;\n  }, courseCoaches.filter(function (coach) {\n    return !$$Array.mem(StudentsEditor__Coach.id(coach), state.teamCoaches);\n  }));\n  return React.createElement(\"div\", {\n    className: \"mt-2\"\n  }, React.createElement(MultiselectForTeamCoaches.make, {\n    placeholder: \"Search coaches\",\n    onChange: function onChange(param) {\n      return Curry._1(send,\n      /* UpdateCoachSearchInput */\n      Block.__(5, [param]));\n    },\n    value: state.teamCoachSearchInput,\n    unselected: unselected,\n    selected: selected,\n    onSelect: function onSelect(param) {\n      return selectTeamCoach(send, state, param);\n    },\n    onDeselect: function onDeselect(param) {\n      return deSelectTeamCoach(send, state, param);\n    },\n    emptySelectionMessage: \"No coaches selected\",\n    allItemsSelectedMessage: \"You have selected all available coaches!\"\n  }));\n}\n\nfunction initialState(student, team) {\n  return {\n    name: StudentsEditor__Student.name(student),\n    teamName: StudentsEditor__Team.name(team),\n    tagsToApply: StudentsEditor__Student.tags(student),\n    teamCoaches: StudentsEditor__Team.coachIds(team),\n    teamCoachSearchInput: \"\",\n    excludedFromLeaderboard: StudentsEditor__Student.excludedFromLeaderboard(student),\n    title: StudentsEditor__Student.title(student),\n    affiliation: OptionUtils.toString(StudentsEditor__Student.affiliation(student)),\n    saving: false,\n    accessEndsAt: StudentsEditor__Team.accessEndsAt(team)\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.tag | 0) {\n    case\n    /* UpdateName */\n    0:\n      return {\n        name: action[0],\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateTeamName */\n    1:\n      return {\n        name: state.name,\n        teamName: action[0],\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* AddTag */\n    2:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: $$Array.append([action[0]], state.tagsToApply),\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* RemoveTag */\n    3:\n      var tag = action[0];\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply.filter(function (t) {\n          return t !== tag;\n        }),\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateCoachesList */\n    4:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: action[0],\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateCoachSearchInput */\n    5:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: action[0],\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateExcludedFromLeaderboard */\n    6:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: action[0],\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateTitle */\n    7:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: action[0],\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateAffiliation */\n    8:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: action[0],\n        saving: state.saving,\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateSaving */\n    9:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: action[0],\n        accessEndsAt: state.accessEndsAt\n      };\n\n    case\n    /* UpdateAccessEndsAt */\n    10:\n      return {\n        name: state.name,\n        teamName: state.teamName,\n        tagsToApply: state.tagsToApply,\n        teamCoaches: state.teamCoaches,\n        teamCoachSearchInput: state.teamCoachSearchInput,\n        excludedFromLeaderboard: state.excludedFromLeaderboard,\n        title: state.title,\n        affiliation: state.affiliation,\n        saving: state.saving,\n        accessEndsAt: action[0]\n      };\n  }\n}\n\nfunction StudentsEditor__UpdateDetailsForm(Props) {\n  var student = Props.student;\n  var team = Props.team;\n  var studentTags = Props.studentTags;\n  var courseCoaches = Props.courseCoaches;\n  var updateFormCB = Props.updateFormCB;\n  var match = React.useReducer(reducer, initialState(student, team));\n  var send = match[1];\n  var state = match[0];\n  var isSingleStudent = StudentsEditor__Team.isSingleStudent(team);\n  var tmp = {\n    onChange: function onChange(date) {\n      return Curry._1(send,\n      /* UpdateAccessEndsAt */\n      Block.__(10, [date]));\n    },\n    id: \"access-ends-at-input\"\n  };\n\n  if (state.accessEndsAt !== undefined) {\n    tmp.selected = Caml_option.valFromOption(state.accessEndsAt);\n  }\n\n  return React.createElement(DisablingCover.make, {\n    disabled: state.saving,\n    children: null\n  }, React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"pt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n    htmlFor: \"name\"\n  }, \"Name\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"name\",\n    placeholder: \"User name here\",\n    type: \"text\",\n    value: state.name,\n    onChange: function onChange($$event) {\n      var name = $$event.target.value;\n      return Curry._1(send,\n      /* UpdateName */\n      Block.__(0, [name]));\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"Name must have at least two characters\",\n    active: state.name.length < 2\n  })), isSingleStudent ? null : React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n    htmlFor: \"team_name\"\n  }, \"Team Name\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"team_name\",\n    maxLength: 50,\n    placeholder: \"Team name here\",\n    type: \"text\",\n    value: state.teamName,\n    onChange: function onChange($$event) {\n      var teamName = $$event.target.value;\n      return Curry._1(send,\n      /* UpdateTeamName */\n      Block.__(1, [teamName]));\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"Team Name must have at least two characters\",\n    active: state.teamName.length < 2\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n    htmlFor: \"title\"\n  }, \"Title\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"title\",\n    placeholder: \"Student, Coach, CEO, etc.\",\n    type: \"text\",\n    value: state.title,\n    onChange: function onChange($$event) {\n      var title = $$event.target.value;\n      return Curry._1(send,\n      /* UpdateTitle */\n      Block.__(7, [title]));\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"Title must have at least two characters\",\n    active: state.title.length < 2\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n    htmlFor: \"affiliation\"\n  }, \"Affiliation\"), React.createElement(\"span\", {\n    className: \"text-xs ml-1\"\n  }, \"(optional)\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"affiliation\",\n    placeholder: \"Acme Inc., Acme University, etc.\",\n    type: \"text\",\n    value: state.affiliation,\n    onChange: function onChange($$event) {\n      return Curry._1(send,\n      /* UpdateAffiliation */\n      Block.__(8, [$$event.target.value]));\n    }\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"div\", {\n    className: \"border-b pb-4 mb-2 mt-5 \"\n  }, React.createElement(\"span\", {\n    className: \"inline-block mr-1 text-xs font-semibold\"\n  }, isSingleStudent ? \"Personal Coaches\" : \"Team Coaches\"), teamCoachesEditor(courseCoaches, state, send))), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"div\", {\n    className: \"mb-2 text-xs font-semibold\"\n  }, \"Tags applied:\"), React.createElement(StudentsEditor__SearchableTagList.make, {\n    unselectedTags: studentTags.filter(function (tag) {\n      return !$$Array.mem(tag, state.tagsToApply);\n    }),\n    selectedTags: state.tagsToApply,\n    addTagCB: function addTagCB(tag) {\n      return Curry._1(send,\n      /* AddTag */\n      Block.__(2, [tag]));\n    },\n    removeTagCB: function removeTagCB(tag) {\n      return Curry._1(send,\n      /* RemoveTag */\n      Block.__(3, [tag]));\n    },\n    allowNewTags: true\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"div\", {\n    className: \"flex items-center flex-shrink-0\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide text-xs font-semibold mr-3\"\n  }, \"Should this student be excluded from leaderboards?\"), React.createElement(\"div\", {\n    className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\"\n  }, React.createElement(\"button\", {\n    className: boolBtnClasses(state.excludedFromLeaderboard),\n    title: \"Exclude this student from the leaderboard\",\n    onClick: function onClick($$event) {\n      $$event.preventDefault();\n      return Curry._1(send,\n      /* UpdateExcludedFromLeaderboard */\n      Block.__(6, [true]));\n    }\n  }, \"Yes\"), React.createElement(\"button\", {\n    className: boolBtnClasses(!state.excludedFromLeaderboard),\n    title: \"Include this student in the leaderboard\",\n    onClick: function onClick(_event) {\n      _event.preventDefault();\n\n      return Curry._1(send,\n      /* UpdateExcludedFromLeaderboard */\n      Block.__(6, [false]));\n    }\n  }, \"No\")))), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"tracking-wide text-xs font-semibold\",\n    htmlFor: \"access-ends-at-input\"\n  }, (isSingleStudent ? \"Student's\" : \"Team's\") + \" Access Ends On\"), React.createElement(\"span\", {\n    className: \"ml-1 text-xs\"\n  }, \"(optional)\"), React.createElement(HelpIcon.make, {\n    className: \"ml-2\",\n    link: \"https://docs.pupilfirst.com/#/students?id=editing-student-details\",\n    children: \"If set, students will not be able to complete targets after this date.\"\n  }), React.createElement(DatePicker.make, tmp))), React.createElement(\"div\", {\n    className: \"my-5 w-auto\"\n  }, React.createElement(\"button\", {\n    className: \"w-full btn btn-large btn-primary\",\n    disabled: formInvalid(state),\n    onClick: function onClick(_e) {\n      return updateStudent(student, state, send, function (param) {\n        return handleResponseCB(updateFormCB, state, student, team, param);\n      });\n    }\n  }, \"Update Student\")));\n}\n\nvar make$1 = StudentsEditor__UpdateDetailsForm;\nexports.str = str;\nexports.stringInputInvalid = stringInputInvalid;\nexports.updateName = updateName;\nexports.updateTeamName = updateTeamName;\nexports.updateTitle = updateTitle;\nexports.formInvalid = formInvalid;\nexports.handleErrorCB = handleErrorCB;\nexports.successMessage = successMessage;\nexports.enrolledCoachIds = enrolledCoachIds;\nexports.handleResponseCB = handleResponseCB;\nexports.updateStudent = updateStudent;\nexports.boolBtnClasses = boolBtnClasses;\nexports.handleTeamCoachList = handleTeamCoachList;\nexports.SelectablePrerequisiteTargets = SelectablePrerequisiteTargets;\nexports.setTeamCoachSearch = setTeamCoachSearch;\nexports.selectTeamCoach = selectTeamCoach;\nexports.deSelectTeamCoach = deSelectTeamCoach;\nexports.MultiselectForTeamCoaches = MultiselectForTeamCoaches;\nexports.teamCoachesEditor = teamCoachesEditor;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.make = make$1;\n/* MultiselectForTeamCoaches Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/students_editor/StudentsEditor__UpdateDetailsForm.bs.js"],"names":["Api","require","$$Array","Block","Curry","React","$$String","DateFns","HelpIcon","DatePicker","Belt_Option","Caml_option","Json_encode","OptionUtils","$$Notification","DisablingCover","AuthenticityToken","MultiselectInline","StudentsEditor__Team","StudentsEditor__Coach","School__InputGroupError","StudentsEditor__Student","StudentsEditor__SearchableTagList","str","prim","stringInputInvalid","s","length","updateName","send","name","_1","__","updateTeamName","teamName","updateTitle","title","formInvalid","state","handleErrorCB","param","successMessage","accessEndsAt","isSingleFounder","undefined","match","isPast","valFromOption","enrolledCoachIds","teamCoaches","map","filter","handleResponseCB","updateFormCB","student","oldTeam","_json","text","trim","affiliation","newStudent","update","tagsToApply","excludedFromLeaderboard","newTeam","team","active","_2","success","isSingleStudent","updateStudent","responseCB","payload","fromHead","updatedStudent","updateInfo","encode","array","mapWithDefault","encodeISO","url","id","boolBtnClasses","selected","handleTeamCoachList","schoolCoaches","selectedTeamCoachIds","coachIds","coach","coachId","findIndex","selectedCoachId","value","make","SelectablePrerequisiteTargets","searchString","setTeamCoachSearch","selectTeamCoach","updatedTeamCoaches","concat","deSelectTeamCoach","MultiselectForTeamCoaches","Make","teamCoachesEditor","courseCoaches","mem","unselected","createElement","className","placeholder","onChange","teamCoachSearchInput","onSelect","onDeselect","emptySelectionMessage","allItemsSelectedMessage","initialState","tags","toString","saving","reducer","action","tag","append","t","StudentsEditor__UpdateDetailsForm","Props","studentTags","useReducer","tmp","date","disabled","children","htmlFor","type","$$event","target","message","maxLength","unselectedTags","selectedTags","addTagCB","removeTagCB","allowNewTags","onClick","preventDefault","_event","link","_e","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar $$String = require(\"bs-platform/lib/js/string.js\");\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\nvar DatePicker = require(\"../../../../shared/components/DatePicker.bs.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\nvar DisablingCover = require(\"../../../../shared/components/DisablingCover.bs.js\");\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\nvar MultiselectInline = require(\"../../../../packages/multiselect-inline/src/components/MultiselectInline.bs.js\");\nvar StudentsEditor__Team = require(\"../../types/students_editor/StudentsEditor__Team.bs.js\");\nvar StudentsEditor__Coach = require(\"../../types/students_editor/StudentsEditor__Coach.bs.js\");\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\nvar StudentsEditor__SearchableTagList = require(\"./StudentsEditor__SearchableTagList.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction stringInputInvalid(s) {\n  return s.length < 2;\n}\n\nfunction updateName(send, name) {\n  return Curry._1(send, /* UpdateName */Block.__(0, [name]));\n}\n\nfunction updateTeamName(send, teamName) {\n  return Curry._1(send, /* UpdateTeamName */Block.__(1, [teamName]));\n}\n\nfunction updateTitle(send, title) {\n  return Curry._1(send, /* UpdateTitle */Block.__(7, [title]));\n}\n\nfunction formInvalid(state) {\n  if (state.name.length < 2 || state.teamName.length < 2) {\n    return true;\n  } else {\n    return state.title.length < 2;\n  }\n}\n\nfunction handleErrorCB(send, param) {\n  return Curry._1(send, /* UpdateSaving */Block.__(9, [false]));\n}\n\nfunction successMessage(accessEndsAt, isSingleFounder) {\n  if (accessEndsAt !== undefined) {\n    var match = DateFns.isPast(Caml_option.valFromOption(accessEndsAt));\n    if (match) {\n      if (isSingleFounder) {\n        return \"Student has been updated, and moved to list of inactive students\";\n      } else {\n        return \"Team has been updated, and moved to list of inactive students\";\n      }\n    } else {\n      return \"Student updated successfully\";\n    }\n  } else {\n    return \"Student updated successfully\";\n  }\n}\n\nfunction enrolledCoachIds(teamCoaches) {\n  return $$Array.map((function (param) {\n                return param[0];\n              }), teamCoaches.filter((function (param) {\n                    return param[2] === true;\n                  })));\n}\n\nfunction handleResponseCB(updateFormCB, state, student, oldTeam, _json) {\n  var text = $$String.trim(state.affiliation);\n  var affiliation = text === \"\" ? undefined : text;\n  var newStudent = StudentsEditor__Student.update(state.name, state.tagsToApply, state.excludedFromLeaderboard, state.title, affiliation, student);\n  var newTeam = StudentsEditor__Team.update(state.teamName, newStudent, state.teamCoaches, state.accessEndsAt, oldTeam);\n  var team = StudentsEditor__Team.active(newTeam) ? newTeam : undefined;\n  Curry._2(updateFormCB, state.tagsToApply, team);\n  return $$Notification.success(\"Success\", successMessage(state.accessEndsAt, StudentsEditor__Team.isSingleStudent(newTeam)));\n}\n\nfunction updateStudent(student, state, send, responseCB) {\n  Curry._1(send, /* UpdateSaving */Block.__(9, [true]));\n  var payload = { };\n  payload[\"authenticity_token\"] = AuthenticityToken.fromHead(/* () */0);\n  var updatedStudent = StudentsEditor__Student.updateInfo(state.name, state.excludedFromLeaderboard, state.title, state.affiliation, student);\n  payload[\"founder\"] = StudentsEditor__Student.encode(state.teamName, updatedStudent);\n  payload[\"tags\"] = Json_encode.array((function (prim) {\n          return prim;\n        }), state.tagsToApply);\n  payload[\"coach_ids\"] = Json_encode.array((function (prim) {\n          return prim;\n        }), state.teamCoaches);\n  payload[\"access_ends_at\"] = Belt_Option.mapWithDefault(state.accessEndsAt, \"\", DateFns.encodeISO);\n  var url = \"/school/students/\" + StudentsEditor__Student.id(student);\n  return Api.update(url, payload, responseCB, (function (param) {\n                return Curry._1(send, /* UpdateSaving */Block.__(9, [false]));\n              }));\n}\n\nfunction boolBtnClasses(selected) {\n  return \"toggle-button__button\" + (\n          selected ? \" toggle-button__button--active\" : \"\"\n        );\n}\n\nfunction handleTeamCoachList(schoolCoaches, team) {\n  var selectedTeamCoachIds = StudentsEditor__Team.coachIds(team);\n  return $$Array.map((function (coach) {\n                var coachId = StudentsEditor__Coach.id(coach);\n                var selected = selectedTeamCoachIds.findIndex((function (selectedCoachId) {\n                        return coachId === selectedCoachId;\n                      })) > -1;\n                return /* tuple */[\n                        StudentsEditor__Coach.id(coach),\n                        StudentsEditor__Coach.name(coach),\n                        selected\n                      ];\n              }), schoolCoaches);\n}\n\nvar value = StudentsEditor__Coach.name;\n\nfunction make(coach) {\n  return coach;\n}\n\nvar SelectablePrerequisiteTargets = {\n  value: value,\n  searchString: value,\n  make: make\n};\n\nfunction setTeamCoachSearch(send, value) {\n  return Curry._1(send, /* UpdateCoachSearchInput */Block.__(5, [value]));\n}\n\nfunction selectTeamCoach(send, state, coach) {\n  var updatedTeamCoaches = state.teamCoaches.concat([StudentsEditor__Coach.id(coach)]);\n  return Curry._1(send, /* UpdateCoachesList */Block.__(4, [updatedTeamCoaches]));\n}\n\nfunction deSelectTeamCoach(send, state, coach) {\n  var updatedTeamCoaches = state.teamCoaches.filter((function (coachId) {\n          return coachId !== StudentsEditor__Coach.id(coach);\n        }));\n  return Curry._1(send, /* UpdateCoachesList */Block.__(4, [updatedTeamCoaches]));\n}\n\nvar MultiselectForTeamCoaches = MultiselectInline.Make(SelectablePrerequisiteTargets);\n\nfunction teamCoachesEditor(courseCoaches, state, send) {\n  var selected = $$Array.map((function (coach) {\n          return coach;\n        }), courseCoaches.filter((function (coach) {\n              return $$Array.mem(StudentsEditor__Coach.id(coach), state.teamCoaches);\n            })));\n  var unselected = $$Array.map((function (coach) {\n          return coach;\n        }), courseCoaches.filter((function (coach) {\n              return !$$Array.mem(StudentsEditor__Coach.id(coach), state.teamCoaches);\n            })));\n  return React.createElement(\"div\", {\n              className: \"mt-2\"\n            }, React.createElement(MultiselectForTeamCoaches.make, {\n                  placeholder: \"Search coaches\",\n                  onChange: (function (param) {\n                      return Curry._1(send, /* UpdateCoachSearchInput */Block.__(5, [param]));\n                    }),\n                  value: state.teamCoachSearchInput,\n                  unselected: unselected,\n                  selected: selected,\n                  onSelect: (function (param) {\n                      return selectTeamCoach(send, state, param);\n                    }),\n                  onDeselect: (function (param) {\n                      return deSelectTeamCoach(send, state, param);\n                    }),\n                  emptySelectionMessage: \"No coaches selected\",\n                  allItemsSelectedMessage: \"You have selected all available coaches!\"\n                }));\n}\n\nfunction initialState(student, team) {\n  return {\n          name: StudentsEditor__Student.name(student),\n          teamName: StudentsEditor__Team.name(team),\n          tagsToApply: StudentsEditor__Student.tags(student),\n          teamCoaches: StudentsEditor__Team.coachIds(team),\n          teamCoachSearchInput: \"\",\n          excludedFromLeaderboard: StudentsEditor__Student.excludedFromLeaderboard(student),\n          title: StudentsEditor__Student.title(student),\n          affiliation: OptionUtils.toString(StudentsEditor__Student.affiliation(student)),\n          saving: false,\n          accessEndsAt: StudentsEditor__Team.accessEndsAt(team)\n        };\n}\n\nfunction reducer(state, action) {\n  switch (action.tag | 0) {\n    case /* UpdateName */0 :\n        return {\n                name: action[0],\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateTeamName */1 :\n        return {\n                name: state.name,\n                teamName: action[0],\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* AddTag */2 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: $$Array.append([action[0]], state.tagsToApply),\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* RemoveTag */3 :\n        var tag = action[0];\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply.filter((function (t) {\n                        return t !== tag;\n                      })),\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateCoachesList */4 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: action[0],\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateCoachSearchInput */5 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: action[0],\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateExcludedFromLeaderboard */6 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: action[0],\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateTitle */7 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: action[0],\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateAffiliation */8 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: action[0],\n                saving: state.saving,\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateSaving */9 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: action[0],\n                accessEndsAt: state.accessEndsAt\n              };\n    case /* UpdateAccessEndsAt */10 :\n        return {\n                name: state.name,\n                teamName: state.teamName,\n                tagsToApply: state.tagsToApply,\n                teamCoaches: state.teamCoaches,\n                teamCoachSearchInput: state.teamCoachSearchInput,\n                excludedFromLeaderboard: state.excludedFromLeaderboard,\n                title: state.title,\n                affiliation: state.affiliation,\n                saving: state.saving,\n                accessEndsAt: action[0]\n              };\n\n  }\n}\n\nfunction StudentsEditor__UpdateDetailsForm(Props) {\n  var student = Props.student;\n  var team = Props.team;\n  var studentTags = Props.studentTags;\n  var courseCoaches = Props.courseCoaches;\n  var updateFormCB = Props.updateFormCB;\n  var match = React.useReducer(reducer, initialState(student, team));\n  var send = match[1];\n  var state = match[0];\n  var isSingleStudent = StudentsEditor__Team.isSingleStudent(team);\n  var tmp = {\n    onChange: (function (date) {\n        return Curry._1(send, /* UpdateAccessEndsAt */Block.__(10, [date]));\n      }),\n    id: \"access-ends-at-input\"\n  };\n  if (state.accessEndsAt !== undefined) {\n    tmp.selected = Caml_option.valFromOption(state.accessEndsAt);\n  }\n  return React.createElement(DisablingCover.make, {\n              disabled: state.saving,\n              children: null\n            }, React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                      className: \"pt-5\"\n                    }, React.createElement(\"label\", {\n                          className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n                          htmlFor: \"name\"\n                        }, \"Name\"), React.createElement(\"input\", {\n                          className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n                          id: \"name\",\n                          placeholder: \"User name here\",\n                          type: \"text\",\n                          value: state.name,\n                          onChange: (function ($$event) {\n                              var name = $$event.target.value;\n                              return Curry._1(send, /* UpdateName */Block.__(0, [name]));\n                            })\n                        }), React.createElement(School__InputGroupError.make, {\n                          message: \"Name must have at least two characters\",\n                          active: state.name.length < 2\n                        })), isSingleStudent ? null : React.createElement(\"div\", {\n                        className: \"mt-5\"\n                      }, React.createElement(\"label\", {\n                            className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n                            htmlFor: \"team_name\"\n                          }, \"Team Name\"), React.createElement(\"input\", {\n                            className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n                            id: \"team_name\",\n                            maxLength: 50,\n                            placeholder: \"Team name here\",\n                            type: \"text\",\n                            value: state.teamName,\n                            onChange: (function ($$event) {\n                                var teamName = $$event.target.value;\n                                return Curry._1(send, /* UpdateTeamName */Block.__(1, [teamName]));\n                              })\n                          }), React.createElement(School__InputGroupError.make, {\n                            message: \"Team Name must have at least two characters\",\n                            active: state.teamName.length < 2\n                          })), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"label\", {\n                          className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n                          htmlFor: \"title\"\n                        }, \"Title\"), React.createElement(\"input\", {\n                          className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n                          id: \"title\",\n                          placeholder: \"Student, Coach, CEO, etc.\",\n                          type: \"text\",\n                          value: state.title,\n                          onChange: (function ($$event) {\n                              var title = $$event.target.value;\n                              return Curry._1(send, /* UpdateTitle */Block.__(7, [title]));\n                            })\n                        }), React.createElement(School__InputGroupError.make, {\n                          message: \"Title must have at least two characters\",\n                          active: state.title.length < 2\n                        })), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"label\", {\n                          className: \"inline-block tracking-wide text-xs font-semibold mb-2 leading-tight\",\n                          htmlFor: \"affiliation\"\n                        }, \"Affiliation\"), React.createElement(\"span\", {\n                          className: \"text-xs ml-1\"\n                        }, \"(optional)\"), React.createElement(\"input\", {\n                          className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 leading-snug focus:outline-none focus:bg-white focus:border-gray-500\",\n                          id: \"affiliation\",\n                          placeholder: \"Acme Inc., Acme University, etc.\",\n                          type: \"text\",\n                          value: state.affiliation,\n                          onChange: (function ($$event) {\n                              return Curry._1(send, /* UpdateAffiliation */Block.__(8, [$$event.target.value]));\n                            })\n                        })), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"div\", {\n                          className: \"border-b pb-4 mb-2 mt-5 \"\n                        }, React.createElement(\"span\", {\n                              className: \"inline-block mr-1 text-xs font-semibold\"\n                            }, isSingleStudent ? \"Personal Coaches\" : \"Team Coaches\"), teamCoachesEditor(courseCoaches, state, send))), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"div\", {\n                          className: \"mb-2 text-xs font-semibold\"\n                        }, \"Tags applied:\"), React.createElement(StudentsEditor__SearchableTagList.make, {\n                          unselectedTags: studentTags.filter((function (tag) {\n                                  return !$$Array.mem(tag, state.tagsToApply);\n                                })),\n                          selectedTags: state.tagsToApply,\n                          addTagCB: (function (tag) {\n                              return Curry._1(send, /* AddTag */Block.__(2, [tag]));\n                            }),\n                          removeTagCB: (function (tag) {\n                              return Curry._1(send, /* RemoveTag */Block.__(3, [tag]));\n                            }),\n                          allowNewTags: true\n                        })), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"div\", {\n                          className: \"flex items-center flex-shrink-0\"\n                        }, React.createElement(\"label\", {\n                              className: \"block tracking-wide text-xs font-semibold mr-3\"\n                            }, \"Should this student be excluded from leaderboards?\"), React.createElement(\"div\", {\n                              className: \"flex flex-shrink-0 rounded-lg overflow-hidden border border-gray-400\"\n                            }, React.createElement(\"button\", {\n                                  className: boolBtnClasses(state.excludedFromLeaderboard),\n                                  title: \"Exclude this student from the leaderboard\",\n                                  onClick: (function ($$event) {\n                                      $$event.preventDefault();\n                                      return Curry._1(send, /* UpdateExcludedFromLeaderboard */Block.__(6, [true]));\n                                    })\n                                }, \"Yes\"), React.createElement(\"button\", {\n                                  className: boolBtnClasses(!state.excludedFromLeaderboard),\n                                  title: \"Include this student in the leaderboard\",\n                                  onClick: (function (_event) {\n                                      _event.preventDefault();\n                                      return Curry._1(send, /* UpdateExcludedFromLeaderboard */Block.__(6, [false]));\n                                    })\n                                }, \"No\")))), React.createElement(\"div\", {\n                      className: \"mt-5\"\n                    }, React.createElement(\"label\", {\n                          className: \"tracking-wide text-xs font-semibold\",\n                          htmlFor: \"access-ends-at-input\"\n                        }, (\n                          isSingleStudent ? \"Student's\" : \"Team's\"\n                        ) + \" Access Ends On\"), React.createElement(\"span\", {\n                          className: \"ml-1 text-xs\"\n                        }, \"(optional)\"), React.createElement(HelpIcon.make, {\n                          className: \"ml-2\",\n                          link: \"https://docs.pupilfirst.com/#/students?id=editing-student-details\",\n                          children: \"If set, students will not be able to complete targets after this date.\"\n                        }), React.createElement(DatePicker.make, tmp))), React.createElement(\"div\", {\n                  className: \"my-5 w-auto\"\n                }, React.createElement(\"button\", {\n                      className: \"w-full btn btn-large btn-primary\",\n                      disabled: formInvalid(state),\n                      onClick: (function (_e) {\n                          return updateStudent(student, state, send, (function (param) {\n                                        return handleResponseCB(updateFormCB, state, student, team, param);\n                                      }));\n                        })\n                    }, \"Update Student\")));\n}\n\nvar make$1 = StudentsEditor__UpdateDetailsForm;\n\nexports.str = str;\nexports.stringInputInvalid = stringInputInvalid;\nexports.updateName = updateName;\nexports.updateTeamName = updateTeamName;\nexports.updateTitle = updateTitle;\nexports.formInvalid = formInvalid;\nexports.handleErrorCB = handleErrorCB;\nexports.successMessage = successMessage;\nexports.enrolledCoachIds = enrolledCoachIds;\nexports.handleResponseCB = handleResponseCB;\nexports.updateStudent = updateStudent;\nexports.boolBtnClasses = boolBtnClasses;\nexports.handleTeamCoachList = handleTeamCoachList;\nexports.SelectablePrerequisiteTargets = SelectablePrerequisiteTargets;\nexports.setTeamCoachSearch = setTeamCoachSearch;\nexports.selectTeamCoach = selectTeamCoach;\nexports.deSelectTeamCoach = deSelectTeamCoach;\nexports.MultiselectForTeamCoaches = MultiselectForTeamCoaches;\nexports.teamCoachesEditor = teamCoachesEditor;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.make = make$1;\n/* MultiselectForTeamCoaches Not a pure module */\n"]},"metadata":{},"sourceType":"module"}