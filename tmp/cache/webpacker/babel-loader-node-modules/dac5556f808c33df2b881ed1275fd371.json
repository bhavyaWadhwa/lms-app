{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar Caml_builtin_exceptions = require(\"bs-platform/lib/js/caml_builtin_exceptions.js\");\n\nfunction decode(json) {\n  return {\n    id: Json_decode.field(\"id\", Json_decode.string, json),\n    name: Json_decode.field(\"name\", Json_decode.string, json),\n    number: Json_decode.field(\"number\", Json_decode.$$int, json),\n    unlockOn: Caml_option.null_to_opt(Json_decode.field(\"unlockOn\", function (param) {\n      return Json_decode.nullable(Json_decode.string, param);\n    }, json))\n  };\n}\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction number(t) {\n  return t.number;\n}\n\nfunction unlockOn(t) {\n  return t.unlockOn;\n}\n\nfunction isUnlocked(t) {\n  var match = t.unlockOn;\n\n  if (match !== undefined) {\n    return DateFns.isPast(DateFns.parseISO(match));\n  } else {\n    return true;\n  }\n}\n\nfunction isLocked(t) {\n  return !isUnlocked(t);\n}\n\nfunction sort(levels) {\n  return List.sort(function (x, y) {\n    return x.number - y.number | 0;\n  }, levels);\n}\n\nfunction first(levels) {\n  var match = sort(levels);\n\n  if (match) {\n    return match[0];\n  } else {\n    Rollbar.error(\"Failed to find the first level from a course's levels.\");\n    throw Caml_builtin_exceptions.not_found;\n  }\n}\n\nfunction unlockDateString(t) {\n  var match = t.unlockOn;\n\n  if (match !== undefined) {\n    return DateFns.format(DateFns.parseISO(match), \"MMM d\");\n  } else {\n    Rollbar.error(\"unlockDateString was called for a CoursesCurriculum__Level without unlockOn\");\n    return \"\";\n  }\n}\n\nfunction findByLevelNumber(levels, levelNumber) {\n  return List.find_opt(function (l) {\n    return l.number === levelNumber;\n  }, levels);\n}\n\nfunction next(levels, t) {\n  return findByLevelNumber(levels, t.number + 1 | 0);\n}\n\nfunction previous(levels, t) {\n  var previousLevelNumber = t.number - 1 | 0;\n\n  if (previousLevelNumber === 0) {\n    return;\n  } else {\n    return findByLevelNumber(levels, previousLevelNumber);\n  }\n}\n\nexports.decode = decode;\nexports.id = id;\nexports.name = name;\nexports.number = number;\nexports.unlockOn = unlockOn;\nexports.isUnlocked = isUnlocked;\nexports.isLocked = isLocked;\nexports.sort = sort;\nexports.first = first;\nexports.unlockDateString = unlockDateString;\nexports.findByLevelNumber = findByLevelNumber;\nexports.next = next;\nexports.previous = previous;\n/* DateFns Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/curricula/types/CoursesCurriculum__Level.bs.js"],"names":["List","require","DateFns","Caml_option","Json_decode","Caml_builtin_exceptions","decode","json","id","field","string","name","number","$$int","unlockOn","null_to_opt","param","nullable","t","isUnlocked","match","undefined","isPast","parseISO","isLocked","sort","levels","x","y","first","Rollbar","error","not_found","unlockDateString","format","findByLevelNumber","levelNumber","find_opt","l","next","previous","previousLevelNumber","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar Caml_builtin_exceptions = require(\"bs-platform/lib/js/caml_builtin_exceptions.js\");\n\nfunction decode(json) {\n  return {\n          id: Json_decode.field(\"id\", Json_decode.string, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          number: Json_decode.field(\"number\", Json_decode.$$int, json),\n          unlockOn: Caml_option.null_to_opt(Json_decode.field(\"unlockOn\", (function (param) {\n                      return Json_decode.nullable(Json_decode.string, param);\n                    }), json))\n        };\n}\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction number(t) {\n  return t.number;\n}\n\nfunction unlockOn(t) {\n  return t.unlockOn;\n}\n\nfunction isUnlocked(t) {\n  var match = t.unlockOn;\n  if (match !== undefined) {\n    return DateFns.isPast(DateFns.parseISO(match));\n  } else {\n    return true;\n  }\n}\n\nfunction isLocked(t) {\n  return !isUnlocked(t);\n}\n\nfunction sort(levels) {\n  return List.sort((function (x, y) {\n                return x.number - y.number | 0;\n              }), levels);\n}\n\nfunction first(levels) {\n  var match = sort(levels);\n  if (match) {\n    return match[0];\n  } else {\n    Rollbar.error(\"Failed to find the first level from a course's levels.\");\n    throw Caml_builtin_exceptions.not_found;\n  }\n}\n\nfunction unlockDateString(t) {\n  var match = t.unlockOn;\n  if (match !== undefined) {\n    return DateFns.format(DateFns.parseISO(match), \"MMM d\");\n  } else {\n    Rollbar.error(\"unlockDateString was called for a CoursesCurriculum__Level without unlockOn\");\n    return \"\";\n  }\n}\n\nfunction findByLevelNumber(levels, levelNumber) {\n  return List.find_opt((function (l) {\n                return l.number === levelNumber;\n              }), levels);\n}\n\nfunction next(levels, t) {\n  return findByLevelNumber(levels, t.number + 1 | 0);\n}\n\nfunction previous(levels, t) {\n  var previousLevelNumber = t.number - 1 | 0;\n  if (previousLevelNumber === 0) {\n    return ;\n  } else {\n    return findByLevelNumber(levels, previousLevelNumber);\n  }\n}\n\nexports.decode = decode;\nexports.id = id;\nexports.name = name;\nexports.number = number;\nexports.unlockOn = unlockOn;\nexports.isUnlocked = isUnlocked;\nexports.isLocked = isLocked;\nexports.sort = sort;\nexports.first = first;\nexports.unlockDateString = unlockDateString;\nexports.findByLevelNumber = findByLevelNumber;\nexports.next = next;\nexports.previous = previous;\n/* DateFns Not a pure module */\n"]},"metadata":{},"sourceType":"module"}