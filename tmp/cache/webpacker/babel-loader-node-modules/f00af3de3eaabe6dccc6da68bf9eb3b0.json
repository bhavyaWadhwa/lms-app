{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar $$String = require(\"bs-platform/lib/js/string.js\");\n\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar DatePicker = require(\"../../../../shared/components/DatePicker.bs.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar MarkdownEditor = require(\"../../../../shared/components/MarkdownEditor.bs.js\");\n\nvar CourseEditor__Course = require(\"../../types/course_editor/CourseEditor__Course.bs.js\");\n\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    if (action ===\n    /* StartSaving */\n    0) {\n      return {\n        name: state.name,\n        description: state.description,\n        endsAt: state.endsAt,\n        hasNameError: state.hasNameError,\n        hasDescriptionError: state.hasDescriptionError,\n        hasDateError: state.hasDateError,\n        about: state.about,\n        publicSignup: state.publicSignup,\n        dirty: state.dirty,\n        saving: true,\n        featured: state.featured,\n        progressionBehavior: state.progressionBehavior,\n        progressionLimit: state.progressionLimit\n      };\n    } else {\n      return {\n        name: state.name,\n        description: state.description,\n        endsAt: state.endsAt,\n        hasNameError: state.hasNameError,\n        hasDescriptionError: state.hasDescriptionError,\n        hasDateError: state.hasDateError,\n        about: state.about,\n        publicSignup: state.publicSignup,\n        dirty: state.dirty,\n        saving: false,\n        featured: state.featured,\n        progressionBehavior: state.progressionBehavior,\n        progressionLimit: state.progressionLimit\n      };\n    }\n  } else {\n    switch (action.tag | 0) {\n      case\n      /* UpdateName */\n      0:\n        return {\n          name: action[0],\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: action[1],\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateDescription */\n      1:\n        return {\n          name: state.name,\n          description: action[0],\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: action[1],\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateEndsAt */\n      2:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: action[0],\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateAbout */\n      3:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: action[0],\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdatePublicSignup */\n      4:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: action[0],\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateFeatured */\n      5:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: action[0],\n          progressionBehavior: state.progressionBehavior,\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateProgressionBehavior */\n      6:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior: action[0],\n          progressionLimit: state.progressionLimit\n        };\n\n      case\n      /* UpdateProgressionLimit */\n      7:\n        return {\n          name: state.name,\n          description: state.description,\n          endsAt: state.endsAt,\n          hasNameError: state.hasNameError,\n          hasDescriptionError: state.hasDescriptionError,\n          hasDateError: state.hasDateError,\n          about: state.about,\n          publicSignup: state.publicSignup,\n          dirty: true,\n          saving: state.saving,\n          featured: state.featured,\n          progressionBehavior:\n          /* Limited */\n          -599448518,\n          progressionLimit: action[0]\n        };\n    }\n  }\n}\n\nvar ppx_printed_query = \"mutation CreateCourseMutation($name: String!, $description: String!, $endsAt: ISO8601DateTime, $about: String!, $publicSignup: Boolean!, $featured: Boolean!, $progressionBehavior: ProgressionBehavior!, $progressionLimit: Int)  {\\ncreateCourse(name: $name, description: $description, endsAt: $endsAt, about: $about, publicSignup: $publicSignup, featured: $featured, progressionBehavior: $progressionBehavior, progressionLimit: $progressionLimit)  {\\ncourse  {\\n...\" + CourseEditor__Course.Fragments.AllFields.name + \"   \\n}\\n\\n}\\n\\n}\\n\" + CourseEditor__Course.Fragments.AllFields.query;\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createCourse\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"course\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Caml_option.some(Curry._1(CourseEditor__Course.Fragments.AllFields.parse, value$3));\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      course: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createCourse on type Mutation is missing\");\n  }\n\n  return {\n    createCourse: tmp\n  };\n}\n\nfunction json_of_ProgressionBehavior(value) {\n  if (value !== -599448518) {\n    if (value >= 751362817) {\n      return \"Unlimited\";\n    } else {\n      return \"Strict\";\n    }\n  } else {\n    return \"Limited\";\n  }\n}\n\nfunction make(name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"name\", name],\n    /* tuple */\n    [\"description\", description],\n    /* tuple */\n    [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n    /* tuple */\n    [\"about\", about],\n    /* tuple */\n    [\"publicSignup\", publicSignup],\n    /* tuple */\n    [\"featured\", featured],\n    /* tuple */\n    [\"progressionBehavior\", json_of_ProgressionBehavior(progressionBehavior)],\n    /* tuple */\n    [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var name = variables.name;\n  var description = variables.description;\n  var endsAt = variables.endsAt;\n  var about = variables.about;\n  var publicSignup = variables.publicSignup;\n  var featured = variables.featured;\n  var progressionBehavior = variables.progressionBehavior;\n  var progressionLimit = variables.progressionLimit;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"name\", name],\n    /* tuple */\n    [\"description\", description],\n    /* tuple */\n    [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n    /* tuple */\n    [\"about\", about],\n    /* tuple */\n    [\"publicSignup\", publicSignup],\n    /* tuple */\n    [\"featured\", featured],\n    /* tuple */\n    [\"progressionBehavior\", json_of_ProgressionBehavior(progressionBehavior)],\n    /* tuple */\n    [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"name\", name],\n  /* tuple */\n  [\"description\", description],\n  /* tuple */\n  [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n  /* tuple */\n  [\"about\", about],\n  /* tuple */\n  [\"publicSignup\", publicSignup],\n  /* tuple */\n  [\"featured\", featured],\n  /* tuple */\n  [\"progressionBehavior\", json_of_ProgressionBehavior(progressionBehavior)],\n  /* tuple */\n  [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"name\", name],\n  /* tuple */\n  [\"description\", description],\n  /* tuple */\n  [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n  /* tuple */\n  [\"about\", about],\n  /* tuple */\n  [\"publicSignup\", publicSignup],\n  /* tuple */\n  [\"featured\", featured],\n  /* tuple */\n  [\"progressionBehavior\", json_of_ProgressionBehavior(progressionBehavior)],\n  /* tuple */\n  [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CreateCourseQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  json_of_ProgressionBehavior: json_of_ProgressionBehavior,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\nvar ppx_printed_query$1 = \"mutation UpdateCourseMutation($id: ID!, $name: String!, $description: String!, $endsAt: ISO8601DateTime, $about: String!, $publicSignup: Boolean!, $featured: Boolean!, $progressionBehavior: ProgressionBehavior!, $progressionLimit: Int)  {\\nupdateCourse(id: $id, name: $name, description: $description, endsAt: $endsAt, about: $about, publicSignup: $publicSignup, featured: $featured, progressionBehavior: $progressionBehavior, progressionLimit: $progressionLimit)  {\\ncourse  {\\n...\" + CourseEditor__Course.Fragments.AllFields.name + \"   \\n}\\n\\n}\\n\\n}\\n\" + CourseEditor__Course.Fragments.AllFields.query;\n\nfunction parse$1(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"updateCourse\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"course\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Caml_option.some(Curry._1(CourseEditor__Course.Fragments.AllFields.parse, value$3));\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      course: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field updateCourse on type Mutation is missing\");\n  }\n\n  return {\n    updateCourse: tmp\n  };\n}\n\nfunction json_of_ProgressionBehavior$1(value) {\n  if (value !== -599448518) {\n    if (value >= 751362817) {\n      return \"Unlimited\";\n    } else {\n      return \"Strict\";\n    }\n  } else {\n    return \"Limited\";\n  }\n}\n\nfunction make$1(id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return {\n    query: ppx_printed_query$1,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id],\n    /* tuple */\n    [\"name\", name],\n    /* tuple */\n    [\"description\", description],\n    /* tuple */\n    [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n    /* tuple */\n    [\"about\", about],\n    /* tuple */\n    [\"publicSignup\", publicSignup],\n    /* tuple */\n    [\"featured\", featured],\n    /* tuple */\n    [\"progressionBehavior\", json_of_ProgressionBehavior$1(progressionBehavior)],\n    /* tuple */\n    [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse$1\n  };\n}\n\nfunction makeWithVariables$1(variables) {\n  var id = variables.id;\n  var name = variables.name;\n  var description = variables.description;\n  var endsAt = variables.endsAt;\n  var about = variables.about;\n  var publicSignup = variables.publicSignup;\n  var featured = variables.featured;\n  var progressionBehavior = variables.progressionBehavior;\n  var progressionLimit = variables.progressionLimit;\n  return {\n    query: ppx_printed_query$1,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id],\n    /* tuple */\n    [\"name\", name],\n    /* tuple */\n    [\"description\", description],\n    /* tuple */\n    [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n    /* tuple */\n    [\"about\", about],\n    /* tuple */\n    [\"publicSignup\", publicSignup],\n    /* tuple */\n    [\"featured\", featured],\n    /* tuple */\n    [\"progressionBehavior\", json_of_ProgressionBehavior$1(progressionBehavior)],\n    /* tuple */\n    [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse$1\n  };\n}\n\nfunction makeVariables$1(id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id],\n  /* tuple */\n  [\"name\", name],\n  /* tuple */\n  [\"description\", description],\n  /* tuple */\n  [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n  /* tuple */\n  [\"about\", about],\n  /* tuple */\n  [\"publicSignup\", publicSignup],\n  /* tuple */\n  [\"featured\", featured],\n  /* tuple */\n  [\"progressionBehavior\", json_of_ProgressionBehavior$1(progressionBehavior)],\n  /* tuple */\n  [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002$1(graphql_ppx_use_json_variables_fn, id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id],\n  /* tuple */\n  [\"name\", name],\n  /* tuple */\n  [\"description\", description],\n  /* tuple */\n  [\"endsAt\", endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null],\n  /* tuple */\n  [\"about\", about],\n  /* tuple */\n  [\"publicSignup\", publicSignup],\n  /* tuple */\n  [\"featured\", featured],\n  /* tuple */\n  [\"progressionBehavior\", json_of_ProgressionBehavior$1(progressionBehavior)],\n  /* tuple */\n  [\"progressionLimit\", progressionLimit !== undefined ? progressionLimit : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition$1 =\n/* tuple */\n[parse$1, ppx_printed_query$1, definition_002$1];\n\nfunction ret_type$1(f) {\n  return {};\n}\n\nvar MT_Ret$1 = {};\nvar UpdateCourseQuery = {\n  ppx_printed_query: ppx_printed_query$1,\n  query: ppx_printed_query$1,\n  parse: parse$1,\n  json_of_ProgressionBehavior: json_of_ProgressionBehavior$1,\n  make: make$1,\n  makeWithVariables: makeWithVariables$1,\n  makeVariables: makeVariables$1,\n  definition: definition$1,\n  ret_type: ret_type$1,\n  MT_Ret: MT_Ret$1\n};\n\nfunction updateName(send, name) {\n  var hasError = $$String.trim(name).length < 2;\n  return Curry._1(send,\n  /* UpdateName */\n  Block.__(0, [name, hasError]));\n}\n\nfunction updateDescription(send, description) {\n  var lengthOfDescription = $$String.trim(description).length;\n  var hasError = lengthOfDescription < 2 || lengthOfDescription >= 150;\n  return Curry._1(send,\n  /* UpdateDescription */\n  Block.__(1, [description, hasError]));\n}\n\nfunction saveDisabled(state) {\n  if (state.hasDateError || state.hasDescriptionError || state.description === \"\" || state.hasNameError || state.name === \"\" || !state.dirty) {\n    return true;\n  } else {\n    return state.saving;\n  }\n}\n\nfunction formClasses(value) {\n  if (value) {\n    return \"drawer-right-form w-full opacity-50\";\n  } else {\n    return \"drawer-right-form w-full\";\n  }\n}\n\nfunction progressionLimitForQuery(state) {\n  var match = state.progressionBehavior;\n\n  if (match !== -599448518) {\n    return;\n  } else {\n    return state.progressionLimit;\n  }\n}\n\nfunction createCourse(state, send, updateCourseCB) {\n  Curry._1(send,\n  /* StartSaving */\n  0);\n\n  var createCourseQuery = make(state.name, state.description, Belt_Option.map(state.endsAt, DateFns.encodeISO), state.about, state.publicSignup, state.featured, state.progressionBehavior, progressionLimitForQuery(state),\n  /* () */\n  0);\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(createCourseQuery).then(function (result) {\n    var match = result.createCourse.course;\n\n    if (match !== undefined) {\n      Curry._1(updateCourseCB, CourseEditor__Course.makeFromJs(Caml_option.valFromOption(match)));\n    } else {\n      Curry._1(send,\n      /* FailSaving */\n      1);\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  })[\"catch\"](function (error) {\n    console.log(error);\n\n    Curry._1(send,\n    /* FailSaving */\n    1);\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction updateCourse(state, send, updateCourseCB, course) {\n  Curry._1(send,\n  /* StartSaving */\n  0);\n\n  var updateCourseQuery = make$1(CourseEditor__Course.id(course), state.name, state.description, Belt_Option.map(state.endsAt, DateFns.encodeISO), state.about, state.publicSignup, state.featured, state.progressionBehavior, progressionLimitForQuery(state),\n  /* () */\n  0);\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(updateCourseQuery).then(function (result) {\n    var match = result.updateCourse.course;\n\n    if (match !== undefined) {\n      Curry._1(updateCourseCB, CourseEditor__Course.makeFromJs(Caml_option.valFromOption(match)));\n    } else {\n      Curry._1(send,\n      /* FailSaving */\n      1);\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  })[\"catch\"](function (error) {\n    console.log(error);\n\n    Curry._1(send,\n    /* FailSaving */\n    1);\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction booleanButtonClasses(bool) {\n  return \"toggle-button__button\" + (bool ? \" toggle-button__button--active\" : \"\");\n}\n\nfunction enablePublicSignupButton(publicSignup, send) {\n  return React.createElement(\"div\", {\n    className: \"flex items-center mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide text-xs font-semibold mr-6\",\n    htmlFor: \"public-signup\"\n  }, \"Enable public signup for this course?\"), React.createElement(\"div\", {\n    className: \"flex toggle-button__group flex-shrink-0 rounded-lg overflow-hidden\",\n    id: \"public-signup\"\n  }, React.createElement(\"button\", {\n    className: booleanButtonClasses(publicSignup),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdatePublicSignup */\n      Block.__(4, [true]));\n    }\n  }, \"Yes\"), React.createElement(\"button\", {\n    className: booleanButtonClasses(!publicSignup),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdatePublicSignup */\n      Block.__(4, [false]));\n    }\n  }, \"No\")));\n}\n\nfunction featuredButton(featured, send) {\n  return React.createElement(\"div\", {\n    className: \"flex items-center mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"block tracking-wide text-xs font-semibold mr-6\",\n    htmlFor: \"featured\"\n  }, \"Feature course in learnmax homepage?\"), React.createElement(\"div\", {\n    className: \"flex toggle-button__group flex-shrink-0 rounded-lg overflow-hidden\",\n    id: \"featured\"\n  }, React.createElement(\"button\", {\n    className: booleanButtonClasses(featured),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdateFeatured */\n      Block.__(5, [true]));\n    }\n  }, \"Yes\"), React.createElement(\"button\", {\n    className: booleanButtonClasses(!featured),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdateFeatured */\n      Block.__(5, [false]));\n    }\n  }, \"No\")));\n}\n\nfunction about(course) {\n  var match = CourseEditor__Course.about(course);\n\n  if (match !== undefined) {\n    return match;\n  } else {\n    return \"\";\n  }\n}\n\nfunction updateAboutCB(send, about) {\n  return Curry._1(send,\n  /* UpdateAbout */\n  Block.__(3, [about]));\n}\n\nfunction computeInitialState(course) {\n  if (course !== undefined) {\n    var course$1 = course;\n    return {\n      name: CourseEditor__Course.name(course$1),\n      description: CourseEditor__Course.description(course$1),\n      endsAt: CourseEditor__Course.endsAt(course$1),\n      hasNameError: false,\n      hasDescriptionError: false,\n      hasDateError: false,\n      about: about(course$1),\n      publicSignup: CourseEditor__Course.publicSignup(course$1),\n      dirty: false,\n      saving: false,\n      featured: CourseEditor__Course.featured(course$1),\n      progressionBehavior: CourseEditor__Course.progressionBehavior(course$1),\n      progressionLimit: Belt_Option.getWithDefault(CourseEditor__Course.progressionLimit(course$1), 1)\n    };\n  } else {\n    return {\n      name: \"\",\n      description: \"\",\n      endsAt: undefined,\n      hasNameError: false,\n      hasDescriptionError: false,\n      hasDateError: false,\n      about: \"\",\n      publicSignup: false,\n      dirty: false,\n      saving: false,\n      featured: true,\n      progressionBehavior:\n      /* Limited */\n      -599448518,\n      progressionLimit: 1\n    };\n  }\n}\n\nfunction handleSelectProgressionLimit(send, $$event) {\n  var target = $$event.target;\n  var otherValue = target.value;\n\n  switch (otherValue) {\n    case \"1\":\n    case \"2\":\n    case \"3\":\n      break;\n\n    default:\n      Rollbar.error(\"Unexpected progression limit was selected: \" + otherValue);\n      return (\n        /* () */\n        0\n      );\n  }\n\n  return Curry._1(send,\n  /* UpdateProgressionLimit */\n  Block.__(7, [Caml_format.caml_int_of_string(target.value)]));\n}\n\nfunction progressionBehaviorButtonClasses(state, progressionBehavior, additionalClasses) {\n  var selected = state.progressionBehavior === progressionBehavior;\n  var defaultClasses = additionalClasses + \" w-1/3 relative border font-semibold focus:outline-none rounded px-5 py-4 md:px-8 md:py-5 items-center cursor-pointer text-center bg-gray-200 hover:bg-gray-300\";\n  return defaultClasses + (selected ? \" text-primary-500 border-primary-500\" : \"\");\n}\n\nfunction CourseEditor__Form(Props) {\n  var course = Props.course;\n  var hideEditorActionCB = Props.hideEditorActionCB;\n  var updateCourseCB = Props.updateCourseCB;\n  var match = React.useReducer(reducer, course, computeInitialState);\n  var send = match[1];\n  var state = match[0];\n  var tmp = {\n    onChange: function onChange(date) {\n      return Curry._1(send,\n      /* UpdateEndsAt */\n      Block.__(2, [date]));\n    },\n    id: \"course-ends-at-input\"\n  };\n\n  if (state.endsAt !== undefined) {\n    tmp.selected = Caml_option.valFromOption(state.endsAt);\n  }\n\n  var tmp$1;\n\n  if (course !== undefined) {\n    var course$1 = course;\n    tmp$1 = React.createElement(\"button\", {\n      className: \"w-full btn btn-large btn-primary mt-3\",\n      disabled: saveDisabled(state),\n      onClick: function onClick(param) {\n        return updateCourse(state, send, updateCourseCB, course$1);\n      }\n    }, \"Update Course\");\n  } else {\n    tmp$1 = React.createElement(\"button\", {\n      className: \"w-full btn btn-large btn-primary mt-3\",\n      disabled: saveDisabled(state),\n      onClick: function onClick(param) {\n        return createCourse(state, send, updateCourseCB);\n      }\n    }, \"Create Course\");\n  }\n\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"blanket\"\n  }), React.createElement(\"div\", {\n    className: \"drawer-right\"\n  }, React.createElement(\"div\", {\n    className: \"drawer-right__close absolute\"\n  }, React.createElement(\"button\", {\n    className: \"flex items-center justify-center bg-white text-gray-600 font-bold py-3 px-5 rounded-l-full rounded-r-none hover:text-gray-700 focus:outline-none mt-4\",\n    title: \"close\",\n    onClick: function onClick(param) {\n      return Curry._1(hideEditorActionCB,\n      /* () */\n      0);\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-times text-xl\"\n  }))), React.createElement(\"div\", {\n    className: state.saving ? \"drawer-right-form w-full opacity-50\" : \"drawer-right-form w-full\"\n  }, React.createElement(\"div\", {\n    className: \"w-full\"\n  }, React.createElement(\"div\", {\n    className: \"mx-auto bg-white\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl p-6 mx-auto\"\n  }, React.createElement(\"h5\", {\n    className: \"uppercase text-center border-b border-gray-400 pb-2\"\n  }, course === undefined ? \"Add New Course\" : \"Edit Course Details\"), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold \",\n    htmlFor: \"name\"\n  }, \"Course name\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"name\",\n    maxLength: 50,\n    placeholder: \"Type course name here\",\n    type: \"text\",\n    value: state.name,\n    onChange: function onChange($$event) {\n      return updateName(send, $$event.target.value);\n    }\n  }), React.createElement(School__InputGroupError.make, {\n    message: \"A name is required (2-50 characters)\",\n    active: state.hasNameError\n  })), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"inline-block tracking-wide text-xs font-semibold\",\n    htmlFor: \"description\"\n  }, \"Course description\"), React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"description\",\n    maxLength: 150,\n    placeholder: \"Short description for this course\",\n    type: \"text\",\n    value: state.description,\n    onChange: function onChange($$event) {\n      return updateDescription(send, $$event.target.value);\n    }\n  })), React.createElement(School__InputGroupError.make, {\n    message: \"A description is required (2-150 characters)\",\n    active: state.hasDescriptionError\n  }), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"tracking-wide text-xs font-semibold\",\n    htmlFor: \"course-ends-at-input\"\n  }, \"Course end date\"), React.createElement(\"span\", {\n    className: \"ml-1 text-xs\"\n  }, \"(optional)\"), React.createElement(HelpIcon.make, {\n    className: \"ml-2\",\n    link: \"https://docs.pupilfirst.com/#/courses\",\n    children: \"If specified, course will appear as closed to users on this date. Users will not be able to make any more submissions.\"\n  }), React.createElement(DatePicker.make, tmp)), React.createElement(School__InputGroupError.make, {\n    message: \"Enter a valid date\",\n    active: state.hasDateError\n  }), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"tracking-wide text-xs font-semibold\",\n    htmlFor: \"course-about\"\n  }, \"About\"), React.createElement(\"div\", {\n    className: \"mt-2\"\n  }, React.createElement(MarkdownEditor.make, {\n    value: state.about,\n    onChange: function onChange(param) {\n      return Curry._1(send,\n      /* UpdateAbout */\n      Block.__(3, [param]));\n    },\n    profile:\n    /* Permissive */\n    2,\n    textareaId: \"course-about\",\n    maxLength: 10000,\n    placeholder: \"Add more details about the course.\"\n  }))), React.createElement(\"div\", {\n    className: \"mt-5\"\n  }, React.createElement(\"label\", {\n    className: \"tracking-wide text-xs font-semibold\"\n  }, \"Progression Behavior\"), React.createElement(HelpIcon.make, {\n    className: \"ml-2\",\n    link: \"https://docs.pupilfirst.com/#/courses?id=progression-behaviour\",\n    children: \"This only applies if your course has milestone modules that requires users to submit their work for review by coaches.\"\n  }), React.createElement(\"div\", {\n    className: \"flex mt-2\"\n  }, React.createElement(\"button\", {\n    className: progressionBehaviorButtonClasses(state,\n    /* Limited */\n    -599448518, \"mr-1\"),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdateProgressionBehavior */\n      Block.__(6, [\n      /* Limited */\n      -599448518]));\n    }\n  }, React.createElement(\"div\", {\n    className: \"font-bold text-xl\"\n  }, \"Limited\"), React.createElement(\"div\", {\n    className: \"text-xs mt-2\"\n  }, React.createElement(\"div\", undefined, \"Users can level up\"), React.createElement(\"select\", {\n    className: \"my-1 cursor-pointer inline-block appearance-none bg-white border-b-2 text-xl font-semibold border-blue-500 hover:border-gray-500 p-1 leading-tight rounded-none focus:outline-none\",\n    id: \"progression-limit\",\n    style: {\n      textAlignLast: \"center\"\n    },\n    value: String(state.progressionLimit),\n    onChange: function onChange(param) {\n      return handleSelectProgressionLimit(send, param);\n    }\n  }, React.createElement(\"option\", {\n    value: \"1\"\n  }, \"once\"), React.createElement(\"option\", {\n    value: \"2\"\n  }, \"twice\"), React.createElement(\"option\", {\n    value: \"3\"\n  }, \"thrice\")), React.createElement(\"div\", undefined, \" without getting submissions reviewed.\"))), React.createElement(\"button\", {\n    className: progressionBehaviorButtonClasses(state,\n    /* Unlimited */\n    751362817, \"mx-1\"),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdateProgressionBehavior */\n      Block.__(6, [\n      /* Unlimited */\n      751362817]));\n    }\n  }, React.createElement(\"div\", {\n    className: \"font-bold text-xl\"\n  }, \"Unlimited\"), React.createElement(\"span\", {\n    className: \"text-xs\"\n  }, \"Users can level up till the end of the course, without getting submissions reviewed.\")), React.createElement(\"button\", {\n    className: progressionBehaviorButtonClasses(state,\n    /* Strict */\n    -976972951, \"ml-1\"),\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* UpdateProgressionBehavior */\n      Block.__(6, [\n      /* Strict */\n      -976972951]));\n    }\n  }, React.createElement(\"div\", {\n    className: \"font-bold text-xl\"\n  }, \"Strict\"), React.createElement(\"span\", {\n    className: \"text-xs\"\n  }, \"Users can level up only after getting submissions reviewed, and passing.\")))), featuredButton(state.featured, send), enablePublicSignupButton(state.publicSignup, send))), React.createElement(\"div\", {\n    className: \"mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl p-6 mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex\"\n  }, tmp$1)))))));\n}\n\nvar make$2 = CourseEditor__Form;\nexports.str = str;\nexports.reducer = reducer;\nexports.CreateCourseQuery = CreateCourseQuery;\nexports.UpdateCourseQuery = UpdateCourseQuery;\nexports.updateName = updateName;\nexports.updateDescription = updateDescription;\nexports.saveDisabled = saveDisabled;\nexports.formClasses = formClasses;\nexports.progressionLimitForQuery = progressionLimitForQuery;\nexports.createCourse = createCourse;\nexports.updateCourse = updateCourse;\nexports.booleanButtonClasses = booleanButtonClasses;\nexports.enablePublicSignupButton = enablePublicSignupButton;\nexports.featuredButton = featuredButton;\nexports.about = about;\nexports.updateAboutCB = updateAboutCB;\nexports.computeInitialState = computeInitialState;\nexports.handleSelectProgressionLimit = handleSelectProgressionLimit;\nexports.progressionBehaviorButtonClasses = progressionBehaviorButtonClasses;\nexports.make = make$2;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/course_editor/CourseEditor__Form.bs.js"],"names":["Block","require","Curry","React","Js_exn","$$String","DateFns","Js_dict","Js_json","HelpIcon","Js_option","DatePicker","Belt_Option","Caml_format","Caml_option","GraphqlQuery","MarkdownEditor","CourseEditor__Course","School__InputGroupError","str","prim","reducer","state","action","name","description","endsAt","hasNameError","hasDescriptionError","hasDateError","about","publicSignup","dirty","saving","featured","progressionBehavior","progressionLimit","tag","ppx_printed_query","Fragments","AllFields","query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","some","_1","course","raiseError","createCourse","json_of_ProgressionBehavior","make","param","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","definition","ret_type","f","MT_Ret","CreateCourseQuery","ppx_printed_query$1","parse$1","updateCourse","json_of_ProgressionBehavior$1","make$1","id","makeWithVariables$1","makeVariables$1","definition_002$1","definition$1","ret_type$1","MT_Ret$1","UpdateCourseQuery","updateName","send","hasError","trim","length","__","updateDescription","lengthOfDescription","saveDisabled","formClasses","progressionLimitForQuery","updateCourseCB","createCourseQuery","map","encodeISO","eta","sendQuery","then","result","makeFromJs","Promise","resolve","error","console","log","updateCourseQuery","booleanButtonClasses","bool","enablePublicSignupButton","createElement","className","htmlFor","onClick","featuredButton","updateAboutCB","computeInitialState","course$1","getWithDefault","handleSelectProgressionLimit","$$event","target","otherValue","Rollbar","caml_int_of_string","progressionBehaviorButtonClasses","additionalClasses","selected","defaultClasses","CourseEditor__Form","Props","hideEditorActionCB","useReducer","onChange","date","disabled","title","maxLength","placeholder","type","message","active","link","children","profile","textareaId","style","textAlignLast","String","make$2","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar $$String = require(\"bs-platform/lib/js/string.js\");\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar DatePicker = require(\"../../../../shared/components/DatePicker.bs.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_format = require(\"bs-platform/lib/js/caml_format.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar MarkdownEditor = require(\"../../../../shared/components/MarkdownEditor.bs.js\");\nvar CourseEditor__Course = require(\"../../types/course_editor/CourseEditor__Course.bs.js\");\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    if (action === /* StartSaving */0) {\n      return {\n              name: state.name,\n              description: state.description,\n              endsAt: state.endsAt,\n              hasNameError: state.hasNameError,\n              hasDescriptionError: state.hasDescriptionError,\n              hasDateError: state.hasDateError,\n              about: state.about,\n              publicSignup: state.publicSignup,\n              dirty: state.dirty,\n              saving: true,\n              featured: state.featured,\n              progressionBehavior: state.progressionBehavior,\n              progressionLimit: state.progressionLimit\n            };\n    } else {\n      return {\n              name: state.name,\n              description: state.description,\n              endsAt: state.endsAt,\n              hasNameError: state.hasNameError,\n              hasDescriptionError: state.hasDescriptionError,\n              hasDateError: state.hasDateError,\n              about: state.about,\n              publicSignup: state.publicSignup,\n              dirty: state.dirty,\n              saving: false,\n              featured: state.featured,\n              progressionBehavior: state.progressionBehavior,\n              progressionLimit: state.progressionLimit\n            };\n    }\n  } else {\n    switch (action.tag | 0) {\n      case /* UpdateName */0 :\n          return {\n                  name: action[0],\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: action[1],\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateDescription */1 :\n          return {\n                  name: state.name,\n                  description: action[0],\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: action[1],\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateEndsAt */2 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: action[0],\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateAbout */3 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: action[0],\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdatePublicSignup */4 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: action[0],\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateFeatured */5 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: action[0],\n                  progressionBehavior: state.progressionBehavior,\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateProgressionBehavior */6 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: action[0],\n                  progressionLimit: state.progressionLimit\n                };\n      case /* UpdateProgressionLimit */7 :\n          return {\n                  name: state.name,\n                  description: state.description,\n                  endsAt: state.endsAt,\n                  hasNameError: state.hasNameError,\n                  hasDescriptionError: state.hasDescriptionError,\n                  hasDateError: state.hasDateError,\n                  about: state.about,\n                  publicSignup: state.publicSignup,\n                  dirty: true,\n                  saving: state.saving,\n                  featured: state.featured,\n                  progressionBehavior: /* Limited */-599448518,\n                  progressionLimit: action[0]\n                };\n      \n    }\n  }\n}\n\nvar ppx_printed_query = \"mutation CreateCourseMutation($name: String!, $description: String!, $endsAt: ISO8601DateTime, $about: String!, $publicSignup: Boolean!, $featured: Boolean!, $progressionBehavior: ProgressionBehavior!, $progressionLimit: Int)  {\\ncreateCourse(name: $name, description: $description, endsAt: $endsAt, about: $about, publicSignup: $publicSignup, featured: $featured, progressionBehavior: $progressionBehavior, progressionLimit: $progressionLimit)  {\\ncourse  {\\n...\" + CourseEditor__Course.Fragments.AllFields.name + \"   \\n}\\n\\n}\\n\\n}\\n\" + CourseEditor__Course.Fragments.AllFields.query;\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createCourse\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"course\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Caml_option.some(Curry._1(CourseEditor__Course.Fragments.AllFields.parse, value$3));\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      course: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createCourse on type Mutation is missing\");\n  }\n  return {\n          createCourse: tmp\n        };\n}\n\nfunction json_of_ProgressionBehavior(value) {\n  if (value !== -599448518) {\n    if (value >= 751362817) {\n      return \"Unlimited\";\n    } else {\n      return \"Strict\";\n    }\n  } else {\n    return \"Limited\";\n  }\n}\n\nfunction make(name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"name\",\n                    name\n                  ],\n                  /* tuple */[\n                    \"description\",\n                    description\n                  ],\n                  /* tuple */[\n                    \"endsAt\",\n                    endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                  ],\n                  /* tuple */[\n                    \"about\",\n                    about\n                  ],\n                  /* tuple */[\n                    \"publicSignup\",\n                    publicSignup\n                  ],\n                  /* tuple */[\n                    \"featured\",\n                    featured\n                  ],\n                  /* tuple */[\n                    \"progressionBehavior\",\n                    json_of_ProgressionBehavior(progressionBehavior)\n                  ],\n                  /* tuple */[\n                    \"progressionLimit\",\n                    progressionLimit !== undefined ? progressionLimit : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var name = variables.name;\n  var description = variables.description;\n  var endsAt = variables.endsAt;\n  var about = variables.about;\n  var publicSignup = variables.publicSignup;\n  var featured = variables.featured;\n  var progressionBehavior = variables.progressionBehavior;\n  var progressionLimit = variables.progressionLimit;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"name\",\n                    name\n                  ],\n                  /* tuple */[\n                    \"description\",\n                    description\n                  ],\n                  /* tuple */[\n                    \"endsAt\",\n                    endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                  ],\n                  /* tuple */[\n                    \"about\",\n                    about\n                  ],\n                  /* tuple */[\n                    \"publicSignup\",\n                    publicSignup\n                  ],\n                  /* tuple */[\n                    \"featured\",\n                    featured\n                  ],\n                  /* tuple */[\n                    \"progressionBehavior\",\n                    json_of_ProgressionBehavior(progressionBehavior)\n                  ],\n                  /* tuple */[\n                    \"progressionLimit\",\n                    progressionLimit !== undefined ? progressionLimit : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"name\",\n                  name\n                ],\n                /* tuple */[\n                  \"description\",\n                  description\n                ],\n                /* tuple */[\n                  \"endsAt\",\n                  endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                ],\n                /* tuple */[\n                  \"about\",\n                  about\n                ],\n                /* tuple */[\n                  \"publicSignup\",\n                  publicSignup\n                ],\n                /* tuple */[\n                  \"featured\",\n                  featured\n                ],\n                /* tuple */[\n                  \"progressionBehavior\",\n                  json_of_ProgressionBehavior(progressionBehavior)\n                ],\n                /* tuple */[\n                  \"progressionLimit\",\n                  progressionLimit !== undefined ? progressionLimit : null\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"name\",\n                      name\n                    ],\n                    /* tuple */[\n                      \"description\",\n                      description\n                    ],\n                    /* tuple */[\n                      \"endsAt\",\n                      endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                    ],\n                    /* tuple */[\n                      \"about\",\n                      about\n                    ],\n                    /* tuple */[\n                      \"publicSignup\",\n                      publicSignup\n                    ],\n                    /* tuple */[\n                      \"featured\",\n                      featured\n                    ],\n                    /* tuple */[\n                      \"progressionBehavior\",\n                      json_of_ProgressionBehavior(progressionBehavior)\n                    ],\n                    /* tuple */[\n                      \"progressionLimit\",\n                      progressionLimit !== undefined ? progressionLimit : null\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CreateCourseQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  json_of_ProgressionBehavior: json_of_ProgressionBehavior,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nvar ppx_printed_query$1 = \"mutation UpdateCourseMutation($id: ID!, $name: String!, $description: String!, $endsAt: ISO8601DateTime, $about: String!, $publicSignup: Boolean!, $featured: Boolean!, $progressionBehavior: ProgressionBehavior!, $progressionLimit: Int)  {\\nupdateCourse(id: $id, name: $name, description: $description, endsAt: $endsAt, about: $about, publicSignup: $publicSignup, featured: $featured, progressionBehavior: $progressionBehavior, progressionLimit: $progressionLimit)  {\\ncourse  {\\n...\" + CourseEditor__Course.Fragments.AllFields.name + \"   \\n}\\n\\n}\\n\\n}\\n\" + CourseEditor__Course.Fragments.AllFields.query;\n\nfunction parse$1(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"updateCourse\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"course\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Caml_option.some(Curry._1(CourseEditor__Course.Fragments.AllFields.parse, value$3));\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      course: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field updateCourse on type Mutation is missing\");\n  }\n  return {\n          updateCourse: tmp\n        };\n}\n\nfunction json_of_ProgressionBehavior$1(value) {\n  if (value !== -599448518) {\n    if (value >= 751362817) {\n      return \"Unlimited\";\n    } else {\n      return \"Strict\";\n    }\n  } else {\n    return \"Limited\";\n  }\n}\n\nfunction make$1(id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return {\n          query: ppx_printed_query$1,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"id\",\n                    id\n                  ],\n                  /* tuple */[\n                    \"name\",\n                    name\n                  ],\n                  /* tuple */[\n                    \"description\",\n                    description\n                  ],\n                  /* tuple */[\n                    \"endsAt\",\n                    endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                  ],\n                  /* tuple */[\n                    \"about\",\n                    about\n                  ],\n                  /* tuple */[\n                    \"publicSignup\",\n                    publicSignup\n                  ],\n                  /* tuple */[\n                    \"featured\",\n                    featured\n                  ],\n                  /* tuple */[\n                    \"progressionBehavior\",\n                    json_of_ProgressionBehavior$1(progressionBehavior)\n                  ],\n                  /* tuple */[\n                    \"progressionLimit\",\n                    progressionLimit !== undefined ? progressionLimit : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse$1\n        };\n}\n\nfunction makeWithVariables$1(variables) {\n  var id = variables.id;\n  var name = variables.name;\n  var description = variables.description;\n  var endsAt = variables.endsAt;\n  var about = variables.about;\n  var publicSignup = variables.publicSignup;\n  var featured = variables.featured;\n  var progressionBehavior = variables.progressionBehavior;\n  var progressionLimit = variables.progressionLimit;\n  return {\n          query: ppx_printed_query$1,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"id\",\n                    id\n                  ],\n                  /* tuple */[\n                    \"name\",\n                    name\n                  ],\n                  /* tuple */[\n                    \"description\",\n                    description\n                  ],\n                  /* tuple */[\n                    \"endsAt\",\n                    endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                  ],\n                  /* tuple */[\n                    \"about\",\n                    about\n                  ],\n                  /* tuple */[\n                    \"publicSignup\",\n                    publicSignup\n                  ],\n                  /* tuple */[\n                    \"featured\",\n                    featured\n                  ],\n                  /* tuple */[\n                    \"progressionBehavior\",\n                    json_of_ProgressionBehavior$1(progressionBehavior)\n                  ],\n                  /* tuple */[\n                    \"progressionLimit\",\n                    progressionLimit !== undefined ? progressionLimit : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse$1\n        };\n}\n\nfunction makeVariables$1(id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"id\",\n                  id\n                ],\n                /* tuple */[\n                  \"name\",\n                  name\n                ],\n                /* tuple */[\n                  \"description\",\n                  description\n                ],\n                /* tuple */[\n                  \"endsAt\",\n                  endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                ],\n                /* tuple */[\n                  \"about\",\n                  about\n                ],\n                /* tuple */[\n                  \"publicSignup\",\n                  publicSignup\n                ],\n                /* tuple */[\n                  \"featured\",\n                  featured\n                ],\n                /* tuple */[\n                  \"progressionBehavior\",\n                  json_of_ProgressionBehavior$1(progressionBehavior)\n                ],\n                /* tuple */[\n                  \"progressionLimit\",\n                  progressionLimit !== undefined ? progressionLimit : null\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002$1(graphql_ppx_use_json_variables_fn, id, name, description, endsAt, about, publicSignup, featured, progressionBehavior, progressionLimit, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"id\",\n                      id\n                    ],\n                    /* tuple */[\n                      \"name\",\n                      name\n                    ],\n                    /* tuple */[\n                      \"description\",\n                      description\n                    ],\n                    /* tuple */[\n                      \"endsAt\",\n                      endsAt !== undefined ? Caml_option.valFromOption(endsAt) : null\n                    ],\n                    /* tuple */[\n                      \"about\",\n                      about\n                    ],\n                    /* tuple */[\n                      \"publicSignup\",\n                      publicSignup\n                    ],\n                    /* tuple */[\n                      \"featured\",\n                      featured\n                    ],\n                    /* tuple */[\n                      \"progressionBehavior\",\n                      json_of_ProgressionBehavior$1(progressionBehavior)\n                    ],\n                    /* tuple */[\n                      \"progressionLimit\",\n                      progressionLimit !== undefined ? progressionLimit : null\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition$1 = /* tuple */[\n  parse$1,\n  ppx_printed_query$1,\n  definition_002$1\n];\n\nfunction ret_type$1(f) {\n  return { };\n}\n\nvar MT_Ret$1 = { };\n\nvar UpdateCourseQuery = {\n  ppx_printed_query: ppx_printed_query$1,\n  query: ppx_printed_query$1,\n  parse: parse$1,\n  json_of_ProgressionBehavior: json_of_ProgressionBehavior$1,\n  make: make$1,\n  makeWithVariables: makeWithVariables$1,\n  makeVariables: makeVariables$1,\n  definition: definition$1,\n  ret_type: ret_type$1,\n  MT_Ret: MT_Ret$1\n};\n\nfunction updateName(send, name) {\n  var hasError = $$String.trim(name).length < 2;\n  return Curry._1(send, /* UpdateName */Block.__(0, [\n                name,\n                hasError\n              ]));\n}\n\nfunction updateDescription(send, description) {\n  var lengthOfDescription = $$String.trim(description).length;\n  var hasError = lengthOfDescription < 2 || lengthOfDescription >= 150;\n  return Curry._1(send, /* UpdateDescription */Block.__(1, [\n                description,\n                hasError\n              ]));\n}\n\nfunction saveDisabled(state) {\n  if (state.hasDateError || state.hasDescriptionError || state.description === \"\" || state.hasNameError || state.name === \"\" || !state.dirty) {\n    return true;\n  } else {\n    return state.saving;\n  }\n}\n\nfunction formClasses(value) {\n  if (value) {\n    return \"drawer-right-form w-full opacity-50\";\n  } else {\n    return \"drawer-right-form w-full\";\n  }\n}\n\nfunction progressionLimitForQuery(state) {\n  var match = state.progressionBehavior;\n  if (match !== -599448518) {\n    return ;\n  } else {\n    return state.progressionLimit;\n  }\n}\n\nfunction createCourse(state, send, updateCourseCB) {\n  Curry._1(send, /* StartSaving */0);\n  var createCourseQuery = make(state.name, state.description, Belt_Option.map(state.endsAt, DateFns.encodeISO), state.about, state.publicSignup, state.featured, state.progressionBehavior, progressionLimitForQuery(state), /* () */0);\n  (function (eta) {\n            return GraphqlQuery.sendQuery(undefined, eta);\n          })(createCourseQuery).then((function (result) {\n            var match = result.createCourse.course;\n            if (match !== undefined) {\n              Curry._1(updateCourseCB, CourseEditor__Course.makeFromJs(Caml_option.valFromOption(match)));\n            } else {\n              Curry._1(send, /* FailSaving */1);\n            }\n            return Promise.resolve(/* () */0);\n          })).catch((function (error) {\n          console.log(error);\n          Curry._1(send, /* FailSaving */1);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction updateCourse(state, send, updateCourseCB, course) {\n  Curry._1(send, /* StartSaving */0);\n  var updateCourseQuery = make$1(CourseEditor__Course.id(course), state.name, state.description, Belt_Option.map(state.endsAt, DateFns.encodeISO), state.about, state.publicSignup, state.featured, state.progressionBehavior, progressionLimitForQuery(state), /* () */0);\n  (function (eta) {\n            return GraphqlQuery.sendQuery(undefined, eta);\n          })(updateCourseQuery).then((function (result) {\n            var match = result.updateCourse.course;\n            if (match !== undefined) {\n              Curry._1(updateCourseCB, CourseEditor__Course.makeFromJs(Caml_option.valFromOption(match)));\n            } else {\n              Curry._1(send, /* FailSaving */1);\n            }\n            return Promise.resolve(/* () */0);\n          })).catch((function (error) {\n          console.log(error);\n          Curry._1(send, /* FailSaving */1);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction booleanButtonClasses(bool) {\n  return \"toggle-button__button\" + (\n          bool ? \" toggle-button__button--active\" : \"\"\n        );\n}\n\nfunction enablePublicSignupButton(publicSignup, send) {\n  return React.createElement(\"div\", {\n              className: \"flex items-center mt-5\"\n            }, React.createElement(\"label\", {\n                  className: \"block tracking-wide text-xs font-semibold mr-6\",\n                  htmlFor: \"public-signup\"\n                }, \"Enable public signup for this course?\"), React.createElement(\"div\", {\n                  className: \"flex toggle-button__group flex-shrink-0 rounded-lg overflow-hidden\",\n                  id: \"public-signup\"\n                }, React.createElement(\"button\", {\n                      className: booleanButtonClasses(publicSignup),\n                      onClick: (function (param) {\n                          return Curry._1(send, /* UpdatePublicSignup */Block.__(4, [true]));\n                        })\n                    }, \"Yes\"), React.createElement(\"button\", {\n                      className: booleanButtonClasses(!publicSignup),\n                      onClick: (function (param) {\n                          return Curry._1(send, /* UpdatePublicSignup */Block.__(4, [false]));\n                        })\n                    }, \"No\")));\n}\n\nfunction featuredButton(featured, send) {\n  return React.createElement(\"div\", {\n              className: \"flex items-center mt-5\"\n            }, React.createElement(\"label\", {\n                  className: \"block tracking-wide text-xs font-semibold mr-6\",\n                  htmlFor: \"featured\"\n                }, \"Feature course in learnmax homepage?\"), React.createElement(\"div\", {\n                  className: \"flex toggle-button__group flex-shrink-0 rounded-lg overflow-hidden\",\n                  id: \"featured\"\n                }, React.createElement(\"button\", {\n                      className: booleanButtonClasses(featured),\n                      onClick: (function (param) {\n                          return Curry._1(send, /* UpdateFeatured */Block.__(5, [true]));\n                        })\n                    }, \"Yes\"), React.createElement(\"button\", {\n                      className: booleanButtonClasses(!featured),\n                      onClick: (function (param) {\n                          return Curry._1(send, /* UpdateFeatured */Block.__(5, [false]));\n                        })\n                    }, \"No\")));\n}\n\nfunction about(course) {\n  var match = CourseEditor__Course.about(course);\n  if (match !== undefined) {\n    return match;\n  } else {\n    return \"\";\n  }\n}\n\nfunction updateAboutCB(send, about) {\n  return Curry._1(send, /* UpdateAbout */Block.__(3, [about]));\n}\n\nfunction computeInitialState(course) {\n  if (course !== undefined) {\n    var course$1 = course;\n    return {\n            name: CourseEditor__Course.name(course$1),\n            description: CourseEditor__Course.description(course$1),\n            endsAt: CourseEditor__Course.endsAt(course$1),\n            hasNameError: false,\n            hasDescriptionError: false,\n            hasDateError: false,\n            about: about(course$1),\n            publicSignup: CourseEditor__Course.publicSignup(course$1),\n            dirty: false,\n            saving: false,\n            featured: CourseEditor__Course.featured(course$1),\n            progressionBehavior: CourseEditor__Course.progressionBehavior(course$1),\n            progressionLimit: Belt_Option.getWithDefault(CourseEditor__Course.progressionLimit(course$1), 1)\n          };\n  } else {\n    return {\n            name: \"\",\n            description: \"\",\n            endsAt: undefined,\n            hasNameError: false,\n            hasDescriptionError: false,\n            hasDateError: false,\n            about: \"\",\n            publicSignup: false,\n            dirty: false,\n            saving: false,\n            featured: true,\n            progressionBehavior: /* Limited */-599448518,\n            progressionLimit: 1\n          };\n  }\n}\n\nfunction handleSelectProgressionLimit(send, $$event) {\n  var target = $$event.target;\n  var otherValue = target.value;\n  switch (otherValue) {\n    case \"1\" :\n    case \"2\" :\n    case \"3\" :\n        break;\n    default:\n      Rollbar.error(\"Unexpected progression limit was selected: \" + otherValue);\n      return /* () */0;\n  }\n  return Curry._1(send, /* UpdateProgressionLimit */Block.__(7, [Caml_format.caml_int_of_string(target.value)]));\n}\n\nfunction progressionBehaviorButtonClasses(state, progressionBehavior, additionalClasses) {\n  var selected = state.progressionBehavior === progressionBehavior;\n  var defaultClasses = additionalClasses + \" w-1/3 relative border font-semibold focus:outline-none rounded px-5 py-4 md:px-8 md:py-5 items-center cursor-pointer text-center bg-gray-200 hover:bg-gray-300\";\n  return defaultClasses + (\n          selected ? \" text-primary-500 border-primary-500\" : \"\"\n        );\n}\n\nfunction CourseEditor__Form(Props) {\n  var course = Props.course;\n  var hideEditorActionCB = Props.hideEditorActionCB;\n  var updateCourseCB = Props.updateCourseCB;\n  var match = React.useReducer(reducer, course, computeInitialState);\n  var send = match[1];\n  var state = match[0];\n  var tmp = {\n    onChange: (function (date) {\n        return Curry._1(send, /* UpdateEndsAt */Block.__(2, [date]));\n      }),\n    id: \"course-ends-at-input\"\n  };\n  if (state.endsAt !== undefined) {\n    tmp.selected = Caml_option.valFromOption(state.endsAt);\n  }\n  var tmp$1;\n  if (course !== undefined) {\n    var course$1 = course;\n    tmp$1 = React.createElement(\"button\", {\n          className: \"w-full btn btn-large btn-primary mt-3\",\n          disabled: saveDisabled(state),\n          onClick: (function (param) {\n              return updateCourse(state, send, updateCourseCB, course$1);\n            })\n        }, \"Update Course\");\n  } else {\n    tmp$1 = React.createElement(\"button\", {\n          className: \"w-full btn btn-large btn-primary mt-3\",\n          disabled: saveDisabled(state),\n          onClick: (function (param) {\n              return createCourse(state, send, updateCourseCB);\n            })\n        }, \"Create Course\");\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"blanket\"\n                }), React.createElement(\"div\", {\n                  className: \"drawer-right\"\n                }, React.createElement(\"div\", {\n                      className: \"drawer-right__close absolute\"\n                    }, React.createElement(\"button\", {\n                          className: \"flex items-center justify-center bg-white text-gray-600 font-bold py-3 px-5 rounded-l-full rounded-r-none hover:text-gray-700 focus:outline-none mt-4\",\n                          title: \"close\",\n                          onClick: (function (param) {\n                              return Curry._1(hideEditorActionCB, /* () */0);\n                            })\n                        }, React.createElement(\"i\", {\n                              className: \"fas fa-times text-xl\"\n                            }))), React.createElement(\"div\", {\n                      className: state.saving ? \"drawer-right-form w-full opacity-50\" : \"drawer-right-form w-full\"\n                    }, React.createElement(\"div\", {\n                          className: \"w-full\"\n                        }, React.createElement(\"div\", {\n                              className: \"mx-auto bg-white\"\n                            }, React.createElement(\"div\", {\n                                  className: \"max-w-2xl p-6 mx-auto\"\n                                }, React.createElement(\"h5\", {\n                                      className: \"uppercase text-center border-b border-gray-400 pb-2\"\n                                    }, course === undefined ? \"Add New Course\" : \"Edit Course Details\"), React.createElement(\"div\", {\n                                      className: \"mt-5\"\n                                    }, React.createElement(\"label\", {\n                                          className: \"inline-block tracking-wide text-xs font-semibold \",\n                                          htmlFor: \"name\"\n                                        }, \"Course name\"), React.createElement(\"input\", {\n                                          className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                          id: \"name\",\n                                          maxLength: 50,\n                                          placeholder: \"Type course name here\",\n                                          type: \"text\",\n                                          value: state.name,\n                                          onChange: (function ($$event) {\n                                              return updateName(send, $$event.target.value);\n                                            })\n                                        }), React.createElement(School__InputGroupError.make, {\n                                          message: \"A name is required (2-50 characters)\",\n                                          active: state.hasNameError\n                                        })), React.createElement(\"div\", {\n                                      className: \"mt-5\"\n                                    }, React.createElement(\"label\", {\n                                          className: \"inline-block tracking-wide text-xs font-semibold\",\n                                          htmlFor: \"description\"\n                                        }, \"Course description\"), React.createElement(\"input\", {\n                                          className: \"appearance-none block w-full bg-white border border-gray-400 rounded py-3 px-4 mt-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                          id: \"description\",\n                                          maxLength: 150,\n                                          placeholder: \"Short description for this course\",\n                                          type: \"text\",\n                                          value: state.description,\n                                          onChange: (function ($$event) {\n                                              return updateDescription(send, $$event.target.value);\n                                            })\n                                        })), React.createElement(School__InputGroupError.make, {\n                                      message: \"A description is required (2-150 characters)\",\n                                      active: state.hasDescriptionError\n                                    }), React.createElement(\"div\", {\n                                      className: \"mt-5\"\n                                    }, React.createElement(\"label\", {\n                                          className: \"tracking-wide text-xs font-semibold\",\n                                          htmlFor: \"course-ends-at-input\"\n                                        }, \"Course end date\"), React.createElement(\"span\", {\n                                          className: \"ml-1 text-xs\"\n                                        }, \"(optional)\"), React.createElement(HelpIcon.make, {\n                                          className: \"ml-2\",\n                                          link: \"https://docs.pupilfirst.com/#/courses\",\n                                          children: \"If specified, course will appear as closed to users on this date. Users will not be able to make any more submissions.\"\n                                        }), React.createElement(DatePicker.make, tmp)), React.createElement(School__InputGroupError.make, {\n                                      message: \"Enter a valid date\",\n                                      active: state.hasDateError\n                                    }), React.createElement(\"div\", {\n                                      className: \"mt-5\"\n                                    }, React.createElement(\"label\", {\n                                          className: \"tracking-wide text-xs font-semibold\",\n                                          htmlFor: \"course-about\"\n                                        }, \"About\"), React.createElement(\"div\", {\n                                          className: \"mt-2\"\n                                        }, React.createElement(MarkdownEditor.make, {\n                                              value: state.about,\n                                              onChange: (function (param) {\n                                                  return Curry._1(send, /* UpdateAbout */Block.__(3, [param]));\n                                                }),\n                                              profile: /* Permissive */2,\n                                              textareaId: \"course-about\",\n                                              maxLength: 10000,\n                                              placeholder: \"Add more details about the course.\"\n                                            }))), React.createElement(\"div\", {\n                                      className: \"mt-5\"\n                                    }, React.createElement(\"label\", {\n                                          className: \"tracking-wide text-xs font-semibold\"\n                                        }, \"Progression Behavior\"), React.createElement(HelpIcon.make, {\n                                          className: \"ml-2\",\n                                          link: \"https://docs.pupilfirst.com/#/courses?id=progression-behaviour\",\n                                          children: \"This only applies if your course has milestone modules that requires users to submit their work for review by coaches.\"\n                                        }), React.createElement(\"div\", {\n                                          className: \"flex mt-2\"\n                                        }, React.createElement(\"button\", {\n                                              className: progressionBehaviorButtonClasses(state, /* Limited */-599448518, \"mr-1\"),\n                                              onClick: (function (param) {\n                                                  return Curry._1(send, /* UpdateProgressionBehavior */Block.__(6, [/* Limited */-599448518]));\n                                                })\n                                            }, React.createElement(\"div\", {\n                                                  className: \"font-bold text-xl\"\n                                                }, \"Limited\"), React.createElement(\"div\", {\n                                                  className: \"text-xs mt-2\"\n                                                }, React.createElement(\"div\", undefined, \"Users can level up\"), React.createElement(\"select\", {\n                                                      className: \"my-1 cursor-pointer inline-block appearance-none bg-white border-b-2 text-xl font-semibold border-blue-500 hover:border-gray-500 p-1 leading-tight rounded-none focus:outline-none\",\n                                                      id: \"progression-limit\",\n                                                      style: {\n                                                        textAlignLast: \"center\"\n                                                      },\n                                                      value: String(state.progressionLimit),\n                                                      onChange: (function (param) {\n                                                          return handleSelectProgressionLimit(send, param);\n                                                        })\n                                                    }, React.createElement(\"option\", {\n                                                          value: \"1\"\n                                                        }, \"once\"), React.createElement(\"option\", {\n                                                          value: \"2\"\n                                                        }, \"twice\"), React.createElement(\"option\", {\n                                                          value: \"3\"\n                                                        }, \"thrice\")), React.createElement(\"div\", undefined, \" without getting submissions reviewed.\"))), React.createElement(\"button\", {\n                                              className: progressionBehaviorButtonClasses(state, /* Unlimited */751362817, \"mx-1\"),\n                                              onClick: (function (param) {\n                                                  return Curry._1(send, /* UpdateProgressionBehavior */Block.__(6, [/* Unlimited */751362817]));\n                                                })\n                                            }, React.createElement(\"div\", {\n                                                  className: \"font-bold text-xl\"\n                                                }, \"Unlimited\"), React.createElement(\"span\", {\n                                                  className: \"text-xs\"\n                                                }, \"Users can level up till the end of the course, without getting submissions reviewed.\")), React.createElement(\"button\", {\n                                              className: progressionBehaviorButtonClasses(state, /* Strict */-976972951, \"ml-1\"),\n                                              onClick: (function (param) {\n                                                  return Curry._1(send, /* UpdateProgressionBehavior */Block.__(6, [/* Strict */-976972951]));\n                                                })\n                                            }, React.createElement(\"div\", {\n                                                  className: \"font-bold text-xl\"\n                                                }, \"Strict\"), React.createElement(\"span\", {\n                                                  className: \"text-xs\"\n                                                }, \"Users can level up only after getting submissions reviewed, and passing.\")))), featuredButton(state.featured, send), enablePublicSignupButton(state.publicSignup, send))), React.createElement(\"div\", {\n                              className: \"mx-auto\"\n                            }, React.createElement(\"div\", {\n                                  className: \"max-w-2xl p-6 mx-auto\"\n                                }, React.createElement(\"div\", {\n                                      className: \"flex\"\n                                    }, tmp$1)))))));\n}\n\nvar make$2 = CourseEditor__Form;\n\nexports.str = str;\nexports.reducer = reducer;\nexports.CreateCourseQuery = CreateCourseQuery;\nexports.UpdateCourseQuery = UpdateCourseQuery;\nexports.updateName = updateName;\nexports.updateDescription = updateDescription;\nexports.saveDisabled = saveDisabled;\nexports.formClasses = formClasses;\nexports.progressionLimitForQuery = progressionLimitForQuery;\nexports.createCourse = createCourse;\nexports.updateCourse = updateCourse;\nexports.booleanButtonClasses = booleanButtonClasses;\nexports.enablePublicSignupButton = enablePublicSignupButton;\nexports.featuredButton = featuredButton;\nexports.about = about;\nexports.updateAboutCB = updateAboutCB;\nexports.computeInitialState = computeInitialState;\nexports.handleSelectProgressionLimit = handleSelectProgressionLimit;\nexports.progressionBehaviorButtonClasses = progressionBehaviorButtonClasses;\nexports.make = make$2;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}