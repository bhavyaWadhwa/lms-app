{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Inflector = require(\"../shared/utils/Inflector.bs.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../shared/utils/GraphqlQuery.bs.js\");\n\nvar DisablingCover = require(\"../shared/components/DisablingCover.bs.js\");\n\nvar TopicsShow__Post = require(\"./types/TopicsShow__Post.bs.js\");\n\nvar TopicsShow__Topic = require(\"./types/TopicsShow__Topic.bs.js\");\n\nvar TopicsShow__PostShow = require(\"./components/TopicsShow__PostShow.bs.js\");\n\nvar TopicsShow__Community = require(\"./types/TopicsShow__Community.bs.js\");\n\nvar TopicsShow__PostEditor = require(\"./components/TopicsShow__PostEditor.bs.js\");\n\nvar TopicsShow__LinkedTarget = require(\"./types/TopicsShow__LinkedTarget.bs.js\");\n\nrequire(\"./TopicsShow__Root.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case\n      /* LikeFirstPost */\n      0:\n        return {\n          topic: state.topic,\n          firstPost: TopicsShow__Post.addLike(state.firstPost),\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* RemoveLikeFromFirstPost */\n      1:\n        return {\n          topic: state.topic,\n          firstPost: TopicsShow__Post.removeLike(state.firstPost),\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* RemoveReplyToPost */\n      2:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: undefined,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n    }\n  } else {\n    switch (action.tag | 0) {\n      case\n      /* SaveReply */\n      0:\n        var replyToPostId = action[1];\n        var newReply = action[0];\n\n        if (replyToPostId !== undefined) {\n          var id = replyToPostId;\n          var updatedParentPost = TopicsShow__Post.addReply(TopicsShow__Post.id(newReply), TopicsShow__Post.find(id, state.replies));\n          return {\n            topic: state.topic,\n            firstPost: state.firstPost,\n            replies: $$Array.append([newReply, updatedParentPost], state.replies.filter(function (r) {\n              return TopicsShow__Post.id(r) !== id;\n            })),\n            replyToPostId: undefined,\n            topicTitle: state.topicTitle,\n            savingTopic: state.savingTopic,\n            showTopicEditor: state.showTopicEditor\n          };\n        } else {\n          return {\n            topic: state.topic,\n            firstPost: state.firstPost,\n            replies: $$Array.append([newReply], state.replies),\n            replyToPostId: state.replyToPostId,\n            topicTitle: state.topicTitle,\n            savingTopic: state.savingTopic,\n            showTopicEditor: state.showTopicEditor\n          };\n        }\n\n      case\n      /* AddNewReply */\n      1:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: action[0],\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* LikeReply */\n      2:\n        var post = action[0];\n        var updatedPost = TopicsShow__Post.addLike(post);\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: $$Array.append([updatedPost], state.replies.filter(function (reply) {\n            return TopicsShow__Post.id(reply) !== TopicsShow__Post.id(post);\n          })),\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* RemoveLikeFromReply */\n      3:\n        var post$1 = action[0];\n        var updatedPost$1 = TopicsShow__Post.removeLike(post$1);\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: $$Array.append([updatedPost$1], state.replies.filter(function (reply) {\n            return TopicsShow__Post.id(reply) !== TopicsShow__Post.id(post$1);\n          })),\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* UpdateFirstPost */\n      4:\n        return {\n          topic: state.topic,\n          firstPost: action[0],\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* UpdateReply */\n      5:\n        var reply = action[0];\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: $$Array.append([reply], state.replies.filter(function (r) {\n            return TopicsShow__Post.id(r) !== TopicsShow__Post.id(reply);\n          })),\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* ArchivePost */\n      6:\n        var postId = action[0];\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies.filter(function (r) {\n            return TopicsShow__Post.id(r) !== postId;\n          }),\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* UpdateTopicTitle */\n      7:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: action[0],\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* SaveTopic */\n      8:\n        return {\n          topic: action[0],\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: false,\n          showTopicEditor: false\n        };\n\n      case\n      /* ShowTopicEditor */\n      9:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: action[0]\n        };\n\n      case\n      /* UpdateSavingTopic */\n      10:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: state.replies,\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: action[0],\n          showTopicEditor: state.showTopicEditor\n        };\n\n      case\n      /* MarkReplyAsSolution */\n      11:\n        return {\n          topic: state.topic,\n          firstPost: state.firstPost,\n          replies: TopicsShow__Post.markAsSolution(action[0], state.replies),\n          replyToPostId: state.replyToPostId,\n          topicTitle: state.topicTitle,\n          savingTopic: state.savingTopic,\n          showTopicEditor: state.showTopicEditor\n        };\n    }\n  }\n}\n\nfunction addNewReply(send, replyToPostId, param) {\n  return Curry._1(send,\n  /* AddNewReply */\n  Block.__(1, [replyToPostId]));\n}\n\nfunction updateReply(send, reply) {\n  return Curry._1(send,\n  /* UpdateReply */\n  Block.__(5, [reply]));\n}\n\nfunction updateFirstPost(send, post) {\n  return Curry._1(send,\n  /* UpdateFirstPost */\n  Block.__(4, [post]));\n}\n\nfunction saveReply(send, replyToPostId, reply) {\n  return Curry._1(send,\n  /* SaveReply */\n  Block.__(0, [reply, replyToPostId]));\n}\n\nfunction isTopicCreator(firstPost, currentUserId) {\n  return TopicsShow__Post.creatorId(firstPost) === currentUserId;\n}\n\nfunction archiveTopic(community) {\n  window.location = TopicsShow__Community.path(community);\n  return (\n    /* () */\n    0\n  );\n}\n\nvar ppx_printed_query = \"mutation UpdateTopicMutation($id: ID!, $title: String!)  {\\nupdateTopic(id: $id, title: $title)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"updateTopic\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type UpdateTopicPayload is missing\");\n    }\n\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field updateTopic on type Mutation is missing\");\n  }\n\n  return {\n    updateTopic: tmp\n  };\n}\n\nfunction make(id, title, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id],\n    /* tuple */\n    [\"title\", title]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var id = variables.id;\n  var title = variables.title;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"id\", id],\n    /* tuple */\n    [\"title\", title]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(id, title, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id],\n  /* tuple */\n  [\"title\", title]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, id, title, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"id\", id],\n  /* tuple */\n  [\"title\", title]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar UpdateTopicQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateTopic(state, send, $$event) {\n  $$event.preventDefault();\n\n  Curry._1(send,\n  /* UpdateSavingTopic */\n  Block.__(10, [true]));\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(TopicsShow__Topic.id(state.topic), state.topicTitle,\n  /* () */\n  0)).then(function (response) {\n    if (response.updateTopic.success) {\n      var topic = TopicsShow__Topic.updateTitle(state.topicTitle, state.topic);\n\n      Curry._1(send,\n      /* SaveTopic */\n      Block.__(8, [topic]));\n    } else {\n      Curry._1(send,\n      /* UpdateSavingTopic */\n      Block.__(10, [false]));\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  })[\"catch\"](function (param) {\n    Curry._1(send,\n    /* UpdateSavingTopic */\n    Block.__(10, [false]));\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction communityLink(community) {\n  return React.createElement(\"a\", {\n    className: \"btn btn-subtle\",\n    href: TopicsShow__Community.path(community)\n  }, React.createElement(\"i\", {\n    className: \"fas fa-users\"\n  }), React.createElement(\"span\", {\n    className: \"ml-2\"\n  }, TopicsShow__Community.name(community)));\n}\n\nfunction TopicsShow__Root(Props) {\n  var topic = Props.topic;\n  var firstPost = Props.firstPost;\n  var replies = Props.replies;\n  var users = Props.users;\n  var currentUserId = Props.currentUserId;\n  var isCoach = Props.isCoach;\n  var community = Props.community;\n  var target = Props.target;\n  var match = React.useReducer(reducer, topic, function (topic) {\n    return {\n      topic: topic,\n      firstPost: firstPost,\n      replies: replies,\n      replyToPostId: undefined,\n      topicTitle: TopicsShow__Topic.title(topic),\n      savingTopic: false,\n      showTopicEditor: false\n    };\n  });\n  var send = match[1];\n  var state = match[0];\n  var tmp;\n\n  if (target !== undefined) {\n    var target$1 = target;\n    var match$1 = TopicsShow__LinkedTarget.id(target$1);\n    tmp = React.createElement(\"div\", {\n      className: \"max-w-4xl w-full mt-5 lg:x-4 mx-auto\"\n    }, React.createElement(\"div\", {\n      className: \"flex py-4 px-4 md:px-5 mx-3 lg:mx-0 bg-white border border-primary-500 shadow-md rounded-lg justify-between items-center\"\n    }, React.createElement(\"p\", {\n      className: \"w-3/5 md:w-4/5 text-sm\"\n    }, React.createElement(\"span\", {\n      className: \"font-semibold block text-xs\"\n    }, \"Linked Target: \"), React.createElement(\"span\", undefined, TopicsShow__LinkedTarget.title(target$1))), match$1 !== undefined ? React.createElement(\"a\", {\n      className: \"btn btn-default\",\n      href: \"/targets/\" + match$1\n    }, \"View Target\") : null));\n  } else {\n    tmp = null;\n  }\n\n  var partial_arg = state.replyToPostId;\n  var tmp$1 = {\n    id: \"add-reply-to-topic\",\n    topic: topic,\n    currentUserId: currentUserId,\n    handlePostCB: function handlePostCB(param) {\n      return Curry._1(send,\n      /* SaveReply */\n      Block.__(0, [param, partial_arg]));\n    },\n    replies: state.replies,\n    users: users,\n    removeReplyToPostCB: function removeReplyToPostCB(param) {\n      return Curry._1(send,\n      /* RemoveReplyToPost */\n      2);\n    }\n  };\n\n  if (state.replyToPostId !== undefined) {\n    tmp$1.replyToPostId = Caml_option.valFromOption(state.replyToPostId);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"bg-gray-100\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-4xl w-full mt-5 pl-4 lg:pl-0 lg:mx-auto\"\n  }, communityLink(community)), React.createElement(\"div\", {\n    className: \"flex-col items-center justify-between\"\n  }, tmp, React.createElement(\"div\", {\n    className: \"max-w-4xl w-full mx-auto bg-white p-4 lg:p-8 my-4 border-t border-b md:border-0 lg:rounded-lg lg:shadow\"\n  }, React.createElement(\"div\", undefined, state.showTopicEditor ? React.createElement(DisablingCover.make, {\n    disabled: state.savingTopic,\n    children: React.createElement(\"div\", {\n      className: \"flex flex-col lg:ml-14 bg-gray-100 p-2 rounded border border-primary-200\"\n    }, React.createElement(\"input\", {\n      className: \"appearance-none block w-full bg-white text-gray-900 font-semibold border border-gray-400 rounded py-3 px-4 mb-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      type: \"text\",\n      value: state.topicTitle,\n      onChange: function onChange($$event) {\n        return Curry._1(send,\n        /* UpdateTopicTitle */\n        Block.__(7, [$$event.target.value]));\n      }\n    }), React.createElement(\"div\", {\n      className: \"flex justify-end\"\n    }, React.createElement(\"button\", {\n      className: \"btn btn-subtle btn-small mr-2\",\n      onClick: function onClick(param) {\n        return Curry._1(send,\n        /* ShowTopicEditor */\n        Block.__(9, [false]));\n      }\n    }, \"Cancel\"), React.createElement(\"button\", {\n      className: \"btn btn-primary btn-small\",\n      disabled: state.topicTitle.trim() === \"\",\n      onClick: function onClick(param) {\n        return updateTopic(state, send, param);\n      }\n    }, \"Update Topic\")))\n  }) : React.createElement(\"div\", {\n    className: \"topics-show__title-container flex items-start justify-between\"\n  }, React.createElement(\"h3\", {\n    \"aria-label\": \"Topic Title\",\n    className: \"leading-snug lg:pl-14 text-base lg:text-2xl w-5/6\"\n  }, TopicsShow__Topic.title(state.topic)), isCoach || currentUserId === TopicsShow__Post.creatorId(firstPost) ? React.createElement(\"button\", {\n    className: \"topics-show__title-edit-button inline-flex items-center font-semibold p-2 md:py-1 bg-gray-100 hover:bg-gray-300 border rounded text-xs flex-shrink-0 mt-2 ml-3 lg:invisible\",\n    onClick: function onClick(param) {\n      return Curry._1(send,\n      /* ShowTopicEditor */\n      Block.__(9, [true]));\n    }\n  }, React.createElement(\"i\", {\n    className: \"far fa-edit\"\n  }), React.createElement(\"span\", {\n    className: \"hidden md:inline-block ml-1\"\n  }, \"Edit Title\")) : null), React.createElement(TopicsShow__PostShow.make, {\n    post: state.firstPost,\n    topic: topic,\n    users: users,\n    posts: state.replies,\n    currentUserId: currentUserId,\n    isCoach: isCoach,\n    isTopicCreator: TopicsShow__Post.creatorId(firstPost) === currentUserId,\n    updatePostCB: function updatePostCB(param) {\n      return Curry._1(send,\n      /* UpdateFirstPost */\n      Block.__(4, [param]));\n    },\n    addNewReplyCB: function addNewReplyCB(param) {\n      return Curry._1(send,\n      /* AddNewReply */\n      Block.__(1, [undefined]));\n    },\n    addPostLikeCB: function addPostLikeCB(param) {\n      return Curry._1(send,\n      /* LikeFirstPost */\n      0);\n    },\n    removePostLikeCB: function removePostLikeCB(param) {\n      return Curry._1(send,\n      /* RemoveLikeFromFirstPost */\n      1);\n    },\n    markPostAsSolutionCB: function markPostAsSolutionCB(param) {\n      return (\n        /* () */\n        0\n      );\n    },\n    archivePostCB: function archivePostCB(param) {\n      return archiveTopic(community);\n    },\n    key: TopicsShow__Post.id(state.firstPost)\n  })), React.createElement(\"h5\", {\n    className: \"pt-4 pb-2 lg:ml-14 border-b\"\n  }, Inflector.pluralize(\"Reply\", state.replies.length, true,\n  /* () */\n  0)), $$Array.map(function (reply) {\n    var partial_arg = TopicsShow__Post.id(reply);\n    return React.createElement(\"div\", {\n      key: TopicsShow__Post.id(reply),\n      className: \"topics-show__replies-wrapper\"\n    }, React.createElement(TopicsShow__PostShow.make, {\n      post: reply,\n      topic: topic,\n      users: users,\n      posts: state.replies,\n      currentUserId: currentUserId,\n      isCoach: isCoach,\n      isTopicCreator: TopicsShow__Post.creatorId(firstPost) === currentUserId,\n      updatePostCB: function updatePostCB(param) {\n        return Curry._1(send,\n        /* UpdateReply */\n        Block.__(5, [param]));\n      },\n      addNewReplyCB: function addNewReplyCB(param) {\n        return Curry._1(send,\n        /* AddNewReply */\n        Block.__(1, [partial_arg]));\n      },\n      addPostLikeCB: function addPostLikeCB(param) {\n        return Curry._1(send,\n        /* LikeReply */\n        Block.__(2, [reply]));\n      },\n      removePostLikeCB: function removePostLikeCB(param) {\n        return Curry._1(send,\n        /* RemoveLikeFromReply */\n        Block.__(3, [reply]));\n      },\n      markPostAsSolutionCB: function markPostAsSolutionCB(param) {\n        return Curry._1(send,\n        /* MarkReplyAsSolution */\n        Block.__(11, [TopicsShow__Post.id(reply)]));\n      },\n      archivePostCB: function archivePostCB(param) {\n        return Curry._1(send,\n        /* ArchivePost */\n        Block.__(6, [TopicsShow__Post.id(reply)]));\n      }\n    }));\n  }, TopicsShow__Post.sort(state.replies))), React.createElement(\"div\", {\n    className: \"mt-4 px-4\"\n  }, React.createElement(TopicsShow__PostEditor.make, tmp$1))));\n}\n\nvar make$1 = TopicsShow__Root;\nexports.str = str;\nexports.reducer = reducer;\nexports.addNewReply = addNewReply;\nexports.updateReply = updateReply;\nexports.updateFirstPost = updateFirstPost;\nexports.saveReply = saveReply;\nexports.isTopicCreator = isTopicCreator;\nexports.archiveTopic = archiveTopic;\nexports.UpdateTopicQuery = UpdateTopicQuery;\nexports.updateTopic = updateTopic;\nexports.communityLink = communityLink;\nexports.make = make$1;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/topics/TopicsShow__Root.bs.js"],"names":["$$Array","require","Block","Curry","React","Js_exn","Js_dict","Js_json","Inflector","Js_option","Caml_option","GraphqlQuery","DisablingCover","TopicsShow__Post","TopicsShow__Topic","TopicsShow__PostShow","TopicsShow__Community","TopicsShow__PostEditor","TopicsShow__LinkedTarget","str","prim","reducer","state","action","topic","firstPost","addLike","replies","replyToPostId","topicTitle","savingTopic","showTopicEditor","removeLike","undefined","tag","newReply","id","updatedParentPost","addReply","find","append","filter","r","post","updatedPost","reply","post$1","updatedPost$1","postId","markAsSolution","addNewReply","send","param","_1","__","updateReply","updateFirstPost","saveReply","isTopicCreator","currentUserId","creatorId","archiveTopic","community","window","location","path","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeBoolean","raiseError","JSON","stringify","success","updateTopic","make","title","query","variables","fromArray","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","definition","ret_type","f","MT_Ret","UpdateTopicQuery","$$event","preventDefault","eta","sendQuery","then","response","updateTitle","Promise","resolve","communityLink","createElement","className","href","name","TopicsShow__Root","Props","users","isCoach","target","useReducer","target$1","partial_arg","handlePostCB","removeReplyToPostCB","disabled","children","type","onChange","onClick","trim","posts","updatePostCB","addNewReplyCB","addPostLikeCB","removePostLikeCB","markPostAsSolutionCB","archivePostCB","key","pluralize","length","map","sort","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Inflector = require(\"../shared/utils/Inflector.bs.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../shared/utils/GraphqlQuery.bs.js\");\nvar DisablingCover = require(\"../shared/components/DisablingCover.bs.js\");\nvar TopicsShow__Post = require(\"./types/TopicsShow__Post.bs.js\");\nvar TopicsShow__Topic = require(\"./types/TopicsShow__Topic.bs.js\");\nvar TopicsShow__PostShow = require(\"./components/TopicsShow__PostShow.bs.js\");\nvar TopicsShow__Community = require(\"./types/TopicsShow__Community.bs.js\");\nvar TopicsShow__PostEditor = require(\"./components/TopicsShow__PostEditor.bs.js\");\nvar TopicsShow__LinkedTarget = require(\"./types/TopicsShow__LinkedTarget.bs.js\");\n\n((require(\"./TopicsShow__Root.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* LikeFirstPost */0 :\n          return {\n                  topic: state.topic,\n                  firstPost: TopicsShow__Post.addLike(state.firstPost),\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* RemoveLikeFromFirstPost */1 :\n          return {\n                  topic: state.topic,\n                  firstPost: TopicsShow__Post.removeLike(state.firstPost),\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* RemoveReplyToPost */2 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: undefined,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      \n    }\n  } else {\n    switch (action.tag | 0) {\n      case /* SaveReply */0 :\n          var replyToPostId = action[1];\n          var newReply = action[0];\n          if (replyToPostId !== undefined) {\n            var id = replyToPostId;\n            var updatedParentPost = TopicsShow__Post.addReply(TopicsShow__Post.id(newReply), TopicsShow__Post.find(id, state.replies));\n            return {\n                    topic: state.topic,\n                    firstPost: state.firstPost,\n                    replies: $$Array.append([\n                          newReply,\n                          updatedParentPost\n                        ], state.replies.filter((function (r) {\n                                return TopicsShow__Post.id(r) !== id;\n                              }))),\n                    replyToPostId: undefined,\n                    topicTitle: state.topicTitle,\n                    savingTopic: state.savingTopic,\n                    showTopicEditor: state.showTopicEditor\n                  };\n          } else {\n            return {\n                    topic: state.topic,\n                    firstPost: state.firstPost,\n                    replies: $$Array.append([newReply], state.replies),\n                    replyToPostId: state.replyToPostId,\n                    topicTitle: state.topicTitle,\n                    savingTopic: state.savingTopic,\n                    showTopicEditor: state.showTopicEditor\n                  };\n          }\n      case /* AddNewReply */1 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: action[0],\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* LikeReply */2 :\n          var post = action[0];\n          var updatedPost = TopicsShow__Post.addLike(post);\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: $$Array.append([updatedPost], state.replies.filter((function (reply) {\n                              return TopicsShow__Post.id(reply) !== TopicsShow__Post.id(post);\n                            }))),\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* RemoveLikeFromReply */3 :\n          var post$1 = action[0];\n          var updatedPost$1 = TopicsShow__Post.removeLike(post$1);\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: $$Array.append([updatedPost$1], state.replies.filter((function (reply) {\n                              return TopicsShow__Post.id(reply) !== TopicsShow__Post.id(post$1);\n                            }))),\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* UpdateFirstPost */4 :\n          return {\n                  topic: state.topic,\n                  firstPost: action[0],\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* UpdateReply */5 :\n          var reply = action[0];\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: $$Array.append([reply], state.replies.filter((function (r) {\n                              return TopicsShow__Post.id(r) !== TopicsShow__Post.id(reply);\n                            }))),\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* ArchivePost */6 :\n          var postId = action[0];\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies.filter((function (r) {\n                          return TopicsShow__Post.id(r) !== postId;\n                        })),\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* UpdateTopicTitle */7 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: action[0],\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* SaveTopic */8 :\n          return {\n                  topic: action[0],\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: false,\n                  showTopicEditor: false\n                };\n      case /* ShowTopicEditor */9 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: action[0]\n                };\n      case /* UpdateSavingTopic */10 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: state.replies,\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: action[0],\n                  showTopicEditor: state.showTopicEditor\n                };\n      case /* MarkReplyAsSolution */11 :\n          return {\n                  topic: state.topic,\n                  firstPost: state.firstPost,\n                  replies: TopicsShow__Post.markAsSolution(action[0], state.replies),\n                  replyToPostId: state.replyToPostId,\n                  topicTitle: state.topicTitle,\n                  savingTopic: state.savingTopic,\n                  showTopicEditor: state.showTopicEditor\n                };\n      \n    }\n  }\n}\n\nfunction addNewReply(send, replyToPostId, param) {\n  return Curry._1(send, /* AddNewReply */Block.__(1, [replyToPostId]));\n}\n\nfunction updateReply(send, reply) {\n  return Curry._1(send, /* UpdateReply */Block.__(5, [reply]));\n}\n\nfunction updateFirstPost(send, post) {\n  return Curry._1(send, /* UpdateFirstPost */Block.__(4, [post]));\n}\n\nfunction saveReply(send, replyToPostId, reply) {\n  return Curry._1(send, /* SaveReply */Block.__(0, [\n                reply,\n                replyToPostId\n              ]));\n}\n\nfunction isTopicCreator(firstPost, currentUserId) {\n  return TopicsShow__Post.creatorId(firstPost) === currentUserId;\n}\n\nfunction archiveTopic(community) {\n  window.location = TopicsShow__Community.path(community);\n  return /* () */0;\n}\n\nvar ppx_printed_query = \"mutation UpdateTopicMutation($id: ID!, $title: String!)  {\\nupdateTopic(id: $id, title: $title)  {\\nsuccess  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"updateTopic\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"success\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeBoolean(value$3);\n      tmp$1 = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$3));\n    } else {\n      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field success on type UpdateTopicPayload is missing\");\n    }\n    tmp = {\n      success: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field updateTopic on type Mutation is missing\");\n  }\n  return {\n          updateTopic: tmp\n        };\n}\n\nfunction make(id, title, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"id\",\n                    id\n                  ],\n                  /* tuple */[\n                    \"title\",\n                    title\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var id = variables.id;\n  var title = variables.title;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"id\",\n                    id\n                  ],\n                  /* tuple */[\n                    \"title\",\n                    title\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(id, title, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"id\",\n                  id\n                ],\n                /* tuple */[\n                  \"title\",\n                  title\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, id, title, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"id\",\n                      id\n                    ],\n                    /* tuple */[\n                      \"title\",\n                      title\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar UpdateTopicQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateTopic(state, send, $$event) {\n  $$event.preventDefault();\n  Curry._1(send, /* UpdateSavingTopic */Block.__(10, [true]));\n  (function (eta) {\n            return GraphqlQuery.sendQuery(undefined, eta);\n          })(make(TopicsShow__Topic.id(state.topic), state.topicTitle, /* () */0)).then((function (response) {\n            if (response.updateTopic.success) {\n              var topic = TopicsShow__Topic.updateTitle(state.topicTitle, state.topic);\n              Curry._1(send, /* SaveTopic */Block.__(8, [topic]));\n            } else {\n              Curry._1(send, /* UpdateSavingTopic */Block.__(10, [false]));\n            }\n            return Promise.resolve(/* () */0);\n          })).catch((function (param) {\n          Curry._1(send, /* UpdateSavingTopic */Block.__(10, [false]));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction communityLink(community) {\n  return React.createElement(\"a\", {\n              className: \"btn btn-subtle\",\n              href: TopicsShow__Community.path(community)\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-users\"\n                }), React.createElement(\"span\", {\n                  className: \"ml-2\"\n                }, TopicsShow__Community.name(community)));\n}\n\nfunction TopicsShow__Root(Props) {\n  var topic = Props.topic;\n  var firstPost = Props.firstPost;\n  var replies = Props.replies;\n  var users = Props.users;\n  var currentUserId = Props.currentUserId;\n  var isCoach = Props.isCoach;\n  var community = Props.community;\n  var target = Props.target;\n  var match = React.useReducer(reducer, topic, (function (topic) {\n          return {\n                  topic: topic,\n                  firstPost: firstPost,\n                  replies: replies,\n                  replyToPostId: undefined,\n                  topicTitle: TopicsShow__Topic.title(topic),\n                  savingTopic: false,\n                  showTopicEditor: false\n                };\n        }));\n  var send = match[1];\n  var state = match[0];\n  var tmp;\n  if (target !== undefined) {\n    var target$1 = target;\n    var match$1 = TopicsShow__LinkedTarget.id(target$1);\n    tmp = React.createElement(\"div\", {\n          className: \"max-w-4xl w-full mt-5 lg:x-4 mx-auto\"\n        }, React.createElement(\"div\", {\n              className: \"flex py-4 px-4 md:px-5 mx-3 lg:mx-0 bg-white border border-primary-500 shadow-md rounded-lg justify-between items-center\"\n            }, React.createElement(\"p\", {\n                  className: \"w-3/5 md:w-4/5 text-sm\"\n                }, React.createElement(\"span\", {\n                      className: \"font-semibold block text-xs\"\n                    }, \"Linked Target: \"), React.createElement(\"span\", undefined, TopicsShow__LinkedTarget.title(target$1))), match$1 !== undefined ? React.createElement(\"a\", {\n                    className: \"btn btn-default\",\n                    href: \"/targets/\" + match$1\n                  }, \"View Target\") : null));\n  } else {\n    tmp = null;\n  }\n  var partial_arg = state.replyToPostId;\n  var tmp$1 = {\n    id: \"add-reply-to-topic\",\n    topic: topic,\n    currentUserId: currentUserId,\n    handlePostCB: (function (param) {\n        return Curry._1(send, /* SaveReply */Block.__(0, [\n                      param,\n                      partial_arg\n                    ]));\n      }),\n    replies: state.replies,\n    users: users,\n    removeReplyToPostCB: (function (param) {\n        return Curry._1(send, /* RemoveReplyToPost */2);\n      })\n  };\n  if (state.replyToPostId !== undefined) {\n    tmp$1.replyToPostId = Caml_option.valFromOption(state.replyToPostId);\n  }\n  return React.createElement(\"div\", {\n              className: \"bg-gray-100\"\n            }, React.createElement(\"div\", {\n                  className: \"max-w-4xl w-full mt-5 pl-4 lg:pl-0 lg:mx-auto\"\n                }, communityLink(community)), React.createElement(\"div\", {\n                  className: \"flex-col items-center justify-between\"\n                }, tmp, React.createElement(\"div\", {\n                      className: \"max-w-4xl w-full mx-auto bg-white p-4 lg:p-8 my-4 border-t border-b md:border-0 lg:rounded-lg lg:shadow\"\n                    }, React.createElement(\"div\", undefined, state.showTopicEditor ? React.createElement(DisablingCover.make, {\n                                disabled: state.savingTopic,\n                                children: React.createElement(\"div\", {\n                                      className: \"flex flex-col lg:ml-14 bg-gray-100 p-2 rounded border border-primary-200\"\n                                    }, React.createElement(\"input\", {\n                                          className: \"appearance-none block w-full bg-white text-gray-900 font-semibold border border-gray-400 rounded py-3 px-4 mb-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n                                          type: \"text\",\n                                          value: state.topicTitle,\n                                          onChange: (function ($$event) {\n                                              return Curry._1(send, /* UpdateTopicTitle */Block.__(7, [$$event.target.value]));\n                                            })\n                                        }), React.createElement(\"div\", {\n                                          className: \"flex justify-end\"\n                                        }, React.createElement(\"button\", {\n                                              className: \"btn btn-subtle btn-small mr-2\",\n                                              onClick: (function (param) {\n                                                  return Curry._1(send, /* ShowTopicEditor */Block.__(9, [false]));\n                                                })\n                                            }, \"Cancel\"), React.createElement(\"button\", {\n                                              className: \"btn btn-primary btn-small\",\n                                              disabled: state.topicTitle.trim() === \"\",\n                                              onClick: (function (param) {\n                                                  return updateTopic(state, send, param);\n                                                })\n                                            }, \"Update Topic\")))\n                              }) : React.createElement(\"div\", {\n                                className: \"topics-show__title-container flex items-start justify-between\"\n                              }, React.createElement(\"h3\", {\n                                    \"aria-label\": \"Topic Title\",\n                                    className: \"leading-snug lg:pl-14 text-base lg:text-2xl w-5/6\"\n                                  }, TopicsShow__Topic.title(state.topic)), isCoach || currentUserId === TopicsShow__Post.creatorId(firstPost) ? React.createElement(\"button\", {\n                                      className: \"topics-show__title-edit-button inline-flex items-center font-semibold p-2 md:py-1 bg-gray-100 hover:bg-gray-300 border rounded text-xs flex-shrink-0 mt-2 ml-3 lg:invisible\",\n                                      onClick: (function (param) {\n                                          return Curry._1(send, /* ShowTopicEditor */Block.__(9, [true]));\n                                        })\n                                    }, React.createElement(\"i\", {\n                                          className: \"far fa-edit\"\n                                        }), React.createElement(\"span\", {\n                                          className: \"hidden md:inline-block ml-1\"\n                                        }, \"Edit Title\")) : null), React.createElement(TopicsShow__PostShow.make, {\n                              post: state.firstPost,\n                              topic: topic,\n                              users: users,\n                              posts: state.replies,\n                              currentUserId: currentUserId,\n                              isCoach: isCoach,\n                              isTopicCreator: TopicsShow__Post.creatorId(firstPost) === currentUserId,\n                              updatePostCB: (function (param) {\n                                  return Curry._1(send, /* UpdateFirstPost */Block.__(4, [param]));\n                                }),\n                              addNewReplyCB: (function (param) {\n                                  return Curry._1(send, /* AddNewReply */Block.__(1, [undefined]));\n                                }),\n                              addPostLikeCB: (function (param) {\n                                  return Curry._1(send, /* LikeFirstPost */0);\n                                }),\n                              removePostLikeCB: (function (param) {\n                                  return Curry._1(send, /* RemoveLikeFromFirstPost */1);\n                                }),\n                              markPostAsSolutionCB: (function (param) {\n                                  return /* () */0;\n                                }),\n                              archivePostCB: (function (param) {\n                                  return archiveTopic(community);\n                                }),\n                              key: TopicsShow__Post.id(state.firstPost)\n                            })), React.createElement(\"h5\", {\n                          className: \"pt-4 pb-2 lg:ml-14 border-b\"\n                        }, Inflector.pluralize(\"Reply\", state.replies.length, true, /* () */0)), $$Array.map((function (reply) {\n                            var partial_arg = TopicsShow__Post.id(reply);\n                            return React.createElement(\"div\", {\n                                        key: TopicsShow__Post.id(reply),\n                                        className: \"topics-show__replies-wrapper\"\n                                      }, React.createElement(TopicsShow__PostShow.make, {\n                                            post: reply,\n                                            topic: topic,\n                                            users: users,\n                                            posts: state.replies,\n                                            currentUserId: currentUserId,\n                                            isCoach: isCoach,\n                                            isTopicCreator: TopicsShow__Post.creatorId(firstPost) === currentUserId,\n                                            updatePostCB: (function (param) {\n                                                return Curry._1(send, /* UpdateReply */Block.__(5, [param]));\n                                              }),\n                                            addNewReplyCB: (function (param) {\n                                                return Curry._1(send, /* AddNewReply */Block.__(1, [partial_arg]));\n                                              }),\n                                            addPostLikeCB: (function (param) {\n                                                return Curry._1(send, /* LikeReply */Block.__(2, [reply]));\n                                              }),\n                                            removePostLikeCB: (function (param) {\n                                                return Curry._1(send, /* RemoveLikeFromReply */Block.__(3, [reply]));\n                                              }),\n                                            markPostAsSolutionCB: (function (param) {\n                                                return Curry._1(send, /* MarkReplyAsSolution */Block.__(11, [TopicsShow__Post.id(reply)]));\n                                              }),\n                                            archivePostCB: (function (param) {\n                                                return Curry._1(send, /* ArchivePost */Block.__(6, [TopicsShow__Post.id(reply)]));\n                                              })\n                                          }));\n                          }), TopicsShow__Post.sort(state.replies))), React.createElement(\"div\", {\n                      className: \"mt-4 px-4\"\n                    }, React.createElement(TopicsShow__PostEditor.make, tmp$1))));\n}\n\nvar make$1 = TopicsShow__Root;\n\nexports.str = str;\nexports.reducer = reducer;\nexports.addNewReply = addNewReply;\nexports.updateReply = updateReply;\nexports.updateFirstPost = updateFirstPost;\nexports.saveReply = saveReply;\nexports.isTopicCreator = isTopicCreator;\nexports.archiveTopic = archiveTopic;\nexports.UpdateTopicQuery = UpdateTopicQuery;\nexports.updateTopic = updateTopic;\nexports.communityLink = communityLink;\nexports.make = make$1;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}