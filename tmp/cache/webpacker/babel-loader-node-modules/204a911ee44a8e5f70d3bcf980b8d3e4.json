{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar GradeLabel = require(\"../../../shared/types/GradeLabel.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\n\nvar CoursesCurriculum__Grading = require(\"../types/CoursesCurriculum__Grading.bs.js\");\n\nrequire(\"./CoursesCurriculum__GradeBar.scss\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction gradeDescription(gradeLabels, grading) {\n  var match = CoursesCurriculum__Grading.grade(grading);\n  return React.createElement(\"div\", {\n    className: \"grade-bar__criterion-name\"\n  }, CoursesCurriculum__Grading.criterionName(grading), match !== undefined ? React.createElement(\"span\", undefined, \": \", React.createElement(\"span\", {\n    className: \"grade-bar__grade-label\"\n  }, GradeLabel.labelFor(gradeLabels, match))) : null);\n}\n\nfunction maxGrade(gradeLabels) {\n  return String(GradeLabel.maxGrade(gradeLabels));\n}\n\nfunction gradePillClasses(gradeReceived, passGrade, pillGrade, callBack) {\n  var resultModifier;\n\n  if (gradeReceived !== undefined) {\n    var grade = Caml_option.valFromOption(gradeReceived);\n    resultModifier = Caml_obj.caml_greaterthan(pillGrade, grade) ? \"\" : Caml_obj.caml_lessthan(grade, passGrade) ? \" grade-bar__grade-pill--failed\" : \" grade-bar__grade-pill--passed\";\n  } else {\n    resultModifier = \"\";\n  }\n\n  var selectableModifier = callBack !== undefined ? Caml_obj.caml_lessthan(pillGrade, passGrade) ? \" grade-bar__grade-pill--selectable-fail cursor-pointer\" : \" grade-bar__grade-pill--selectable-pass cursor-pointer\" : \"\";\n  return \"grade-bar__grade-pill cursor-auto\" + (resultModifier + selectableModifier);\n}\n\nfunction gradeBarHeader(grading, gradeLabels) {\n  var match = CoursesCurriculum__Grading.grade(grading);\n  return React.createElement(\"div\", {\n    className: \"grade-bar__header pb-1\"\n  }, gradeDescription(gradeLabels, grading), match !== undefined ? React.createElement(\"div\", {\n    className: \"grade-bar__grade font-semibold\"\n  }, String(match) + (\"/\" + String(GradeLabel.maxGrade(gradeLabels)))) : null);\n}\n\nfunction handleClick(gradeSelectCB, grading, newGrade) {\n  if (gradeSelectCB !== undefined) {\n    return Curry._1(gradeSelectCB, CoursesCurriculum__Grading.updateGrade(newGrade, grading));\n  } else {\n    return (\n      /* () */\n      0\n    );\n  }\n}\n\nfunction gradeBarPill(gradeLabel, grading, gradeSelectCB, passGrade) {\n  var myGrade = GradeLabel.grade(gradeLabel);\n  return React.createElement(\"div\", {\n    key: String(myGrade),\n    className: gradePillClasses(CoursesCurriculum__Grading.grade(grading), passGrade, myGrade, gradeSelectCB),\n    role: \"button\",\n    title: GradeLabel.label(gradeLabel),\n    onClick: function onClick(_event) {\n      return handleClick(gradeSelectCB, grading, myGrade);\n    }\n  }, gradeSelectCB !== undefined ? String(myGrade) : null);\n}\n\nfunction gradeBarPanel(grading, gradeLabels, gradeSelectCB, passGrade) {\n  return React.createElement(\"div\", {\n    className: \"grade-bar__track\",\n    role: \"group\"\n  }, $$Array.of_list(List.map(function (gradeLabel) {\n    return gradeBarPill(gradeLabel, grading, gradeSelectCB, passGrade);\n  }, gradeLabels)));\n}\n\nfunction CoursesCurriculum__GradeBar(Props) {\n  var grading = Props.grading;\n  var gradeSelectCB = Props.gradeSelectCB;\n  var criterion = Props.criterion;\n  var gradeLabels = $$Array.to_list(EvaluationCriterion.gradesAndLabels(criterion));\n  var passGrade = EvaluationCriterion.passGrade(criterion);\n  return React.createElement(\"div\", {\n    className: \"flex-column\",\n    role: \"toolbar\"\n  }, gradeBarHeader(grading, gradeLabels), gradeBarPanel(grading, gradeLabels, gradeSelectCB, passGrade));\n}\n\nvar make = CoursesCurriculum__GradeBar;\nexports.str = str;\nexports.gradeDescription = gradeDescription;\nexports.maxGrade = maxGrade;\nexports.gradePillClasses = gradePillClasses;\nexports.gradeBarHeader = gradeBarHeader;\nexports.handleClick = handleClick;\nexports.gradeBarPill = gradeBarPill;\nexports.gradeBarPanel = gradeBarPanel;\nexports.make = make;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/curricula/components/CoursesCurriculum__GradeBar.bs.js"],"names":["List","require","$$Array","Curry","React","Caml_obj","GradeLabel","Caml_option","EvaluationCriterion","CoursesCurriculum__Grading","str","prim","gradeDescription","gradeLabels","grading","match","grade","createElement","className","criterionName","undefined","labelFor","maxGrade","String","gradePillClasses","gradeReceived","passGrade","pillGrade","callBack","resultModifier","valFromOption","caml_greaterthan","caml_lessthan","selectableModifier","gradeBarHeader","handleClick","gradeSelectCB","newGrade","_1","updateGrade","gradeBarPill","gradeLabel","myGrade","key","role","title","label","onClick","_event","gradeBarPanel","of_list","map","CoursesCurriculum__GradeBar","Props","criterion","to_list","gradesAndLabels","make","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar GradeLabel = require(\"../../../shared/types/GradeLabel.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\nvar CoursesCurriculum__Grading = require(\"../types/CoursesCurriculum__Grading.bs.js\");\n\n((require(\"./CoursesCurriculum__GradeBar.scss\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction gradeDescription(gradeLabels, grading) {\n  var match = CoursesCurriculum__Grading.grade(grading);\n  return React.createElement(\"div\", {\n              className: \"grade-bar__criterion-name\"\n            }, CoursesCurriculum__Grading.criterionName(grading), match !== undefined ? React.createElement(\"span\", undefined, \": \", React.createElement(\"span\", {\n                        className: \"grade-bar__grade-label\"\n                      }, GradeLabel.labelFor(gradeLabels, match))) : null);\n}\n\nfunction maxGrade(gradeLabels) {\n  return String(GradeLabel.maxGrade(gradeLabels));\n}\n\nfunction gradePillClasses(gradeReceived, passGrade, pillGrade, callBack) {\n  var resultModifier;\n  if (gradeReceived !== undefined) {\n    var grade = Caml_option.valFromOption(gradeReceived);\n    resultModifier = Caml_obj.caml_greaterthan(pillGrade, grade) ? \"\" : (\n        Caml_obj.caml_lessthan(grade, passGrade) ? \" grade-bar__grade-pill--failed\" : \" grade-bar__grade-pill--passed\"\n      );\n  } else {\n    resultModifier = \"\";\n  }\n  var selectableModifier = callBack !== undefined ? (\n      Caml_obj.caml_lessthan(pillGrade, passGrade) ? \" grade-bar__grade-pill--selectable-fail cursor-pointer\" : \" grade-bar__grade-pill--selectable-pass cursor-pointer\"\n    ) : \"\";\n  return \"grade-bar__grade-pill cursor-auto\" + (resultModifier + selectableModifier);\n}\n\nfunction gradeBarHeader(grading, gradeLabels) {\n  var match = CoursesCurriculum__Grading.grade(grading);\n  return React.createElement(\"div\", {\n              className: \"grade-bar__header pb-1\"\n            }, gradeDescription(gradeLabels, grading), match !== undefined ? React.createElement(\"div\", {\n                    className: \"grade-bar__grade font-semibold\"\n                  }, String(match) + (\"/\" + String(GradeLabel.maxGrade(gradeLabels)))) : null);\n}\n\nfunction handleClick(gradeSelectCB, grading, newGrade) {\n  if (gradeSelectCB !== undefined) {\n    return Curry._1(gradeSelectCB, CoursesCurriculum__Grading.updateGrade(newGrade, grading));\n  } else {\n    return /* () */0;\n  }\n}\n\nfunction gradeBarPill(gradeLabel, grading, gradeSelectCB, passGrade) {\n  var myGrade = GradeLabel.grade(gradeLabel);\n  return React.createElement(\"div\", {\n              key: String(myGrade),\n              className: gradePillClasses(CoursesCurriculum__Grading.grade(grading), passGrade, myGrade, gradeSelectCB),\n              role: \"button\",\n              title: GradeLabel.label(gradeLabel),\n              onClick: (function (_event) {\n                  return handleClick(gradeSelectCB, grading, myGrade);\n                })\n            }, gradeSelectCB !== undefined ? String(myGrade) : null);\n}\n\nfunction gradeBarPanel(grading, gradeLabels, gradeSelectCB, passGrade) {\n  return React.createElement(\"div\", {\n              className: \"grade-bar__track\",\n              role: \"group\"\n            }, $$Array.of_list(List.map((function (gradeLabel) {\n                        return gradeBarPill(gradeLabel, grading, gradeSelectCB, passGrade);\n                      }), gradeLabels)));\n}\n\nfunction CoursesCurriculum__GradeBar(Props) {\n  var grading = Props.grading;\n  var gradeSelectCB = Props.gradeSelectCB;\n  var criterion = Props.criterion;\n  var gradeLabels = $$Array.to_list(EvaluationCriterion.gradesAndLabels(criterion));\n  var passGrade = EvaluationCriterion.passGrade(criterion);\n  return React.createElement(\"div\", {\n              className: \"flex-column\",\n              role: \"toolbar\"\n            }, gradeBarHeader(grading, gradeLabels), gradeBarPanel(grading, gradeLabels, gradeSelectCB, passGrade));\n}\n\nvar make = CoursesCurriculum__GradeBar;\n\nexports.str = str;\nexports.gradeDescription = gradeDescription;\nexports.maxGrade = maxGrade;\nexports.gradePillClasses = gradePillClasses;\nexports.gradeBarHeader = gradeBarHeader;\nexports.handleClick = handleClick;\nexports.gradeBarPill = gradeBarPill;\nexports.gradeBarPanel = gradeBarPanel;\nexports.make = make;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}