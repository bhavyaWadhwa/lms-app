{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Link = require(\"../../../../shared/components/Link.bs.js\");\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\n\nvar CurriculumEditor__Course = require(\"../../types/curriculum_editor/CurriculumEditor__Course.bs.js\");\n\nvar CurriculumEditor__Target = require(\"../../types/curriculum_editor/CurriculumEditor__Target.bs.js\");\n\nvar CurriculumEditor__SortResourcesMutation = require(\"../../utils/curriculum_editor/CurriculumEditor__SortResourcesMutation.bs.js\");\n\nrequire(\"./CurriculumEditor__TargetShow.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction targetClasses(target, targets) {\n  var match = List.length(targets) === 1;\n  var match$1 = CurriculumEditor__Target.visibility(target);\n  return \"target-group__target flex justify-between items-center pl-2 pr-5 \" + (match ? match$1 >= 2 ? \"target-group__target--archived py-4 pl-5\" : \"py-6 pl-5\" : match$1 >= 2 ? \"target-group__target--archived py-4\" : \"py-6\");\n}\n\nfunction updateSortIndex(targets, target, up, updateTargetSortIndexCB) {\n  var newTargets = ListUtils.swap(up, target, targets);\n  var targetIds = $$Array.of_list(List.map(CurriculumEditor__Target.id, newTargets));\n  CurriculumEditor__SortResourcesMutation.sort(\n  /* Target */\n  0, targetIds);\n  return Curry._1(updateTargetSortIndexCB, newTargets);\n}\n\nfunction sortIndexHiddenClass(bool) {\n  if (bool) {\n    return \" invisible\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction editorLink(linkPrefix, linkSuffix, target, iconClass) {\n  var link = linkPrefix + linkSuffix;\n  return React.createElement(Link.make, {\n    href: link,\n    className: \"curriculum-editor__target-show-quick-link text-gray-400 border-l border-transparent py-6 px-3 hover:bg-gray-200\",\n    title: \"Edit \" + (linkSuffix + (\" of target \" + CurriculumEditor__Target.title(target))),\n    children: React.createElement(\"i\", {\n      className: \"fas fa-fw \" + iconClass\n    })\n  });\n}\n\nfunction CurriculumEditor__TargetShow(Props) {\n  var target = Props.target;\n  var targets = Props.targets;\n  var updateTargetSortIndexCB = Props.updateTargetSortIndexCB;\n  var index = Props.index;\n  var course = Props.course;\n  var linkPrefix = \"/school/courses/\" + (CurriculumEditor__Course.id(course) + (\"/targets/\" + (CurriculumEditor__Target.id(target) + \"/\")));\n  var tmp;\n\n  if (List.length(targets) === 1) {\n    tmp = null;\n  } else {\n    var bool = (index + 1 | 0) === List.length(targets);\n    tmp = React.createElement(\"div\", {\n      className: \"target-group__target-reorder relative flex flex-col z-10 h-full border-r border-transparent text-gray-700 justify-between items-center\"\n    }, React.createElement(\"div\", {\n      className: \"target-group__target-reorder-up flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (index === 0 ? \" invisible\" : \"\"),\n      id: \"target-move-up-\" + CurriculumEditor__Target.id(target),\n      title: \"Move Up\",\n      onClick: function onClick(param) {\n        return updateSortIndex(targets, target, true, updateTargetSortIndexCB);\n      }\n    }, React.createElement(\"i\", {\n      className: \"fas fa-arrow-up text-sm\"\n    })), React.createElement(\"div\", {\n      className: \"target-group__target-reorder-down flex items-center justify-center cursor-pointer w-9 h-9 p-1 border-t border-transparent text-gray-400 hover:bg-gray-200\" + (bool ? \" invisible\" : \"\"),\n      id: \"target-move-down-\" + CurriculumEditor__Target.id(target),\n      title: \"Move Down\",\n      onClick: function onClick(param) {\n        return updateSortIndex(targets, target, false, updateTargetSortIndexCB);\n      }\n    }, React.createElement(\"i\", {\n      className: \"fas fa-arrow-down text-sm\"\n    })));\n  }\n\n  var match = CurriculumEditor__Target.visibility(target);\n  return React.createElement(\"div\", {\n    className: \"flex target-group__target-container border-t bg-white overflow-hidden relative hover:bg-gray-100 hover:text-primary-500\"\n  }, tmp, React.createElement(Link.make, {\n    href: linkPrefix + \"content\",\n    className: targetClasses(target, targets),\n    id: \"target-show-\" + CurriculumEditor__Target.id(target),\n    title: \"Edit content of target \" + CurriculumEditor__Target.title(target),\n    children: null\n  }, React.createElement(\"p\", {\n    className: \"font-semibold text-sm\"\n  }, CurriculumEditor__Target.title(target)), React.createElement(\"div\", {\n    className: \"items-center\"\n  }, match !== 0 ? null : React.createElement(\"span\", {\n    className: \"target-group__target-draft-pill leading-tight text-xs py-1 px-2 font-semibold rounded-lg border bg-blue-100 text-blue-700 border-blue-400 mr-2 whitespace-no-wrap\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-file-signature text-sm\"\n  }), React.createElement(\"span\", {\n    className: \"ml-1\"\n  }, \"Draft\")))), editorLink(linkPrefix, \"details\", target, \"fa-list-alt\"), editorLink(linkPrefix, \"versions\", target, \"fa-code-branch\"));\n}\n\nvar make = CurriculumEditor__TargetShow;\nexports.str = str;\nexports.targetClasses = targetClasses;\nexports.updateSortIndex = updateSortIndex;\nexports.sortIndexHiddenClass = sortIndexHiddenClass;\nexports.editorLink = editorLink;\nexports.make = make;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/curriculum_editor/CurriculumEditor__TargetShow.bs.js"],"names":["Link","require","List","$$Array","Curry","React","ListUtils","CurriculumEditor__Course","CurriculumEditor__Target","CurriculumEditor__SortResourcesMutation","str","prim","targetClasses","target","targets","match","length","match$1","visibility","updateSortIndex","up","updateTargetSortIndexCB","newTargets","swap","targetIds","of_list","map","id","sort","_1","sortIndexHiddenClass","bool","editorLink","linkPrefix","linkSuffix","iconClass","link","createElement","make","href","className","title","children","CurriculumEditor__TargetShow","Props","index","course","tmp","onClick","param","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Link = require(\"../../../../shared/components/Link.bs.js\");\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\nvar CurriculumEditor__Course = require(\"../../types/curriculum_editor/CurriculumEditor__Course.bs.js\");\nvar CurriculumEditor__Target = require(\"../../types/curriculum_editor/CurriculumEditor__Target.bs.js\");\nvar CurriculumEditor__SortResourcesMutation = require(\"../../utils/curriculum_editor/CurriculumEditor__SortResourcesMutation.bs.js\");\n\n((require(\"./CurriculumEditor__TargetShow.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction targetClasses(target, targets) {\n  var match = List.length(targets) === 1;\n  var match$1 = CurriculumEditor__Target.visibility(target);\n  return \"target-group__target flex justify-between items-center pl-2 pr-5 \" + (\n          match ? (\n              match$1 >= 2 ? \"target-group__target--archived py-4 pl-5\" : \"py-6 pl-5\"\n            ) : (\n              match$1 >= 2 ? \"target-group__target--archived py-4\" : \"py-6\"\n            )\n        );\n}\n\nfunction updateSortIndex(targets, target, up, updateTargetSortIndexCB) {\n  var newTargets = ListUtils.swap(up, target, targets);\n  var targetIds = $$Array.of_list(List.map(CurriculumEditor__Target.id, newTargets));\n  CurriculumEditor__SortResourcesMutation.sort(/* Target */0, targetIds);\n  return Curry._1(updateTargetSortIndexCB, newTargets);\n}\n\nfunction sortIndexHiddenClass(bool) {\n  if (bool) {\n    return \" invisible\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction editorLink(linkPrefix, linkSuffix, target, iconClass) {\n  var link = linkPrefix + linkSuffix;\n  return React.createElement(Link.make, {\n              href: link,\n              className: \"curriculum-editor__target-show-quick-link text-gray-400 border-l border-transparent py-6 px-3 hover:bg-gray-200\",\n              title: \"Edit \" + (linkSuffix + (\" of target \" + CurriculumEditor__Target.title(target))),\n              children: React.createElement(\"i\", {\n                    className: \"fas fa-fw \" + iconClass\n                  })\n            });\n}\n\nfunction CurriculumEditor__TargetShow(Props) {\n  var target = Props.target;\n  var targets = Props.targets;\n  var updateTargetSortIndexCB = Props.updateTargetSortIndexCB;\n  var index = Props.index;\n  var course = Props.course;\n  var linkPrefix = \"/school/courses/\" + (CurriculumEditor__Course.id(course) + (\"/targets/\" + (CurriculumEditor__Target.id(target) + \"/\")));\n  var tmp;\n  if (List.length(targets) === 1) {\n    tmp = null;\n  } else {\n    var bool = (index + 1 | 0) === List.length(targets);\n    tmp = React.createElement(\"div\", {\n          className: \"target-group__target-reorder relative flex flex-col z-10 h-full border-r border-transparent text-gray-700 justify-between items-center\"\n        }, React.createElement(\"div\", {\n              className: \"target-group__target-reorder-up flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (\n                index === 0 ? \" invisible\" : \"\"\n              ),\n              id: \"target-move-up-\" + CurriculumEditor__Target.id(target),\n              title: \"Move Up\",\n              onClick: (function (param) {\n                  return updateSortIndex(targets, target, true, updateTargetSortIndexCB);\n                })\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-arrow-up text-sm\"\n                })), React.createElement(\"div\", {\n              className: \"target-group__target-reorder-down flex items-center justify-center cursor-pointer w-9 h-9 p-1 border-t border-transparent text-gray-400 hover:bg-gray-200\" + (\n                bool ? \" invisible\" : \"\"\n              ),\n              id: \"target-move-down-\" + CurriculumEditor__Target.id(target),\n              title: \"Move Down\",\n              onClick: (function (param) {\n                  return updateSortIndex(targets, target, false, updateTargetSortIndexCB);\n                })\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-arrow-down text-sm\"\n                })));\n  }\n  var match = CurriculumEditor__Target.visibility(target);\n  return React.createElement(\"div\", {\n              className: \"flex target-group__target-container border-t bg-white overflow-hidden relative hover:bg-gray-100 hover:text-primary-500\"\n            }, tmp, React.createElement(Link.make, {\n                  href: linkPrefix + \"content\",\n                  className: targetClasses(target, targets),\n                  id: \"target-show-\" + CurriculumEditor__Target.id(target),\n                  title: \"Edit content of target \" + CurriculumEditor__Target.title(target),\n                  children: null\n                }, React.createElement(\"p\", {\n                      className: \"font-semibold text-sm\"\n                    }, CurriculumEditor__Target.title(target)), React.createElement(\"div\", {\n                      className: \"items-center\"\n                    }, match !== 0 ? null : React.createElement(\"span\", {\n                            className: \"target-group__target-draft-pill leading-tight text-xs py-1 px-2 font-semibold rounded-lg border bg-blue-100 text-blue-700 border-blue-400 mr-2 whitespace-no-wrap\"\n                          }, React.createElement(\"i\", {\n                                className: \"fas fa-file-signature text-sm\"\n                              }), React.createElement(\"span\", {\n                                className: \"ml-1\"\n                              }, \"Draft\")))), editorLink(linkPrefix, \"details\", target, \"fa-list-alt\"), editorLink(linkPrefix, \"versions\", target, \"fa-code-branch\"));\n}\n\nvar make = CurriculumEditor__TargetShow;\n\nexports.str = str;\nexports.targetClasses = targetClasses;\nexports.updateSortIndex = updateSortIndex;\nexports.sortIndexHiddenClass = sortIndexHiddenClass;\nexports.editorLink = editorLink;\nexports.make = make;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}