{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\n\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar StudentsEditor__Student = require(\"./StudentsEditor__Student.bs.js\");\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction coachIds(t) {\n  return t.coachIds;\n}\n\nfunction accessEndsAt(t) {\n  return t.accessEndsAt;\n}\n\nfunction levelId(t) {\n  return t.levelId;\n}\n\nfunction students(t) {\n  return t.students;\n}\n\nfunction isSingleStudent(t) {\n  return t.students.length === 1;\n}\n\nfunction make(id, name, students, coachIds, levelId, accessEndsAt) {\n  return {\n    id: id,\n    name: name,\n    coachIds: coachIds,\n    levelId: levelId,\n    accessEndsAt: accessEndsAt,\n    students: students\n  };\n}\n\nfunction makeFromJS(teamDetails) {\n  return teamDetails.map(function (team) {\n    if (team !== undefined) {\n      var team$1 = Caml_option.valFromOption(team);\n      var students = $$Array.map(StudentsEditor__Student.makeFromJS, team$1.students);\n      var coachIds = $$Array.map(function (cids) {\n        return cids;\n      }, team$1.coachIds);\n      return (\n        /* :: */\n        [make(team$1.id, team$1.name, students, coachIds, team$1.levelId, Belt_Option.map(team$1.accessEndsAt, DateFns.decodeISO)),\n        /* [] */\n        0]\n      );\n    } else {\n      return (\n        /* [] */\n        0\n      );\n    }\n  });\n}\n\nfunction update(name, student, coachIds, accessEndsAt, team) {\n  var students = $$Array.map(function (s) {\n    if (StudentsEditor__Student.id(s) === StudentsEditor__Student.id(student)) {\n      return student;\n    } else {\n      return s;\n    }\n  }, team.students);\n  return {\n    id: team.id,\n    name: name,\n    coachIds: coachIds,\n    levelId: team.levelId,\n    accessEndsAt: accessEndsAt,\n    students: students\n  };\n}\n\nfunction replaceTeam(team, teams) {\n  return $$Array.map(function (t) {\n    if (t.id === team.id) {\n      return team;\n    } else {\n      return t;\n    }\n  }, teams);\n}\n\nfunction unsafeFind(teams, componentName, teamId) {\n  return ArrayUtils.unsafeFind(function (team) {\n    return team.id === teamId;\n  }, \"Unable to find team with id: \" + (teamId + (\"in StudentdEditor__\" + componentName)), teams);\n}\n\nfunction active(t) {\n  return Belt_Option.mapWithDefault(t.accessEndsAt, true, DateFns.isFuture);\n}\n\nexports.id = id;\nexports.name = name;\nexports.coachIds = coachIds;\nexports.accessEndsAt = accessEndsAt;\nexports.levelId = levelId;\nexports.students = students;\nexports.isSingleStudent = isSingleStudent;\nexports.make = make;\nexports.makeFromJS = makeFromJS;\nexports.update = update;\nexports.replaceTeam = replaceTeam;\nexports.unsafeFind = unsafeFind;\nexports.active = active;\n/* DateFns Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/types/students_editor/StudentsEditor__Team.bs.js"],"names":["$$Array","require","DateFns","ArrayUtils","Belt_Option","Caml_option","StudentsEditor__Student","id","t","name","coachIds","accessEndsAt","levelId","students","isSingleStudent","length","make","makeFromJS","teamDetails","map","team","undefined","team$1","valFromOption","cids","decodeISO","update","student","s","replaceTeam","teams","unsafeFind","componentName","teamId","active","mapWithDefault","isFuture","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar DateFns = require(\"../../../../shared/utils/DateFns.bs.js\");\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\nvar Belt_Option = require(\"bs-platform/lib/js/belt_Option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar StudentsEditor__Student = require(\"./StudentsEditor__Student.bs.js\");\n\nfunction id(t) {\n  return t.id;\n}\n\nfunction name(t) {\n  return t.name;\n}\n\nfunction coachIds(t) {\n  return t.coachIds;\n}\n\nfunction accessEndsAt(t) {\n  return t.accessEndsAt;\n}\n\nfunction levelId(t) {\n  return t.levelId;\n}\n\nfunction students(t) {\n  return t.students;\n}\n\nfunction isSingleStudent(t) {\n  return t.students.length === 1;\n}\n\nfunction make(id, name, students, coachIds, levelId, accessEndsAt) {\n  return {\n          id: id,\n          name: name,\n          coachIds: coachIds,\n          levelId: levelId,\n          accessEndsAt: accessEndsAt,\n          students: students\n        };\n}\n\nfunction makeFromJS(teamDetails) {\n  return teamDetails.map((function (team) {\n                if (team !== undefined) {\n                  var team$1 = Caml_option.valFromOption(team);\n                  var students = $$Array.map(StudentsEditor__Student.makeFromJS, team$1.students);\n                  var coachIds = $$Array.map((function (cids) {\n                          return cids;\n                        }), team$1.coachIds);\n                  return /* :: */[\n                          make(team$1.id, team$1.name, students, coachIds, team$1.levelId, Belt_Option.map(team$1.accessEndsAt, DateFns.decodeISO)),\n                          /* [] */0\n                        ];\n                } else {\n                  return /* [] */0;\n                }\n              }));\n}\n\nfunction update(name, student, coachIds, accessEndsAt, team) {\n  var students = $$Array.map((function (s) {\n          if (StudentsEditor__Student.id(s) === StudentsEditor__Student.id(student)) {\n            return student;\n          } else {\n            return s;\n          }\n        }), team.students);\n  return {\n          id: team.id,\n          name: name,\n          coachIds: coachIds,\n          levelId: team.levelId,\n          accessEndsAt: accessEndsAt,\n          students: students\n        };\n}\n\nfunction replaceTeam(team, teams) {\n  return $$Array.map((function (t) {\n                if (t.id === team.id) {\n                  return team;\n                } else {\n                  return t;\n                }\n              }), teams);\n}\n\nfunction unsafeFind(teams, componentName, teamId) {\n  return ArrayUtils.unsafeFind((function (team) {\n                return team.id === teamId;\n              }), \"Unable to find team with id: \" + (teamId + (\"in StudentdEditor__\" + componentName)), teams);\n}\n\nfunction active(t) {\n  return Belt_Option.mapWithDefault(t.accessEndsAt, true, DateFns.isFuture);\n}\n\nexports.id = id;\nexports.name = name;\nexports.coachIds = coachIds;\nexports.accessEndsAt = accessEndsAt;\nexports.levelId = levelId;\nexports.students = students;\nexports.isSingleStudent = isSingleStudent;\nexports.make = make;\nexports.makeFromJS = makeFromJS;\nexports.update = update;\nexports.replaceTeam = replaceTeam;\nexports.unsafeFind = unsafeFind;\nexports.active = active;\n/* DateFns Not a pure module */\n"]},"metadata":{},"sourceType":"module"}