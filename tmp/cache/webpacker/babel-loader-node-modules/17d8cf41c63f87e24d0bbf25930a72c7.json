{"ast":null,"code":"'use strict';\n\nfunction markdownitLinkifyImages(md, config) {\n  md.renderer.rules.image = function (tokens, idx, options, env, self) {\n    config = config || {};\n    var token = tokens[idx];\n    var srcIndex = token.attrIndex('src');\n    var url = token.attrs[srcIndex][1];\n    var title = '';\n    var caption = md.utils.escapeHtml(token.content);\n    var target = generateTargetAttribute(config.target);\n    var linkClass = generateClass(config.linkClass);\n    var imgClass = generateClass(config.imgClass);\n\n    if (token.attrIndex('title') !== -1) {\n      title = ' title=\"' + md.utils.escapeHtml(token.attrs[token.attrIndex('title')][1]) + '\"';\n    }\n\n    return '' + '<a href=\"' + url + '\"' + linkClass + target + '>' + '<img src=\"' + url + '\" alt=\"' + caption + '\"' + imgClass + title + '>' + '</a>';\n  };\n}\n\nfunction generateTargetAttribute(target) {\n  target = target || '_self';\n  return ' target=\"' + target + '\"';\n}\n\nfunction generateClass(className) {\n  if (!className) return '';\n  return ' class=\"' + className + '\"';\n}\n\nmodule.exports = markdownitLinkifyImages;","map":null,"metadata":{},"sourceType":"module"}