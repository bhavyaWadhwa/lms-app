{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar $$String = require(\"bs-platform/lib/js/string.js\");\n\nvar Pervasives = require(\"bs-platform/lib/js/pervasives.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\n\nvar UnknownKindOfLink = Caml_exceptions.create(\"SchoolCustomize__Customizations.UnknownKindOfLink\");\n\nfunction logoOnLightBg(t) {\n  return t.schoolImages.logoOnLightBg;\n}\n\nfunction icon(t) {\n  return t.schoolImages.icon;\n}\n\nfunction coverImage(t) {\n  return t.schoolImages.coverImage;\n}\n\nfunction url(file) {\n  return file.url;\n}\n\nfunction filename(file) {\n  return file.filename;\n}\n\nfunction address(t) {\n  return t.schoolStrings.address;\n}\n\nfunction emailAddress(t) {\n  return t.schoolStrings.emailAddress;\n}\n\nfunction privacyPolicy(t) {\n  return t.schoolStrings.privacyPolicy;\n}\n\nfunction termsOfUse(t) {\n  return t.schoolStrings.termsOfUse;\n}\n\nfunction headerLinks(t) {\n  return List.filter(function (l) {\n    switch (l.tag | 0) {\n      case\n      /* HeaderLink */\n      0:\n        return true;\n\n      case\n      /* FooterLink */\n      1:\n      case\n      /* SocialLink */\n      2:\n        return false;\n    }\n  })(t.links);\n}\n\nfunction footerLinks(t) {\n  return List.filter(function (l) {\n    switch (l.tag | 0) {\n      case\n      /* FooterLink */\n      1:\n        return true;\n\n      case\n      /* HeaderLink */\n      0:\n      case\n      /* SocialLink */\n      2:\n        return false;\n    }\n  })(t.links);\n}\n\nfunction socialLinks(t) {\n  return List.filter(function (l) {\n    switch (l.tag | 0) {\n      case\n      /* HeaderLink */\n      0:\n      case\n      /* FooterLink */\n      1:\n        return false;\n\n      case\n      /* SocialLink */\n      2:\n        return true;\n    }\n  })(t.links);\n}\n\nfunction unpackLinks(links) {\n  return List.map(function (l) {\n    switch (l.tag | 0) {\n      case\n      /* HeaderLink */\n      0:\n      case\n      /* FooterLink */\n      1:\n        break;\n\n      case\n      /* SocialLink */\n      2:\n        return (\n          /* tuple */\n          [l[0], \"\", l[1]]\n        );\n    }\n\n    return (\n      /* tuple */\n      [l[0], l[1], l[2]]\n    );\n  }, links);\n}\n\nfunction addLink(link, t) {\n  return {\n    schoolStrings: t.schoolStrings,\n    schoolImages: t.schoolImages,\n    links: Pervasives.$at(t.links,\n    /* :: */\n    [link,\n    /* [] */\n    0])\n  };\n}\n\nfunction removeLink(linkId, t) {\n  return {\n    schoolStrings: t.schoolStrings,\n    schoolImages: t.schoolImages,\n    links: List.filter(function (l) {\n      switch (l.tag | 0) {\n        case\n        /* HeaderLink */\n        0:\n        case\n        /* FooterLink */\n        1:\n        case\n        /* SocialLink */\n        2:\n          return l[0] !== linkId;\n      }\n    })(t.links)\n  };\n}\n\nfunction optionalString(s) {\n  var nonEmptyString = $$String.trim(s);\n\n  if (nonEmptyString === \"\") {\n    return;\n  } else {\n    return nonEmptyString;\n  }\n}\n\nfunction updatePrivacyPolicy(privacyPolicy, t) {\n  var init = t.schoolStrings;\n  return {\n    schoolStrings: {\n      address: init.address,\n      emailAddress: init.emailAddress,\n      privacyPolicy: optionalString(privacyPolicy),\n      termsOfUse: init.termsOfUse\n    },\n    schoolImages: t.schoolImages,\n    links: t.links\n  };\n}\n\nfunction updateTermsOfUse(termsOfUse, t) {\n  var init = t.schoolStrings;\n  return {\n    schoolStrings: {\n      address: init.address,\n      emailAddress: init.emailAddress,\n      privacyPolicy: init.privacyPolicy,\n      termsOfUse: optionalString(termsOfUse)\n    },\n    schoolImages: t.schoolImages,\n    links: t.links\n  };\n}\n\nfunction updateAddress(address, t) {\n  var init = t.schoolStrings;\n  return {\n    schoolStrings: {\n      address: optionalString(address),\n      emailAddress: init.emailAddress,\n      privacyPolicy: init.privacyPolicy,\n      termsOfUse: init.termsOfUse\n    },\n    schoolImages: t.schoolImages,\n    links: t.links\n  };\n}\n\nfunction updateEmailAddress(emailAddress, t) {\n  var init = t.schoolStrings;\n  return {\n    schoolStrings: {\n      address: init.address,\n      emailAddress: optionalString(emailAddress),\n      privacyPolicy: init.privacyPolicy,\n      termsOfUse: init.termsOfUse\n    },\n    schoolImages: t.schoolImages,\n    links: t.links\n  };\n}\n\nfunction decodeFile(json) {\n  return {\n    url: Json_decode.field(\"url\", Json_decode.string, json),\n    filename: Json_decode.field(\"filename\", Json_decode.string, json)\n  };\n}\n\nfunction decodeImages(json) {\n  return {\n    logoOnLightBg: Json_decode.field(\"logoOnLightBg\", function (param) {\n      return Json_decode.optional(decodeFile, param);\n    }, json),\n    coverImage: Json_decode.field(\"coverImage\", function (param) {\n      return Json_decode.optional(decodeFile, param);\n    }, json),\n    icon: Json_decode.field(\"icon\", decodeFile, json)\n  };\n}\n\nfunction updateImages(json, t) {\n  return {\n    schoolStrings: t.schoolStrings,\n    schoolImages: decodeImages(json),\n    links: t.links\n  };\n}\n\nfunction decodeStrings(json) {\n  return {\n    address: Json_decode.field(\"address\", function (param) {\n      return Json_decode.optional(Json_decode.string, param);\n    }, json),\n    emailAddress: Json_decode.field(\"emailAddress\", function (param) {\n      return Json_decode.optional(Json_decode.string, param);\n    }, json),\n    privacyPolicy: Json_decode.field(\"privacyPolicy\", function (param) {\n      return Json_decode.optional(Json_decode.string, param);\n    }, json),\n    termsOfUse: Json_decode.field(\"termsOfUse\", function (param) {\n      return Json_decode.optional(Json_decode.string, param);\n    }, json)\n  };\n}\n\nfunction decodeLink(json) {\n  var kind = Json_decode.field(\"kind\", Json_decode.string, json);\n  var id = Json_decode.field(\"id\", Json_decode.string, json);\n  var url = Json_decode.field(\"url\", Json_decode.string, json);\n  var title;\n\n  switch (kind) {\n    case \"footer\":\n    case \"header\":\n      title = Json_decode.field(\"title\", Json_decode.string, json);\n      break;\n\n    default:\n      title = \"\";\n  }\n\n  switch (kind) {\n    case \"footer\":\n      return (\n        /* FooterLink */\n        Block.__(1, [id, title, url])\n      );\n\n    case \"header\":\n      return (\n        /* HeaderLink */\n        Block.__(0, [id, title, url])\n      );\n\n    case \"social\":\n      return (\n        /* SocialLink */\n        Block.__(2, [id, url])\n      );\n\n    default:\n      throw [UnknownKindOfLink, kind];\n  }\n}\n\nfunction decode(json) {\n  return {\n    schoolStrings: Json_decode.field(\"strings\", decodeStrings, json),\n    schoolImages: Json_decode.field(\"images\", decodeImages, json),\n    links: Json_decode.field(\"links\", function (param) {\n      return Json_decode.list(decodeLink, param);\n    }, json)\n  };\n}\n\nexports.UnknownKindOfLink = UnknownKindOfLink;\nexports.logoOnLightBg = logoOnLightBg;\nexports.icon = icon;\nexports.coverImage = coverImage;\nexports.url = url;\nexports.filename = filename;\nexports.address = address;\nexports.emailAddress = emailAddress;\nexports.privacyPolicy = privacyPolicy;\nexports.termsOfUse = termsOfUse;\nexports.headerLinks = headerLinks;\nexports.footerLinks = footerLinks;\nexports.socialLinks = socialLinks;\nexports.unpackLinks = unpackLinks;\nexports.addLink = addLink;\nexports.removeLink = removeLink;\nexports.optionalString = optionalString;\nexports.updatePrivacyPolicy = updatePrivacyPolicy;\nexports.updateTermsOfUse = updateTermsOfUse;\nexports.updateAddress = updateAddress;\nexports.updateEmailAddress = updateEmailAddress;\nexports.decodeFile = decodeFile;\nexports.decodeImages = decodeImages;\nexports.updateImages = updateImages;\nexports.decodeStrings = decodeStrings;\nexports.decodeLink = decodeLink;\nexports.decode = decode;\n/* No side effect */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/settings/types/SchoolCustomize__Customizations.bs.js"],"names":["List","require","Block","$$String","Pervasives","Json_decode","Caml_exceptions","UnknownKindOfLink","create","logoOnLightBg","t","schoolImages","icon","coverImage","url","file","filename","address","schoolStrings","emailAddress","privacyPolicy","termsOfUse","headerLinks","filter","l","tag","links","footerLinks","socialLinks","unpackLinks","map","addLink","link","$at","removeLink","linkId","optionalString","s","nonEmptyString","trim","updatePrivacyPolicy","init","updateTermsOfUse","updateAddress","updateEmailAddress","decodeFile","json","field","string","decodeImages","param","optional","updateImages","decodeStrings","decodeLink","kind","id","title","__","decode","list","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar $$String = require(\"bs-platform/lib/js/string.js\");\nvar Pervasives = require(\"bs-platform/lib/js/pervasives.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar Caml_exceptions = require(\"bs-platform/lib/js/caml_exceptions.js\");\n\nvar UnknownKindOfLink = Caml_exceptions.create(\"SchoolCustomize__Customizations.UnknownKindOfLink\");\n\nfunction logoOnLightBg(t) {\n  return t.schoolImages.logoOnLightBg;\n}\n\nfunction icon(t) {\n  return t.schoolImages.icon;\n}\n\nfunction coverImage(t) {\n  return t.schoolImages.coverImage;\n}\n\nfunction url(file) {\n  return file.url;\n}\n\nfunction filename(file) {\n  return file.filename;\n}\n\nfunction address(t) {\n  return t.schoolStrings.address;\n}\n\nfunction emailAddress(t) {\n  return t.schoolStrings.emailAddress;\n}\n\nfunction privacyPolicy(t) {\n  return t.schoolStrings.privacyPolicy;\n}\n\nfunction termsOfUse(t) {\n  return t.schoolStrings.termsOfUse;\n}\n\nfunction headerLinks(t) {\n  return List.filter((function (l) {\n                  switch (l.tag | 0) {\n                    case /* HeaderLink */0 :\n                        return true;\n                    case /* FooterLink */1 :\n                    case /* SocialLink */2 :\n                        return false;\n                    \n                  }\n                }))(t.links);\n}\n\nfunction footerLinks(t) {\n  return List.filter((function (l) {\n                  switch (l.tag | 0) {\n                    case /* FooterLink */1 :\n                        return true;\n                    case /* HeaderLink */0 :\n                    case /* SocialLink */2 :\n                        return false;\n                    \n                  }\n                }))(t.links);\n}\n\nfunction socialLinks(t) {\n  return List.filter((function (l) {\n                  switch (l.tag | 0) {\n                    case /* HeaderLink */0 :\n                    case /* FooterLink */1 :\n                        return false;\n                    case /* SocialLink */2 :\n                        return true;\n                    \n                  }\n                }))(t.links);\n}\n\nfunction unpackLinks(links) {\n  return List.map((function (l) {\n                switch (l.tag | 0) {\n                  case /* HeaderLink */0 :\n                  case /* FooterLink */1 :\n                      break;\n                  case /* SocialLink */2 :\n                      return /* tuple */[\n                              l[0],\n                              \"\",\n                              l[1]\n                            ];\n                  \n                }\n                return /* tuple */[\n                        l[0],\n                        l[1],\n                        l[2]\n                      ];\n              }), links);\n}\n\nfunction addLink(link, t) {\n  return {\n          schoolStrings: t.schoolStrings,\n          schoolImages: t.schoolImages,\n          links: Pervasives.$at(t.links, /* :: */[\n                link,\n                /* [] */0\n              ])\n        };\n}\n\nfunction removeLink(linkId, t) {\n  return {\n          schoolStrings: t.schoolStrings,\n          schoolImages: t.schoolImages,\n          links: List.filter((function (l) {\n                    switch (l.tag | 0) {\n                      case /* HeaderLink */0 :\n                      case /* FooterLink */1 :\n                      case /* SocialLink */2 :\n                          return l[0] !== linkId;\n                      \n                    }\n                  }))(t.links)\n        };\n}\n\nfunction optionalString(s) {\n  var nonEmptyString = $$String.trim(s);\n  if (nonEmptyString === \"\") {\n    return ;\n  } else {\n    return nonEmptyString;\n  }\n}\n\nfunction updatePrivacyPolicy(privacyPolicy, t) {\n  var init = t.schoolStrings;\n  return {\n          schoolStrings: {\n            address: init.address,\n            emailAddress: init.emailAddress,\n            privacyPolicy: optionalString(privacyPolicy),\n            termsOfUse: init.termsOfUse\n          },\n          schoolImages: t.schoolImages,\n          links: t.links\n        };\n}\n\nfunction updateTermsOfUse(termsOfUse, t) {\n  var init = t.schoolStrings;\n  return {\n          schoolStrings: {\n            address: init.address,\n            emailAddress: init.emailAddress,\n            privacyPolicy: init.privacyPolicy,\n            termsOfUse: optionalString(termsOfUse)\n          },\n          schoolImages: t.schoolImages,\n          links: t.links\n        };\n}\n\nfunction updateAddress(address, t) {\n  var init = t.schoolStrings;\n  return {\n          schoolStrings: {\n            address: optionalString(address),\n            emailAddress: init.emailAddress,\n            privacyPolicy: init.privacyPolicy,\n            termsOfUse: init.termsOfUse\n          },\n          schoolImages: t.schoolImages,\n          links: t.links\n        };\n}\n\nfunction updateEmailAddress(emailAddress, t) {\n  var init = t.schoolStrings;\n  return {\n          schoolStrings: {\n            address: init.address,\n            emailAddress: optionalString(emailAddress),\n            privacyPolicy: init.privacyPolicy,\n            termsOfUse: init.termsOfUse\n          },\n          schoolImages: t.schoolImages,\n          links: t.links\n        };\n}\n\nfunction decodeFile(json) {\n  return {\n          url: Json_decode.field(\"url\", Json_decode.string, json),\n          filename: Json_decode.field(\"filename\", Json_decode.string, json)\n        };\n}\n\nfunction decodeImages(json) {\n  return {\n          logoOnLightBg: Json_decode.field(\"logoOnLightBg\", (function (param) {\n                  return Json_decode.optional(decodeFile, param);\n                }), json),\n          coverImage: Json_decode.field(\"coverImage\", (function (param) {\n                  return Json_decode.optional(decodeFile, param);\n                }), json),\n          icon: Json_decode.field(\"icon\", decodeFile, json)\n        };\n}\n\nfunction updateImages(json, t) {\n  return {\n          schoolStrings: t.schoolStrings,\n          schoolImages: decodeImages(json),\n          links: t.links\n        };\n}\n\nfunction decodeStrings(json) {\n  return {\n          address: Json_decode.field(\"address\", (function (param) {\n                  return Json_decode.optional(Json_decode.string, param);\n                }), json),\n          emailAddress: Json_decode.field(\"emailAddress\", (function (param) {\n                  return Json_decode.optional(Json_decode.string, param);\n                }), json),\n          privacyPolicy: Json_decode.field(\"privacyPolicy\", (function (param) {\n                  return Json_decode.optional(Json_decode.string, param);\n                }), json),\n          termsOfUse: Json_decode.field(\"termsOfUse\", (function (param) {\n                  return Json_decode.optional(Json_decode.string, param);\n                }), json)\n        };\n}\n\nfunction decodeLink(json) {\n  var kind = Json_decode.field(\"kind\", Json_decode.string, json);\n  var id = Json_decode.field(\"id\", Json_decode.string, json);\n  var url = Json_decode.field(\"url\", Json_decode.string, json);\n  var title;\n  switch (kind) {\n    case \"footer\" :\n    case \"header\" :\n        title = Json_decode.field(\"title\", Json_decode.string, json);\n        break;\n    default:\n      title = \"\";\n  }\n  switch (kind) {\n    case \"footer\" :\n        return /* FooterLink */Block.__(1, [\n                  id,\n                  title,\n                  url\n                ]);\n    case \"header\" :\n        return /* HeaderLink */Block.__(0, [\n                  id,\n                  title,\n                  url\n                ]);\n    case \"social\" :\n        return /* SocialLink */Block.__(2, [\n                  id,\n                  url\n                ]);\n    default:\n      throw [\n            UnknownKindOfLink,\n            kind\n          ];\n  }\n}\n\nfunction decode(json) {\n  return {\n          schoolStrings: Json_decode.field(\"strings\", decodeStrings, json),\n          schoolImages: Json_decode.field(\"images\", decodeImages, json),\n          links: Json_decode.field(\"links\", (function (param) {\n                  return Json_decode.list(decodeLink, param);\n                }), json)\n        };\n}\n\nexports.UnknownKindOfLink = UnknownKindOfLink;\nexports.logoOnLightBg = logoOnLightBg;\nexports.icon = icon;\nexports.coverImage = coverImage;\nexports.url = url;\nexports.filename = filename;\nexports.address = address;\nexports.emailAddress = emailAddress;\nexports.privacyPolicy = privacyPolicy;\nexports.termsOfUse = termsOfUse;\nexports.headerLinks = headerLinks;\nexports.footerLinks = footerLinks;\nexports.socialLinks = socialLinks;\nexports.unpackLinks = unpackLinks;\nexports.addLink = addLink;\nexports.removeLink = removeLink;\nexports.optionalString = optionalString;\nexports.updatePrivacyPolicy = updatePrivacyPolicy;\nexports.updateTermsOfUse = updateTermsOfUse;\nexports.updateAddress = updateAddress;\nexports.updateEmailAddress = updateEmailAddress;\nexports.decodeFile = decodeFile;\nexports.decodeImages = decodeImages;\nexports.updateImages = updateImages;\nexports.decodeStrings = decodeStrings;\nexports.decodeLink = decodeLink;\nexports.decode = decode;\n/* No side effect */\n"]},"metadata":{},"sourceType":"module"}