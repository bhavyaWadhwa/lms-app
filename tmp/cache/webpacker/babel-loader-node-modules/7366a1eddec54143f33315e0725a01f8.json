{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Link = require(\"../../../shared/components/Link.bs.js\");\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\n\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\n\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar LoadingSpinner = require(\"../../../shared/components/LoadingSpinner.bs.js\");\n\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\n\nvar CoursesReview__Level = require(\"../types/CoursesReview__Level.bs.js\");\n\nvar CoursesReview__Submissions = require(\"../types/CoursesReview__Submissions.bs.js\");\n\nvar PendingEmptySvg = require(\"../images/pending-empty.svg\");\n\nvar CoursesReview__IndexSubmission = require(\"../types/CoursesReview__IndexSubmission.bs.js\");\n\nvar ReviewedEmptySvg = require(\"../../shared/images/reviewed-empty.svg\");\n\nvar reviewedEmptyImage = ReviewedEmptySvg[\"default\"];\nvar pendingEmptyImage = PendingEmptySvg[\"default\"];\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query SubmissionsQuery($courseId: ID!, $status: SubmissionStatus!, $sortDirection: SortDirection!, $levelId: ID, $coachId: ID, $after: String)  {\\nsubmissions(courseId: $courseId, status: $status, sortDirection: $sortDirection, levelId: $levelId, coachId: $coachId, first: 20, after: $after)  {\\nnodes  {\\nid  \\ntitle  \\nuserNames  \\nevaluatedAt  \\npassedAt  \\nfeedbackSent  \\nlevelId  \\ncreatedAt  \\ntargetId  \\ncoachIds  \\n}\\n\\npageInfo  {\\nendCursor  \\nhasNextPage  \\n}\\n\\ntotalCount  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"submissions\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map(function (value) {\n        var match = Js_json.decodeNull(value);\n\n        if (match !== undefined) {\n          return;\n        } else {\n          var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n          var match$1 = Js_dict.get(value$1, \"id\");\n          var tmp;\n\n          if (match$1 !== undefined) {\n            var value$2 = Caml_option.valFromOption(match$1);\n            var match$2 = Js_json.decodeString(value$2);\n            tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n          } else {\n            tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n          }\n\n          var match$3 = Js_dict.get(value$1, \"title\");\n          var tmp$1;\n\n          if (match$3 !== undefined) {\n            var value$3 = Caml_option.valFromOption(match$3);\n            var match$4 = Js_json.decodeString(value$3);\n            tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n          } else {\n            tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field title on type Submission is missing\");\n          }\n\n          var match$5 = Js_dict.get(value$1, \"userNames\");\n          var tmp$2;\n\n          if (match$5 !== undefined) {\n            var value$4 = Caml_option.valFromOption(match$5);\n            var match$6 = Js_json.decodeString(value$4);\n            tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n          } else {\n            tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field userNames on type Submission is missing\");\n          }\n\n          var match$7 = Js_dict.get(value$1, \"evaluatedAt\");\n          var tmp$3;\n\n          if (match$7 !== undefined) {\n            var value$5 = Caml_option.valFromOption(match$7);\n            var match$8 = Js_json.decodeNull(value$5);\n            tmp$3 = match$8 !== undefined ? undefined : Caml_option.some(value$5);\n          } else {\n            tmp$3 = undefined;\n          }\n\n          var match$9 = Js_dict.get(value$1, \"passedAt\");\n          var tmp$4;\n\n          if (match$9 !== undefined) {\n            var value$6 = Caml_option.valFromOption(match$9);\n            var match$10 = Js_json.decodeNull(value$6);\n            tmp$4 = match$10 !== undefined ? undefined : Caml_option.some(value$6);\n          } else {\n            tmp$4 = undefined;\n          }\n\n          var match$11 = Js_dict.get(value$1, \"feedbackSent\");\n          var tmp$5;\n\n          if (match$11 !== undefined) {\n            var value$7 = Caml_option.valFromOption(match$11);\n            var match$12 = Js_json.decodeBoolean(value$7);\n            tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n          } else {\n            tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field feedbackSent on type Submission is missing\");\n          }\n\n          var match$13 = Js_dict.get(value$1, \"levelId\");\n          var tmp$6;\n\n          if (match$13 !== undefined) {\n            var value$8 = Caml_option.valFromOption(match$13);\n            var match$14 = Js_json.decodeString(value$8);\n            tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n          } else {\n            tmp$6 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type Submission is missing\");\n          }\n\n          var match$15 = Js_dict.get(value$1, \"createdAt\");\n          var match$16 = Js_dict.get(value$1, \"targetId\");\n          var tmp$7;\n\n          if (match$16 !== undefined) {\n            var value$9 = Caml_option.valFromOption(match$16);\n            var match$17 = Js_json.decodeString(value$9);\n            tmp$7 = match$17 !== undefined ? match$17 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n          } else {\n            tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field targetId on type Submission is missing\");\n          }\n\n          var match$18 = Js_dict.get(value$1, \"coachIds\");\n          return {\n            id: tmp,\n            title: tmp$1,\n            userNames: tmp$2,\n            evaluatedAt: tmp$3,\n            passedAt: tmp$4,\n            feedbackSent: tmp$5,\n            levelId: tmp$6,\n            createdAt: match$15 !== undefined ? Caml_option.valFromOption(match$15) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n            targetId: tmp$7,\n            coachIds: match$18 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$18))).map(function (value) {\n              var match = Js_json.decodeString(value);\n\n              if (match !== undefined) {\n                return match;\n              } else {\n                return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n              }\n            }) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type Submission is missing\")\n          };\n        }\n      });\n    } else {\n      tmp$1 = undefined;\n    }\n\n    var match$3 = Js_dict.get(value$2, \"pageInfo\");\n    var tmp$2;\n\n    if (match$3 !== undefined) {\n      var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n      var match$4 = Js_dict.get(value$4, \"endCursor\");\n      var tmp$3;\n\n      if (match$4 !== undefined) {\n        var value$5 = Caml_option.valFromOption(match$4);\n        var match$5 = Js_json.decodeNull(value$5);\n\n        if (match$5 !== undefined) {\n          tmp$3 = undefined;\n        } else {\n          var match$6 = Js_json.decodeString(value$5);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        }\n      } else {\n        tmp$3 = undefined;\n      }\n\n      var match$7 = Js_dict.get(value$4, \"hasNextPage\");\n      var tmp$4;\n\n      if (match$7 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$7);\n        var match$8 = Js_json.decodeBoolean(value$6);\n        tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field hasNextPage on type PageInfo is missing\");\n      }\n\n      tmp$2 = {\n        endCursor: tmp$3,\n        hasNextPage: tmp$4\n      };\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field pageInfo on type SubmissionConnection is missing\");\n    }\n\n    var match$9 = Js_dict.get(value$2, \"totalCount\");\n    var tmp$5;\n\n    if (match$9 !== undefined) {\n      var value$7 = Caml_option.valFromOption(match$9);\n      var match$10 = Js_json.decodeNumber(value$7);\n      tmp$5 = match$10 !== undefined ? match$10 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$7));\n    } else {\n      tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field totalCount on type SubmissionConnection is missing\");\n    }\n\n    tmp = {\n      nodes: tmp$1,\n      pageInfo: tmp$2,\n      totalCount: tmp$5\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field submissions on type Query is missing\");\n  }\n\n  return {\n    submissions: tmp\n  };\n}\n\nfunction json_of_SubmissionStatus(value) {\n  if (value >= 544019991) {\n    return \"Reviewed\";\n  } else {\n    return \"Pending\";\n  }\n}\n\nfunction json_of_SortDirection(value) {\n  if (value >= 235215128) {\n    return \"Descending\";\n  } else {\n    return \"Ascending\";\n  }\n}\n\nfunction make(courseId, status, sortDirection, levelId, coachId, after, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"status\", json_of_SubmissionStatus(status)],\n    /* tuple */\n    [\"sortDirection\", json_of_SortDirection(sortDirection)],\n    /* tuple */\n    [\"levelId\", levelId !== undefined ? levelId : null],\n    /* tuple */\n    [\"coachId\", coachId !== undefined ? coachId : null],\n    /* tuple */\n    [\"after\", after !== undefined ? after : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var status = variables.status;\n  var sortDirection = variables.sortDirection;\n  var levelId = variables.levelId;\n  var coachId = variables.coachId;\n  var after = variables.after;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"status\", json_of_SubmissionStatus(status)],\n    /* tuple */\n    [\"sortDirection\", json_of_SortDirection(sortDirection)],\n    /* tuple */\n    [\"levelId\", levelId !== undefined ? levelId : null],\n    /* tuple */\n    [\"coachId\", coachId !== undefined ? coachId : null],\n    /* tuple */\n    [\"after\", after !== undefined ? after : null]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(courseId, status, sortDirection, levelId, coachId, after, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"status\", json_of_SubmissionStatus(status)],\n  /* tuple */\n  [\"sortDirection\", json_of_SortDirection(sortDirection)],\n  /* tuple */\n  [\"levelId\", levelId !== undefined ? levelId : null],\n  /* tuple */\n  [\"coachId\", coachId !== undefined ? coachId : null],\n  /* tuple */\n  [\"after\", after !== undefined ? after : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, status, sortDirection, levelId, coachId, after, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"status\", json_of_SubmissionStatus(status)],\n  /* tuple */\n  [\"sortDirection\", json_of_SortDirection(sortDirection)],\n  /* tuple */\n  [\"levelId\", levelId !== undefined ? levelId : null],\n  /* tuple */\n  [\"coachId\", coachId !== undefined ? coachId : null],\n  /* tuple */\n  [\"after\", after !== undefined ? after : null]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar SubmissionsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  json_of_SubmissionStatus: json_of_SubmissionStatus,\n  json_of_SortDirection: json_of_SortDirection,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateSubmissions(setState, endCursor, hasNextPage, totalCount, submissions, selectedTab, updateSubmissionsCB, nodes) {\n  Curry._5(updateSubmissionsCB, $$Array.append($$Array.of_list(List.flatten($$Array.to_list(nodes !== undefined ? CoursesReview__IndexSubmission.decodeJs(nodes) : []))), submissions), selectedTab, hasNextPage, totalCount, endCursor);\n\n  return Curry._1(setState, function (param) {\n    return (\n      /* Loaded */\n      2\n    );\n  });\n}\n\nfunction getSubmissions(courseId, cursor, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, submissions, updateSubmissionsCB) {\n  Curry._1(setState, function (state) {\n    if (state !== 0) {\n      return (\n        /* Reloading */\n        1\n      );\n    } else {\n      return (\n        /* Loading */\n        0\n      );\n    }\n  });\n\n  var levelId = OptionUtils.map(CoursesReview__Level.id, selectedLevel);\n  var coachId = OptionUtils.map(UserProxy.id, selectedCoach);\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(courseId, selectedTab, sortDirection, levelId, coachId, cursor,\n  /* () */\n  0)).then(function (response) {\n    updateSubmissions(setState, response.submissions.pageInfo.endCursor, response.submissions.pageInfo.hasNextPage, response.submissions.totalCount, submissions, selectedTab, updateSubmissionsCB, response.submissions.nodes);\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction submissionStatus(submission) {\n  var match = CoursesReview__IndexSubmission.pendingReview(submission) ?\n  /* tuple */\n  [\"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-orange-100 text-orange-600\", CoursesReview__IndexSubmission.timeDistance(submission)] : CoursesReview__IndexSubmission.failed(submission) ?\n  /* tuple */\n  [\"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-red-100 border-red-500 text-red-800\", \"Failed\"] :\n  /* tuple */\n  [\"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-green-100 border-green-500 text-green-800\", \"Passed\"];\n  return React.createElement(\"div\", {\n    className: match[0]\n  }, match[1]);\n}\n\nfunction feedbackSentNotice(feedbackSent) {\n  if (feedbackSent) {\n    return React.createElement(\"div\", {\n      className: \"bg-primary-100 text-primary-600 border border-transparent flex-shrink-0 leading-normal font-semibold px-3 py-px rounded mr-3\"\n    }, \"Feedback Sent\");\n  } else {\n    return null;\n  }\n}\n\nfunction submissionCardClasses(submission) {\n  return \"flex flex-col md:flex-row items-start md:items-center justify-between bg-white border-l-3 p-3 md:py-6 md:px-5 mb-4 cursor-pointer rounded-r-lg shadow hover:border-primary-500 hover:text-primary-500 hover:shadow-md \" + (CoursesReview__IndexSubmission.pendingReview(submission) ? \"border-orange-400\" : CoursesReview__IndexSubmission.failed(submission) ? \"border-red-500\" : \"border-green-500\");\n}\n\nfunction showSubmission(submissions, levels, sortDirection) {\n  return React.createElement(\"div\", {\n    id: \"submissions\"\n  }, $$Array.map(function (submission) {\n    return React.createElement(Link.make, {\n      href: \"/submissions/\" + (CoursesReview__IndexSubmission.id(submission) + \"/review\"),\n      ariaLabel: \"Submission \" + CoursesReview__IndexSubmission.id(submission),\n      className: submissionCardClasses(submission),\n      children: null,\n      key: CoursesReview__IndexSubmission.id(submission)\n    }, React.createElement(\"div\", {\n      className: \"w-full md:w-3/4\"\n    }, React.createElement(\"div\", {\n      className: \"block text-sm md:pr-2\"\n    }, React.createElement(\"span\", {\n      className: \"bg-gray-300 text-xs font-semibold px-2 py-px rounded\"\n    }, CoursesReview__Level.unsafeLevelNumber(levels, \"SubmissionsTab\", CoursesReview__IndexSubmission.levelId(submission))), React.createElement(\"span\", {\n      className: \"ml-2 font-semibold text-base\"\n    }, CoursesReview__IndexSubmission.title(submission))), React.createElement(\"div\", {\n      className: \"mt-1 ml-px text-xs text-gray-900\"\n    }, React.createElement(\"span\", undefined, \"Submitted by \"), React.createElement(\"span\", {\n      className: \"font-semibold\"\n    }, CoursesReview__IndexSubmission.userNames(submission)), React.createElement(\"span\", {\n      className: \"ml-1\"\n    }, \"on \" + CoursesReview__IndexSubmission.createdAtPretty(submission)))), React.createElement(\"div\", {\n      className: \"w-auto md:w-1/4 text-xs flex justify-end mt-2 md:mt-0\"\n    }, feedbackSentNotice(CoursesReview__IndexSubmission.feedbackSent(submission)), submissionStatus(submission)));\n  }, CoursesReview__IndexSubmission.sortArray(sortDirection, submissions)));\n}\n\nfunction showSubmissions(submissions, selectedTab, levels, sortDirection) {\n  var imageSrc = selectedTab >= 544019991 ? reviewedEmptyImage : pendingEmptyImage;\n\n  if (ArrayUtils.isEmpty(submissions)) {\n    return React.createElement(\"div\", {\n      className: \"course-review__submissions-empty text-lg font-semibold text-center py-4\"\n    }, React.createElement(\"h5\", {\n      className: \"py-4 mt-4 bg-gray-200 text-gray-800 font-semibold\"\n    }, \"No submissions found\"), React.createElement(\"img\", {\n      className: \"w-3/4 md:w-1/2 mx-auto mt-2\",\n      src: imageSrc\n    }));\n  } else {\n    return showSubmission(submissions, levels, sortDirection);\n  }\n}\n\nfunction CoursesReview__SubmissionsTab(Props) {\n  var courseId = Props.courseId;\n  var selectedTab = Props.selectedTab;\n  var selectedLevel = Props.selectedLevel;\n  var selectedCoach = Props.selectedCoach;\n  var sortDirection = Props.sortDirection;\n  var levels = Props.levels;\n  var submissions = Props.submissions;\n  var updateSubmissionsCB = Props.updateSubmissionsCB;\n  var reloadAt = Props.reloadAt;\n  var match = React.useState(function () {\n    return (\n      /* Loading */\n      0\n    );\n  });\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect(function (param) {\n    if (CoursesReview__Submissions.needsReloading(selectedLevel, selectedCoach, sortDirection, submissions)) {\n      Curry._1(setState, function (param) {\n        return (\n          /* Reloading */\n          1\n        );\n      });\n\n      getSubmissions(courseId, undefined, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, [], updateSubmissionsCB);\n    }\n\n    return;\n  },\n  /* tuple */\n  [selectedLevel, selectedCoach, sortDirection, selectedTab, reloadAt]);\n  var tmp;\n\n  if (typeof submissions === \"number\") {\n    tmp = SkeletonLoading.multiple(10, SkeletonLoading.card(undefined,\n    /* () */\n    0));\n  } else if (submissions.tag) {\n    tmp = showSubmissions(submissions[0].submissions, selectedTab, levels, sortDirection);\n  } else {\n    var cursor = submissions[1];\n    var submissions$1 = submissions[0].submissions;\n    tmp = React.createElement(\"div\", undefined, showSubmissions(submissions$1, selectedTab, levels, sortDirection), state ===\n    /* Loading */\n    0 ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined,\n    /* () */\n    0)) : React.createElement(\"button\", {\n      className: \"btn btn-primary-ghost cursor-pointer w-full mt-4\",\n      onClick: function onClick(param) {\n        Curry._1(setState, function (_state) {\n          return (\n            /* Loading */\n            0\n          );\n        });\n\n        return getSubmissions(courseId, cursor, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, submissions$1, updateSubmissionsCB);\n      }\n    }, \"Load More...\"));\n  }\n\n  return React.createElement(\"div\", undefined, React.createElement(LoadingSpinner.make, {\n    loading: state ===\n    /* Reloading */\n    1\n  }), tmp);\n}\n\nvar make$1 = CoursesReview__SubmissionsTab;\nexports.reviewedEmptyImage = reviewedEmptyImage;\nexports.pendingEmptyImage = pendingEmptyImage;\nexports.str = str;\nexports.SubmissionsQuery = SubmissionsQuery;\nexports.updateSubmissions = updateSubmissions;\nexports.getSubmissions = getSubmissions;\nexports.submissionStatus = submissionStatus;\nexports.feedbackSentNotice = feedbackSentNotice;\nexports.submissionCardClasses = submissionCardClasses;\nexports.showSubmission = showSubmission;\nexports.showSubmissions = showSubmissions;\nexports.make = make$1;\n/* reviewedEmptyImage Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/review/components/CoursesReview__SubmissionsTab.bs.js"],"names":["Link","require","List","$$Array","Curry","React","Js_exn","Js_dict","Js_json","Js_option","UserProxy","ArrayUtils","Caml_option","OptionUtils","GraphqlQuery","LoadingSpinner","SkeletonLoading","CoursesReview__Level","CoursesReview__Submissions","PendingEmptySvg","CoursesReview__IndexSubmission","ReviewedEmptySvg","reviewedEmptyImage","pendingEmptyImage","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","decodeArray","map","decodeString","raiseError","JSON","stringify","match$3","match$4","match$5","tmp$2","value$4","match$6","match$7","tmp$3","value$5","match$8","some","match$9","tmp$4","value$6","match$10","match$11","tmp$5","value$7","match$12","decodeBoolean","match$13","tmp$6","value$8","match$14","match$15","match$16","tmp$7","value$9","match$17","match$18","id","title","userNames","evaluatedAt","passedAt","feedbackSent","levelId","createdAt","targetId","coachIds","endCursor","hasNextPage","decodeNumber","nodes","pageInfo","totalCount","submissions","json_of_SubmissionStatus","json_of_SortDirection","make","courseId","status","sortDirection","coachId","after","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","SubmissionsQuery","updateSubmissions","setState","selectedTab","updateSubmissionsCB","_5","append","of_list","flatten","to_list","decodeJs","getSubmissions","cursor","selectedLevel","selectedCoach","state","eta","sendQuery","then","response","Promise","resolve","submissionStatus","submission","pendingReview","timeDistance","failed","createElement","className","feedbackSentNotice","submissionCardClasses","showSubmission","levels","href","ariaLabel","children","key","unsafeLevelNumber","createdAtPretty","sortArray","showSubmissions","imageSrc","isEmpty","src","CoursesReview__SubmissionsTab","Props","reloadAt","useState","useEffect","needsReloading","multiple","card","tag","submissions$1","onClick","_state","loading","make$1","exports"],"mappings":"AAAA;AACA;;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,uCAAD,CAAlB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,4BAAD,CAAlB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,6BAAD,CAArB;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,6BAAD,CAAnB;;AACA,IAAII,KAAK,GAAGJ,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIK,MAAM,GAAGL,OAAO,CAAC,8BAAD,CAApB;;AACA,IAAIM,OAAO,GAAGN,OAAO,CAAC,+BAAD,CAArB;;AACA,IAAIO,OAAO,GAAGP,OAAO,CAAC,+BAAD,CAArB;;AACA,IAAIQ,SAAS,GAAGR,OAAO,CAAC,iCAAD,CAAvB;;AACA,IAAIS,SAAS,GAAGT,OAAO,CAAC,uCAAD,CAAvB;;AACA,IAAIU,UAAU,GAAGV,OAAO,CAAC,wCAAD,CAAxB;;AACA,IAAIW,WAAW,GAAGX,OAAO,CAAC,mCAAD,CAAzB;;AACA,IAAIY,WAAW,GAAGZ,OAAO,CAAC,yCAAD,CAAzB;;AACA,IAAIa,YAAY,GAAGb,OAAO,CAAC,0CAAD,CAA1B;;AACA,IAAIc,cAAc,GAAGd,OAAO,CAAC,iDAAD,CAA5B;;AACA,IAAIe,eAAe,GAAGf,OAAO,CAAC,kDAAD,CAA7B;;AACA,IAAIgB,oBAAoB,GAAGhB,OAAO,CAAC,qCAAD,CAAlC;;AACA,IAAIiB,0BAA0B,GAAGjB,OAAO,CAAC,2CAAD,CAAxC;;AACA,IAAIkB,eAAe,GAAGlB,OAAO,CAAC,6BAAD,CAA7B;;AACA,IAAImB,8BAA8B,GAAGnB,OAAO,CAAC,+CAAD,CAA5C;;AACA,IAAIoB,gBAAgB,GAAGpB,OAAO,CAAC,wCAAD,CAA9B;;AAEA,IAAIqB,kBAAkB,GAAGD,gBAAgB,WAAzC;AAEA,IAAIE,iBAAiB,GAAGJ,eAAe,WAAvC;;AAEA,SAASK,GAAT,CAAaC,IAAb,EAAmB;AACjB,SAAOA,IAAP;AACD;;AAED,IAAIC,iBAAiB,GAAG,ofAAxB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,MAAIC,OAAO,GAAGpB,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACuB,YAAR,CAAqBH,KAArB,CAAjB,CAAd;AACA,MAAII,KAAK,GAAGzB,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,aAArB,CAAZ;AACA,MAAIK,GAAJ;;AACA,MAAIF,KAAK,KAAKG,SAAd,EAAyB;AACvB,QAAIC,OAAO,GAAG3B,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACuB,YAAR,CAAqBnB,WAAW,CAACyB,aAAZ,CAA0BL,KAA1B,CAArB,CAAjB,CAAd;AACA,QAAIM,OAAO,GAAG/B,OAAO,CAAC0B,GAAR,CAAYG,OAAZ,EAAqB,OAArB,CAAd;AACA,QAAIG,KAAJ;;AACA,QAAID,OAAO,KAAKH,SAAhB,EAA2B;AACzB,UAAIK,OAAO,GAAG5B,WAAW,CAACyB,aAAZ,CAA0BC,OAA1B,CAAd;AACA,UAAIG,OAAO,GAAGjC,OAAO,CAACkC,UAAR,CAAmBF,OAAnB,CAAd;AACAD,MAAAA,KAAK,GAAGE,OAAO,KAAKN,SAAZ,GAAwBA,SAAxB,GAAoC1B,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACmC,WAAR,CAAoBH,OAApB,CAAjB,EAA+CI,GAA/C,CAAoD,UAAUhB,KAAV,EAAiB;AACvG,YAAII,KAAK,GAAGxB,OAAO,CAACkC,UAAR,CAAmBd,KAAnB,CAAZ;;AACA,YAAII,KAAK,KAAKG,SAAd,EAAyB;AACvB;AACD,SAFD,MAEO;AACL,cAAIN,OAAO,GAAGpB,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACuB,YAAR,CAAqBH,KAArB,CAAjB,CAAd;AACA,cAAIU,OAAO,GAAG/B,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,IAArB,CAAd;AACA,cAAIK,GAAJ;;AACA,cAAII,OAAO,KAAKH,SAAhB,EAA2B;AACzB,gBAAIC,OAAO,GAAGxB,WAAW,CAACyB,aAAZ,CAA0BC,OAA1B,CAAd;AACA,gBAAIG,OAAO,GAAGjC,OAAO,CAACqC,YAAR,CAAqBT,OAArB,CAAd;AACAF,YAAAA,GAAG,GAAGO,OAAO,KAAKN,SAAZ,GAAwBM,OAAxB,GAAkCnC,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAeZ,OAAf,CAAzD,CAAxC;AACD,WAJD,MAIO;AACLF,YAAAA,GAAG,GAAG5B,MAAM,CAACwC,UAAP,CAAkB,qDAAlB,CAAN;AACD;;AACD,cAAIG,OAAO,GAAG1C,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,OAArB,CAAd;AACA,cAAIU,KAAJ;;AACA,cAAIU,OAAO,KAAKd,SAAhB,EAA2B;AACzB,gBAAIK,OAAO,GAAG5B,WAAW,CAACyB,aAAZ,CAA0BY,OAA1B,CAAd;AACA,gBAAIC,OAAO,GAAG1C,OAAO,CAACqC,YAAR,CAAqBL,OAArB,CAAd;AACAD,YAAAA,KAAK,GAAGW,OAAO,KAAKf,SAAZ,GAAwBe,OAAxB,GAAkC5C,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAeR,OAAf,CAAzD,CAA1C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAGjC,MAAM,CAACwC,UAAP,CAAkB,wDAAlB,CAAR;AACD;;AACD,cAAIK,OAAO,GAAG5C,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,WAArB,CAAd;AACA,cAAIuB,KAAJ;;AACA,cAAID,OAAO,KAAKhB,SAAhB,EAA2B;AACzB,gBAAIkB,OAAO,GAAGzC,WAAW,CAACyB,aAAZ,CAA0Bc,OAA1B,CAAd;AACA,gBAAIG,OAAO,GAAG9C,OAAO,CAACqC,YAAR,CAAqBQ,OAArB,CAAd;AACAD,YAAAA,KAAK,GAAGE,OAAO,KAAKnB,SAAZ,GAAwBmB,OAAxB,GAAkChD,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAeK,OAAf,CAAzD,CAA1C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAG9C,MAAM,CAACwC,UAAP,CAAkB,4DAAlB,CAAR;AACD;;AACD,cAAIS,OAAO,GAAGhD,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,aAArB,CAAd;AACA,cAAI2B,KAAJ;;AACA,cAAID,OAAO,KAAKpB,SAAhB,EAA2B;AACzB,gBAAIsB,OAAO,GAAG7C,WAAW,CAACyB,aAAZ,CAA0BkB,OAA1B,CAAd;AACA,gBAAIG,OAAO,GAAGlD,OAAO,CAACkC,UAAR,CAAmBe,OAAnB,CAAd;AACAD,YAAAA,KAAK,GAAGE,OAAO,KAAKvB,SAAZ,GAAwBA,SAAxB,GAAoCvB,WAAW,CAAC+C,IAAZ,CAAiBF,OAAjB,CAA5C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAGrB,SAAR;AACD;;AACD,cAAIyB,OAAO,GAAGrD,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,UAArB,CAAd;AACA,cAAIgC,KAAJ;;AACA,cAAID,OAAO,KAAKzB,SAAhB,EAA2B;AACzB,gBAAI2B,OAAO,GAAGlD,WAAW,CAACyB,aAAZ,CAA0BuB,OAA1B,CAAd;AACA,gBAAIG,QAAQ,GAAGvD,OAAO,CAACkC,UAAR,CAAmBoB,OAAnB,CAAf;AACAD,YAAAA,KAAK,GAAGE,QAAQ,KAAK5B,SAAb,GAAyBA,SAAzB,GAAqCvB,WAAW,CAAC+C,IAAZ,CAAiBG,OAAjB,CAA7C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAG1B,SAAR;AACD;;AACD,cAAI6B,QAAQ,GAAGzD,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,cAArB,CAAf;AACA,cAAIoC,KAAJ;;AACA,cAAID,QAAQ,KAAK7B,SAAjB,EAA4B;AAC1B,gBAAI+B,OAAO,GAAGtD,WAAW,CAACyB,aAAZ,CAA0B2B,QAA1B,CAAd;AACA,gBAAIG,QAAQ,GAAG3D,OAAO,CAAC4D,aAAR,CAAsBF,OAAtB,CAAf;AACAD,YAAAA,KAAK,GAAGE,QAAQ,KAAKhC,SAAb,GAAyBgC,QAAzB,GAAoC7D,MAAM,CAACwC,UAAP,CAAkB,wCAAwCC,IAAI,CAACC,SAAL,CAAekB,OAAf,CAA1D,CAA5C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAG3D,MAAM,CAACwC,UAAP,CAAkB,+DAAlB,CAAR;AACD;;AACD,cAAIuB,QAAQ,GAAG9D,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,SAArB,CAAf;AACA,cAAIyC,KAAJ;;AACA,cAAID,QAAQ,KAAKlC,SAAjB,EAA4B;AAC1B,gBAAIoC,OAAO,GAAG3D,WAAW,CAACyB,aAAZ,CAA0BgC,QAA1B,CAAd;AACA,gBAAIG,QAAQ,GAAGhE,OAAO,CAACqC,YAAR,CAAqB0B,OAArB,CAAf;AACAD,YAAAA,KAAK,GAAGE,QAAQ,KAAKrC,SAAb,GAAyBqC,QAAzB,GAAoClE,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAeuB,OAAf,CAAzD,CAA5C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAGhE,MAAM,CAACwC,UAAP,CAAkB,0DAAlB,CAAR;AACD;;AACD,cAAI2B,QAAQ,GAAGlE,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,WAArB,CAAf;AACA,cAAI6C,QAAQ,GAAGnE,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,UAArB,CAAf;AACA,cAAI8C,KAAJ;;AACA,cAAID,QAAQ,KAAKvC,SAAjB,EAA4B;AAC1B,gBAAIyC,OAAO,GAAGhE,WAAW,CAACyB,aAAZ,CAA0BqC,QAA1B,CAAd;AACA,gBAAIG,QAAQ,GAAGrE,OAAO,CAACqC,YAAR,CAAqB+B,OAArB,CAAf;AACAD,YAAAA,KAAK,GAAGE,QAAQ,KAAK1C,SAAb,GAAyB0C,QAAzB,GAAoCvE,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAe4B,OAAf,CAAzD,CAA5C;AACD,WAJD,MAIO;AACLD,YAAAA,KAAK,GAAGrE,MAAM,CAACwC,UAAP,CAAkB,2DAAlB,CAAR;AACD;;AACD,cAAIgC,QAAQ,GAAGvE,OAAO,CAAC0B,GAAR,CAAYJ,OAAZ,EAAqB,UAArB,CAAf;AACA,iBAAO;AACCkD,YAAAA,EAAE,EAAE7C,GADL;AAEC8C,YAAAA,KAAK,EAAEzC,KAFR;AAGC0C,YAAAA,SAAS,EAAE7B,KAHZ;AAIC8B,YAAAA,WAAW,EAAE1B,KAJd;AAKC2B,YAAAA,QAAQ,EAAEtB,KALX;AAMCuB,YAAAA,YAAY,EAAEnB,KANf;AAOCoB,YAAAA,OAAO,EAAEf,KAPV;AAQCgB,YAAAA,SAAS,EAAEb,QAAQ,KAAKtC,SAAb,GAAyBvB,WAAW,CAACyB,aAAZ,CAA0BoC,QAA1B,CAAzB,GAA+DnE,MAAM,CAACwC,UAAP,CAAkB,4DAAlB,CAR3E;AASCyC,YAAAA,QAAQ,EAAEZ,KATX;AAUCa,YAAAA,QAAQ,EAAEV,QAAQ,KAAK3C,SAAb,GAAyB1B,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACmC,WAAR,CAAoB/B,WAAW,CAACyB,aAAZ,CAA0ByC,QAA1B,CAApB,CAAjB,EAA2ElC,GAA3E,CAAgF,UAAUhB,KAAV,EAAiB;AAC1H,kBAAII,KAAK,GAAGxB,OAAO,CAACqC,YAAR,CAAqBjB,KAArB,CAAZ;;AACA,kBAAII,KAAK,KAAKG,SAAd,EAAyB;AACvB,uBAAOH,KAAP;AACD,eAFD,MAEO;AACL,uBAAO1B,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAepB,KAAf,CAAzD,CAAP;AACD;AACF,aAP0B,CAAzB,GAOItB,MAAM,CAACwC,UAAP,CAAkB,2DAAlB;AAjBf,WAAP;AAmBD;AACF,OApGmC,CAA5C;AAqGD,KAxGD,MAwGO;AACLP,MAAAA,KAAK,GAAGJ,SAAR;AACD;;AACD,QAAIc,OAAO,GAAG1C,OAAO,CAAC0B,GAAR,CAAYG,OAAZ,EAAqB,UAArB,CAAd;AACA,QAAIgB,KAAJ;;AACA,QAAIH,OAAO,KAAKd,SAAhB,EAA2B;AACzB,UAAIkB,OAAO,GAAG5C,SAAS,CAACqB,MAAV,CAAiBtB,OAAO,CAACuB,YAAR,CAAqBnB,WAAW,CAACyB,aAAZ,CAA0BY,OAA1B,CAArB,CAAjB,CAAd;AACA,UAAIC,OAAO,GAAG3C,OAAO,CAAC0B,GAAR,CAAYoB,OAAZ,EAAqB,WAArB,CAAd;AACA,UAAIG,KAAJ;;AACA,UAAIN,OAAO,KAAKf,SAAhB,EAA2B;AACzB,YAAIsB,OAAO,GAAG7C,WAAW,CAACyB,aAAZ,CAA0Ba,OAA1B,CAAd;AACA,YAAIC,OAAO,GAAG3C,OAAO,CAACkC,UAAR,CAAmBe,OAAnB,CAAd;;AACA,YAAIN,OAAO,KAAKhB,SAAhB,EAA2B;AACzBqB,UAAAA,KAAK,GAAGrB,SAAR;AACD,SAFD,MAEO;AACL,cAAImB,OAAO,GAAG9C,OAAO,CAACqC,YAAR,CAAqBY,OAArB,CAAd;AACAD,UAAAA,KAAK,GAAGF,OAAO,KAAKnB,SAAZ,GAAwBmB,OAAxB,GAAkChD,MAAM,CAACwC,UAAP,CAAkB,uCAAuCC,IAAI,CAACC,SAAL,CAAeS,OAAf,CAAzD,CAA1C;AACD;AACF,OATD,MASO;AACLD,QAAAA,KAAK,GAAGrB,SAAR;AACD;;AACD,UAAIoB,OAAO,GAAGhD,OAAO,CAAC0B,GAAR,CAAYoB,OAAZ,EAAqB,aAArB,CAAd;AACA,UAAIQ,KAAJ;;AACA,UAAIN,OAAO,KAAKpB,SAAhB,EAA2B;AACzB,YAAI2B,OAAO,GAAGlD,WAAW,CAACyB,aAAZ,CAA0BkB,OAA1B,CAAd;AACA,YAAIG,OAAO,GAAGlD,OAAO,CAAC4D,aAAR,CAAsBN,OAAtB,CAAd;AACAD,QAAAA,KAAK,GAAGH,OAAO,KAAKvB,SAAZ,GAAwBuB,OAAxB,GAAkCpD,MAAM,CAACwC,UAAP,CAAkB,wCAAwCC,IAAI,CAACC,SAAL,CAAec,OAAf,CAA1D,CAA1C;AACD,OAJD,MAIO;AACLD,QAAAA,KAAK,GAAGvD,MAAM,CAACwC,UAAP,CAAkB,4DAAlB,CAAR;AACD;;AACDM,MAAAA,KAAK,GAAG;AACNqC,QAAAA,SAAS,EAAEjC,KADL;AAENkC,QAAAA,WAAW,EAAE7B;AAFP,OAAR;AAID,KA7BD,MA6BO;AACLT,MAAAA,KAAK,GAAG9C,MAAM,CAACwC,UAAP,CAAkB,qEAAlB,CAAR;AACD;;AACD,QAAIc,OAAO,GAAGrD,OAAO,CAAC0B,GAAR,CAAYG,OAAZ,EAAqB,YAArB,CAAd;AACA,QAAI6B,KAAJ;;AACA,QAAIL,OAAO,KAAKzB,SAAhB,EAA2B;AACzB,UAAI+B,OAAO,GAAGtD,WAAW,CAACyB,aAAZ,CAA0BuB,OAA1B,CAAd;AACA,UAAIG,QAAQ,GAAGvD,OAAO,CAACmF,YAAR,CAAqBzB,OAArB,CAAf;AACAD,MAAAA,KAAK,GAAGF,QAAQ,KAAK5B,SAAb,GAAyB4B,QAAQ,GAAG,CAApC,GAAwCzD,MAAM,CAACwC,UAAP,CAAkB,oCAAoCC,IAAI,CAACC,SAAL,CAAekB,OAAf,CAAtD,CAAhD;AACD,KAJD,MAIO;AACLD,MAAAA,KAAK,GAAG3D,MAAM,CAACwC,UAAP,CAAkB,uEAAlB,CAAR;AACD;;AACDZ,IAAAA,GAAG,GAAG;AACJ0D,MAAAA,KAAK,EAAErD,KADH;AAEJsD,MAAAA,QAAQ,EAAEzC,KAFN;AAGJ0C,MAAAA,UAAU,EAAE7B;AAHR,KAAN;AAKD,GA/JD,MA+JO;AACL/B,IAAAA,GAAG,GAAG5B,MAAM,CAACwC,UAAP,CAAkB,yDAAlB,CAAN;AACD;;AACD,SAAO;AACCiD,IAAAA,WAAW,EAAE7D;AADd,GAAP;AAGD;;AAED,SAAS8D,wBAAT,CAAkCpE,KAAlC,EAAyC;AACvC,MAAIA,KAAK,IAAI,SAAb,EAAwB;AACtB,WAAO,UAAP;AACD,GAFD,MAEO;AACL,WAAO,SAAP;AACD;AACF;;AAED,SAASqE,qBAAT,CAA+BrE,KAA/B,EAAsC;AACpC,MAAIA,KAAK,IAAI,SAAb,EAAwB;AACtB,WAAO,YAAP;AACD,GAFD,MAEO;AACL,WAAO,WAAP;AACD;AACF;;AAED,SAASsE,IAAT,CAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,aAAhC,EAA+ChB,OAA/C,EAAwDiB,OAAxD,EAAiEC,KAAjE,EAAwEC,KAAxE,EAA+E;AAC7E,SAAO;AACCC,IAAAA,KAAK,EAAE/E,iBADR;AAECgF,IAAAA,SAAS,EAAEnG,OAAO,CAACoG,SAAR,CAAkB;AACrB;AAAW,KACT,UADS,EAETR,QAFS,CADU;AAKrB;AAAW,KACT,QADS,EAETH,wBAAwB,CAACI,MAAD,CAFf,CALU;AASrB;AAAW,KACT,eADS,EAETH,qBAAqB,CAACI,aAAD,CAFZ,CATU;AAarB;AAAW,KACT,SADS,EAEThB,OAAO,KAAKlD,SAAZ,GAAwBkD,OAAxB,GAAkC,IAFzB,CAbU;AAiBrB;AAAW,KACT,SADS,EAETiB,OAAO,KAAKnE,SAAZ,GAAwBmE,OAAxB,GAAkC,IAFzB,CAjBU;AAqBrB;AAAW,KACT,OADS,EAETC,KAAK,KAAKpE,SAAV,GAAsBoE,KAAtB,GAA8B,IAFrB,CArBU,EAyBrBK,MAzBqB,CAyBb,UAAUJ,KAAV,EAAiB;AACrB,aAAO,CAAChG,OAAO,CAACqG,IAAR,CAAaL,KAAK,CAAC,CAAD,CAAlB;AAAuB;AAAU,OAAjC,CAAR;AACD,KA3BkB,CAAlB,CAFZ;AA8BC7E,IAAAA,KAAK,EAAEA;AA9BR,GAAP;AAgCD;;AAED,SAASmF,iBAAT,CAA2BJ,SAA3B,EAAsC;AACpC,MAAIP,QAAQ,GAAGO,SAAS,CAACP,QAAzB;AACA,MAAIC,MAAM,GAAGM,SAAS,CAACN,MAAvB;AACA,MAAIC,aAAa,GAAGK,SAAS,CAACL,aAA9B;AACA,MAAIhB,OAAO,GAAGqB,SAAS,CAACrB,OAAxB;AACA,MAAIiB,OAAO,GAAGI,SAAS,CAACJ,OAAxB;AACA,MAAIC,KAAK,GAAGG,SAAS,CAACH,KAAtB;AACA,SAAO;AACCE,IAAAA,KAAK,EAAE/E,iBADR;AAECgF,IAAAA,SAAS,EAAEnG,OAAO,CAACoG,SAAR,CAAkB;AACrB;AAAW,KACT,UADS,EAETR,QAFS,CADU;AAKrB;AAAW,KACT,QADS,EAETH,wBAAwB,CAACI,MAAD,CAFf,CALU;AASrB;AAAW,KACT,eADS,EAETH,qBAAqB,CAACI,aAAD,CAFZ,CATU;AAarB;AAAW,KACT,SADS,EAEThB,OAAO,KAAKlD,SAAZ,GAAwBkD,OAAxB,GAAkC,IAFzB,CAbU;AAiBrB;AAAW,KACT,SADS,EAETiB,OAAO,KAAKnE,SAAZ,GAAwBmE,OAAxB,GAAkC,IAFzB,CAjBU;AAqBrB;AAAW,KACT,OADS,EAETC,KAAK,KAAKpE,SAAV,GAAsBoE,KAAtB,GAA8B,IAFrB,CArBU,EAyBrBK,MAzBqB,CAyBb,UAAUJ,KAAV,EAAiB;AACrB,aAAO,CAAChG,OAAO,CAACqG,IAAR,CAAaL,KAAK,CAAC,CAAD,CAAlB;AAAuB;AAAU,OAAjC,CAAR;AACD,KA3BkB,CAAlB,CAFZ;AA8BC7E,IAAAA,KAAK,EAAEA;AA9BR,GAAP;AAgCD;;AAED,SAASoF,aAAT,CAAuBZ,QAAvB,EAAiCC,MAAjC,EAAyCC,aAAzC,EAAwDhB,OAAxD,EAAiEiB,OAAjE,EAA0EC,KAA1E,EAAiFC,KAAjF,EAAwF;AACtF,SAAOjG,OAAO,CAACoG,SAAR,CAAkB;AACX;AAAW,GACT,UADS,EAETR,QAFS,CADA;AAKX;AAAW,GACT,QADS,EAETH,wBAAwB,CAACI,MAAD,CAFf,CALA;AASX;AAAW,GACT,eADS,EAETH,qBAAqB,CAACI,aAAD,CAFZ,CATA;AAaX;AAAW,GACT,SADS,EAEThB,OAAO,KAAKlD,SAAZ,GAAwBkD,OAAxB,GAAkC,IAFzB,CAbA;AAiBX;AAAW,GACT,SADS,EAETiB,OAAO,KAAKnE,SAAZ,GAAwBmE,OAAxB,GAAkC,IAFzB,CAjBA;AAqBX;AAAW,GACT,OADS,EAETC,KAAK,KAAKpE,SAAV,GAAsBoE,KAAtB,GAA8B,IAFrB,CArBA,EAyBXK,MAzBW,CAyBH,UAAUJ,KAAV,EAAiB;AACrB,WAAO,CAAChG,OAAO,CAACqG,IAAR,CAAaL,KAAK,CAAC,CAAD,CAAlB;AAAuB;AAAU,KAAjC,CAAR;AACD,GA3BQ,CAAlB,CAAP;AA4BD;;AAED,SAASQ,cAAT,CAAwBC,iCAAxB,EAA2Dd,QAA3D,EAAqEC,MAArE,EAA6EC,aAA7E,EAA4FhB,OAA5F,EAAqGiB,OAArG,EAA8GC,KAA9G,EAAqHC,KAArH,EAA4H;AAC1H,SAAOpG,KAAK,CAAC8G,EAAN,CAASD,iCAAT,EAA4C1G,OAAO,CAACoG,SAAR,CAAkB;AACnD;AAAW,GACT,UADS,EAETR,QAFS,CADwC;AAKnD;AAAW,GACT,QADS,EAETH,wBAAwB,CAACI,MAAD,CAFf,CALwC;AASnD;AAAW,GACT,eADS,EAETH,qBAAqB,CAACI,aAAD,CAFZ,CATwC;AAanD;AAAW,GACT,SADS,EAEThB,OAAO,KAAKlD,SAAZ,GAAwBkD,OAAxB,GAAkC,IAFzB,CAbwC;AAiBnD;AAAW,GACT,SADS,EAETiB,OAAO,KAAKnE,SAAZ,GAAwBmE,OAAxB,GAAkC,IAFzB,CAjBwC;AAqBnD;AAAW,GACT,OADS,EAETC,KAAK,KAAKpE,SAAV,GAAsBoE,KAAtB,GAA8B,IAFrB,CArBwC,EAyBnDK,MAzBmD,CAyB3C,UAAUJ,KAAV,EAAiB;AACrB,WAAO,CAAChG,OAAO,CAACqG,IAAR,CAAaL,KAAK,CAAC,CAAD,CAAlB;AAAuB;AAAU,KAAjC,CAAR;AACD,GA3BgD,CAAlB,CAA5C,CAAP;AA4BD;;AAED,IAAIW,UAAU;AAAG;AAAW,CAC1BxF,KAD0B,EAE1BD,iBAF0B,EAG1BsF,cAH0B,CAA5B;;AAMA,SAASI,QAAT,CAAkBC,CAAlB,EAAqB;AACnB,SAAO,EAAP;AACD;;AAED,IAAIC,MAAM,GAAG,EAAb;AAEA,IAAIC,gBAAgB,GAAG;AACrB7F,EAAAA,iBAAiB,EAAEA,iBADE;AAErB+E,EAAAA,KAAK,EAAE/E,iBAFc;AAGrBC,EAAAA,KAAK,EAAEA,KAHc;AAIrBqE,EAAAA,wBAAwB,EAAEA,wBAJL;AAKrBC,EAAAA,qBAAqB,EAAEA,qBALF;AAMrBC,EAAAA,IAAI,EAAEA,IANe;AAOrBY,EAAAA,iBAAiB,EAAEA,iBAPE;AAQrBC,EAAAA,aAAa,EAAEA,aARM;AASrBI,EAAAA,UAAU,EAAEA,UATS;AAUrBC,EAAAA,QAAQ,EAAEA,QAVW;AAWrBE,EAAAA,MAAM,EAAEA;AAXa,CAAvB;;AAcA,SAASE,iBAAT,CAA2BC,QAA3B,EAAqChC,SAArC,EAAgDC,WAAhD,EAA6DI,UAA7D,EAAyEC,WAAzE,EAAsF2B,WAAtF,EAAmGC,mBAAnG,EAAwH/B,KAAxH,EAA+H;AAC7HxF,EAAAA,KAAK,CAACwH,EAAN,CAASD,mBAAT,EAA8BxH,OAAO,CAAC0H,MAAR,CAAe1H,OAAO,CAAC2H,OAAR,CAAgB5H,IAAI,CAAC6H,OAAL,CAAa5H,OAAO,CAAC6H,OAAR,CAAgBpC,KAAK,KAAKzD,SAAV,GAAsBf,8BAA8B,CAAC6G,QAA/B,CAAwCrC,KAAxC,CAAtB,GAAuE,EAAvF,CAAb,CAAhB,CAAf,EAA0IG,WAA1I,CAA9B,EAAsL2B,WAAtL,EAAmMhC,WAAnM,EAAgNI,UAAhN,EAA4NL,SAA5N;;AACA,SAAOrF,KAAK,CAAC8G,EAAN,CAASO,QAAT,EAAoB,UAAUjB,KAAV,EAAiB;AAC9B;AAAO;AAAY;AAAnB;AACD,GAFN,CAAP;AAGD;;AAED,SAAS0B,cAAT,CAAwB/B,QAAxB,EAAkCgC,MAAlC,EAA0CV,QAA1C,EAAoDW,aAApD,EAAmEC,aAAnE,EAAkFhC,aAAlF,EAAiGqB,WAAjG,EAA8G3B,WAA9G,EAA2H4B,mBAA3H,EAAgJ;AAC9IvH,EAAAA,KAAK,CAAC8G,EAAN,CAASO,QAAT,EAAoB,UAAUa,KAAV,EAAiB;AAC7B,QAAIA,KAAK,KAAK,CAAd,EAAiB;AACf;AAAO;AAAe;AAAtB;AACD,KAFD,MAEO;AACL;AAAO;AAAa;AAApB;AACD;AACF,GANP;;AAOA,MAAIjD,OAAO,GAAGxE,WAAW,CAAC+B,GAAZ,CAAgB3B,oBAAoB,CAAC8D,EAArC,EAAyCqD,aAAzC,CAAd;AACA,MAAI9B,OAAO,GAAGzF,WAAW,CAAC+B,GAAZ,CAAgBlC,SAAS,CAACqE,EAA1B,EAA8BsD,aAA9B,CAAd;AACA,GAAC,UAAUE,GAAV,EAAe;AACR,WAAOzH,YAAY,CAAC0H,SAAb,CAAuBrG,SAAvB,EAAkCoG,GAAlC,CAAP;AACD,GAFP,EAESrC,IAAI,CAACC,QAAD,EAAWuB,WAAX,EAAwBrB,aAAxB,EAAuChB,OAAvC,EAAgDiB,OAAhD,EAAyD6B,MAAzD;AAAiE;AAAQ,GAAzE,CAFb,EAE0FM,IAF1F,CAEgG,UAAUC,QAAV,EAAoB;AAC5GlB,IAAAA,iBAAiB,CAACC,QAAD,EAAWiB,QAAQ,CAAC3C,WAAT,CAAqBF,QAArB,CAA8BJ,SAAzC,EAAoDiD,QAAQ,CAAC3C,WAAT,CAAqBF,QAArB,CAA8BH,WAAlF,EAA+FgD,QAAQ,CAAC3C,WAAT,CAAqBD,UAApH,EAAgIC,WAAhI,EAA6I2B,WAA7I,EAA0JC,mBAA1J,EAA+Ke,QAAQ,CAAC3C,WAAT,CAAqBH,KAApM,CAAjB;AACA,WAAO+C,OAAO,CAACC,OAAR;AAAgB;AAAQ,KAAxB,CAAP;AACD,GALP;AAMA;AAAO;AAAQ;AAAf;AACD;;AAED,SAASC,gBAAT,CAA0BC,UAA1B,EAAsC;AACpC,MAAI9G,KAAK,GAAGZ,8BAA8B,CAAC2H,aAA/B,CAA6CD,UAA7C;AAA2D;AAAW,GAC9E,oGAD8E,EAE9E1H,8BAA8B,CAAC4H,YAA/B,CAA4CF,UAA5C,CAF8E,CAAtE,GAIR1H,8BAA8B,CAAC6H,MAA/B,CAAsCH,UAAtC;AAAoD;AAAW,GAC3D,6GAD2D,EAE3D,QAF2D,CAA/D;AAGM;AAAW,GACb,mHADa,EAEb,QAFa,CAPrB;AAYA,SAAOzI,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACtBC,IAAAA,SAAS,EAAEnH,KAAK,CAAC,CAAD;AADM,GAA3B,EAEMA,KAAK,CAAC,CAAD,CAFX,CAAP;AAGD;;AAED,SAASoH,kBAAT,CAA4BhE,YAA5B,EAA0C;AACxC,MAAIA,YAAJ,EAAkB;AAChB,WAAO/E,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACtBC,MAAAA,SAAS,EAAE;AADW,KAA3B,EAEM,eAFN,CAAP;AAGD,GAJD,MAIO;AACL,WAAO,IAAP;AACD;AACF;;AAED,SAASE,qBAAT,CAA+BP,UAA/B,EAA2C;AACzC,SAAO,4NACC1H,8BAA8B,CAAC2H,aAA/B,CAA6CD,UAA7C,IAA2D,mBAA3D,GACI1H,8BAA8B,CAAC6H,MAA/B,CAAsCH,UAAtC,IAAoD,gBAApD,GAAuE,kBAF5E,CAAP;AAKD;;AAED,SAASQ,cAAT,CAAwBvD,WAAxB,EAAqCwD,MAArC,EAA6ClD,aAA7C,EAA4D;AAC1D,SAAOhG,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACtBnE,IAAAA,EAAE,EAAE;AADkB,GAA3B,EAEM5E,OAAO,CAACyC,GAAR,CAAa,UAAUkG,UAAV,EAAsB;AAC9B,WAAOzI,KAAK,CAAC6I,aAAN,CAAoBlJ,IAAI,CAACkG,IAAzB,EAA+B;AAC1BsD,MAAAA,IAAI,EAAE,mBAAmBpI,8BAA8B,CAAC2D,EAA/B,CAAkC+D,UAAlC,IAAgD,SAAnE,CADoB;AAE1BW,MAAAA,SAAS,EAAE,gBAAgBrI,8BAA8B,CAAC2D,EAA/B,CAAkC+D,UAAlC,CAFD;AAG1BK,MAAAA,SAAS,EAAEE,qBAAqB,CAACP,UAAD,CAHN;AAI1BY,MAAAA,QAAQ,EAAE,IAJgB;AAK1BC,MAAAA,GAAG,EAAEvI,8BAA8B,CAAC2D,EAA/B,CAAkC+D,UAAlC;AALqB,KAA/B,EAMMzI,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACxBC,MAAAA,SAAS,EAAE;AADa,KAA3B,EAEI9I,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACxBC,MAAAA,SAAS,EAAE;AADa,KAA3B,EAEI9I,KAAK,CAAC6I,aAAN,CAAoB,MAApB,EAA4B;AACzBC,MAAAA,SAAS,EAAE;AADc,KAA5B,EAEIlI,oBAAoB,CAAC2I,iBAArB,CAAuCL,MAAvC,EAA+C,gBAA/C,EAAiEnI,8BAA8B,CAACiE,OAA/B,CAAuCyD,UAAvC,CAAjE,CAFJ,CAFJ,EAI+HzI,KAAK,CAAC6I,aAAN,CAAoB,MAApB,EAA4B;AACpJC,MAAAA,SAAS,EAAE;AADyI,KAA5B,EAEvH/H,8BAA8B,CAAC4D,KAA/B,CAAqC8D,UAArC,CAFuH,CAJ/H,CAFJ,EAQgEzI,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACpFC,MAAAA,SAAS,EAAE;AADyE,KAA3B,EAExD9I,KAAK,CAAC6I,aAAN,CAAoB,MAApB,EAA4B/G,SAA5B,EAAuC,eAAvC,CAFwD,EAEC9B,KAAK,CAAC6I,aAAN,CAAoB,MAApB,EAA4B;AAClFC,MAAAA,SAAS,EAAE;AADuE,KAA5B,EAErD/H,8BAA8B,CAAC6D,SAA/B,CAAyC6D,UAAzC,CAFqD,CAFD,EAIGzI,KAAK,CAAC6I,aAAN,CAAoB,MAApB,EAA4B;AACpFC,MAAAA,SAAS,EAAE;AADyE,KAA5B,EAEvD,QAAQ/H,8BAA8B,CAACyI,eAA/B,CAA+Cf,UAA/C,CAF+C,CAJH,CARhE,CANN,EAoByFzI,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AAC3GC,MAAAA,SAAS,EAAE;AADgG,KAA3B,EAE/EC,kBAAkB,CAAChI,8BAA8B,CAACgE,YAA/B,CAA4C0D,UAA5C,CAAD,CAF6D,EAEFD,gBAAgB,CAACC,UAAD,CAFd,CApBzF,CAAP;AAuBD,GAxBJ,EAwBO1H,8BAA8B,CAAC0I,SAA/B,CAAyCzD,aAAzC,EAAwDN,WAAxD,CAxBP,CAFN,CAAP;AA2BD;;AAED,SAASgE,eAAT,CAAyBhE,WAAzB,EAAsC2B,WAAtC,EAAmD6B,MAAnD,EAA2DlD,aAA3D,EAA0E;AACxE,MAAI2D,QAAQ,GAAGtC,WAAW,IAAI,SAAf,GAA2BpG,kBAA3B,GAAgDC,iBAA/D;;AACA,MAAIZ,UAAU,CAACsJ,OAAX,CAAmBlE,WAAnB,CAAJ,EAAqC;AACnC,WAAO1F,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACtBC,MAAAA,SAAS,EAAE;AADW,KAA3B,EAEM9I,KAAK,CAAC6I,aAAN,CAAoB,IAApB,EAA0B;AACvBC,MAAAA,SAAS,EAAE;AADY,KAA1B,EAEI,sBAFJ,CAFN,EAImC9I,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B;AACrDC,MAAAA,SAAS,EAAE,6BAD0C;AAErDe,MAAAA,GAAG,EAAEF;AAFgD,KAA3B,CAJnC,CAAP;AAQD,GATD,MASO;AACL,WAAOV,cAAc,CAACvD,WAAD,EAAcwD,MAAd,EAAsBlD,aAAtB,CAArB;AACD;AACF;;AAED,SAAS8D,6BAAT,CAAuCC,KAAvC,EAA8C;AAC5C,MAAIjE,QAAQ,GAAGiE,KAAK,CAACjE,QAArB;AACA,MAAIuB,WAAW,GAAG0C,KAAK,CAAC1C,WAAxB;AACA,MAAIU,aAAa,GAAGgC,KAAK,CAAChC,aAA1B;AACA,MAAIC,aAAa,GAAG+B,KAAK,CAAC/B,aAA1B;AACA,MAAIhC,aAAa,GAAG+D,KAAK,CAAC/D,aAA1B;AACA,MAAIkD,MAAM,GAAGa,KAAK,CAACb,MAAnB;AACA,MAAIxD,WAAW,GAAGqE,KAAK,CAACrE,WAAxB;AACA,MAAI4B,mBAAmB,GAAGyC,KAAK,CAACzC,mBAAhC;AACA,MAAI0C,QAAQ,GAAGD,KAAK,CAACC,QAArB;AACA,MAAIrI,KAAK,GAAG3B,KAAK,CAACiK,QAAN,CAAgB,YAAY;AAChC;AAAO;AAAa;AAApB;AACD,GAFK,CAAZ;AAGA,MAAI7C,QAAQ,GAAGzF,KAAK,CAAC,CAAD,CAApB;AACA,MAAIsG,KAAK,GAAGtG,KAAK,CAAC,CAAD,CAAjB;AACA3B,EAAAA,KAAK,CAACkK,SAAN,CAAiB,UAAU/D,KAAV,EAAiB;AAC1B,QAAItF,0BAA0B,CAACsJ,cAA3B,CAA0CpC,aAA1C,EAAyDC,aAAzD,EAAwEhC,aAAxE,EAAuFN,WAAvF,CAAJ,EAAyG;AACvG3F,MAAAA,KAAK,CAAC8G,EAAN,CAASO,QAAT,EAAoB,UAAUjB,KAAV,EAAiB;AAC7B;AAAO;AAAe;AAAtB;AACD,OAFP;;AAGA0B,MAAAA,cAAc,CAAC/B,QAAD,EAAWhE,SAAX,EAAsBsF,QAAtB,EAAgCW,aAAhC,EAA+CC,aAA/C,EAA8DhC,aAA9D,EAA6EqB,WAA7E,EAA0F,EAA1F,EAA8FC,mBAA9F,CAAd;AACD;;AACD;AACD,GARP;AAQU;AAAW,GACfS,aADe,EAEfC,aAFe,EAGfhC,aAHe,EAIfqB,WAJe,EAKf2C,QALe,CARrB;AAeA,MAAInI,GAAJ;;AACA,MAAI,OAAO6D,WAAP,KAAuB,QAA3B,EAAqC;AACnC7D,IAAAA,GAAG,GAAGlB,eAAe,CAACyJ,QAAhB,CAAyB,EAAzB,EAA6BzJ,eAAe,CAAC0J,IAAhB,CAAqBvI,SAArB;AAAgC;AAAQ,KAAxC,CAA7B,CAAN;AACD,GAFD,MAEO,IAAI4D,WAAW,CAAC4E,GAAhB,EAAqB;AAC1BzI,IAAAA,GAAG,GAAG6H,eAAe,CAAChE,WAAW,CAAC,CAAD,CAAX,CAAeA,WAAhB,EAA6B2B,WAA7B,EAA0C6B,MAA1C,EAAkDlD,aAAlD,CAArB;AACD,GAFM,MAEA;AACL,QAAI8B,MAAM,GAAGpC,WAAW,CAAC,CAAD,CAAxB;AACA,QAAI6E,aAAa,GAAG7E,WAAW,CAAC,CAAD,CAAX,CAAeA,WAAnC;AACA7D,IAAAA,GAAG,GAAG7B,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B/G,SAA3B,EAAsC4H,eAAe,CAACa,aAAD,EAAgBlD,WAAhB,EAA6B6B,MAA7B,EAAqClD,aAArC,CAArD,EAA0GiC,KAAK;AAAK;AAAa,KAAvB,GAA2BtH,eAAe,CAACyJ,QAAhB,CAAyB,CAAzB,EAA4BzJ,eAAe,CAAC0J,IAAhB,CAAqBvI,SAArB;AAAgC;AAAQ,KAAxC,CAA5B,CAA3B,GAAqG9B,KAAK,CAAC6I,aAAN,CAAoB,QAApB,EAA8B;AACvOC,MAAAA,SAAS,EAAE,kDAD4N;AAEvO0B,MAAAA,OAAO,EAAG,iBAAUrE,KAAV,EAAiB;AACvBpG,QAAAA,KAAK,CAAC8G,EAAN,CAASO,QAAT,EAAoB,UAAUqD,MAAV,EAAkB;AAC9B;AAAO;AAAa;AAApB;AACD,SAFP;;AAGA,eAAO5C,cAAc,CAAC/B,QAAD,EAAWgC,MAAX,EAAmBV,QAAnB,EAA6BW,aAA7B,EAA4CC,aAA5C,EAA2DhC,aAA3D,EAA0EqB,WAA1E,EAAuFkD,aAAvF,EAAsGjD,mBAAtG,CAArB;AACD;AAPoO,KAA9B,EAQxM,cARwM,CAA/M,CAAN;AASD;;AACD,SAAOtH,KAAK,CAAC6I,aAAN,CAAoB,KAApB,EAA2B/G,SAA3B,EAAsC9B,KAAK,CAAC6I,aAAN,CAAoBnI,cAAc,CAACmF,IAAnC,EAAyC;AACtE6E,IAAAA,OAAO,EAAEzC,KAAK;AAAK;AAAe;AADoC,GAAzC,CAAtC,EAEWpG,GAFX,CAAP;AAGD;;AAED,IAAI8I,MAAM,GAAGb,6BAAb;AAEAc,OAAO,CAAC3J,kBAAR,GAA6BA,kBAA7B;AACA2J,OAAO,CAAC1J,iBAAR,GAA4BA,iBAA5B;AACA0J,OAAO,CAACzJ,GAAR,GAAcA,GAAd;AACAyJ,OAAO,CAAC1D,gBAAR,GAA2BA,gBAA3B;AACA0D,OAAO,CAACzD,iBAAR,GAA4BA,iBAA5B;AACAyD,OAAO,CAAC/C,cAAR,GAAyBA,cAAzB;AACA+C,OAAO,CAACpC,gBAAR,GAA2BA,gBAA3B;AACAoC,OAAO,CAAC7B,kBAAR,GAA6BA,kBAA7B;AACA6B,OAAO,CAAC5B,qBAAR,GAAgCA,qBAAhC;AACA4B,OAAO,CAAC3B,cAAR,GAAyBA,cAAzB;AACA2B,OAAO,CAAClB,eAAR,GAA0BA,eAA1B;AACAkB,OAAO,CAAC/E,IAAR,GAAe8E,MAAf;AACA","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Link = require(\"../../../shared/components/Link.bs.js\");\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar UserProxy = require(\"../../../shared/types/UserProxy.bs.js\");\nvar ArrayUtils = require(\"../../../shared/utils/ArrayUtils.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../shared/utils/OptionUtils.bs.js\");\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\nvar LoadingSpinner = require(\"../../../shared/components/LoadingSpinner.bs.js\");\nvar SkeletonLoading = require(\"../../../shared/components/SkeletonLoading.bs.js\");\nvar CoursesReview__Level = require(\"../types/CoursesReview__Level.bs.js\");\nvar CoursesReview__Submissions = require(\"../types/CoursesReview__Submissions.bs.js\");\nvar PendingEmptySvg = require(\"../images/pending-empty.svg\");\nvar CoursesReview__IndexSubmission = require(\"../types/CoursesReview__IndexSubmission.bs.js\");\nvar ReviewedEmptySvg = require(\"../../shared/images/reviewed-empty.svg\");\n\nvar reviewedEmptyImage = ReviewedEmptySvg.default;\n\nvar pendingEmptyImage = PendingEmptySvg.default;\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query SubmissionsQuery($courseId: ID!, $status: SubmissionStatus!, $sortDirection: SortDirection!, $levelId: ID, $coachId: ID, $after: String)  {\\nsubmissions(courseId: $courseId, status: $status, sortDirection: $sortDirection, levelId: $levelId, coachId: $coachId, first: 20, after: $after)  {\\nnodes  {\\nid  \\ntitle  \\nuserNames  \\nevaluatedAt  \\npassedAt  \\nfeedbackSent  \\nlevelId  \\ncreatedAt  \\ntargetId  \\ncoachIds  \\n}\\n\\npageInfo  {\\nendCursor  \\nhasNextPage  \\n}\\n\\ntotalCount  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"submissions\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map((function (value) {\n                var match = Js_json.decodeNull(value);\n                if (match !== undefined) {\n                  return ;\n                } else {\n                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                  var match$1 = Js_dict.get(value$1, \"id\");\n                  var tmp;\n                  if (match$1 !== undefined) {\n                    var value$2 = Caml_option.valFromOption(match$1);\n                    var match$2 = Js_json.decodeString(value$2);\n                    tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                  } else {\n                    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n                  }\n                  var match$3 = Js_dict.get(value$1, \"title\");\n                  var tmp$1;\n                  if (match$3 !== undefined) {\n                    var value$3 = Caml_option.valFromOption(match$3);\n                    var match$4 = Js_json.decodeString(value$3);\n                    tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                  } else {\n                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field title on type Submission is missing\");\n                  }\n                  var match$5 = Js_dict.get(value$1, \"userNames\");\n                  var tmp$2;\n                  if (match$5 !== undefined) {\n                    var value$4 = Caml_option.valFromOption(match$5);\n                    var match$6 = Js_json.decodeString(value$4);\n                    tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                  } else {\n                    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field userNames on type Submission is missing\");\n                  }\n                  var match$7 = Js_dict.get(value$1, \"evaluatedAt\");\n                  var tmp$3;\n                  if (match$7 !== undefined) {\n                    var value$5 = Caml_option.valFromOption(match$7);\n                    var match$8 = Js_json.decodeNull(value$5);\n                    tmp$3 = match$8 !== undefined ? undefined : Caml_option.some(value$5);\n                  } else {\n                    tmp$3 = undefined;\n                  }\n                  var match$9 = Js_dict.get(value$1, \"passedAt\");\n                  var tmp$4;\n                  if (match$9 !== undefined) {\n                    var value$6 = Caml_option.valFromOption(match$9);\n                    var match$10 = Js_json.decodeNull(value$6);\n                    tmp$4 = match$10 !== undefined ? undefined : Caml_option.some(value$6);\n                  } else {\n                    tmp$4 = undefined;\n                  }\n                  var match$11 = Js_dict.get(value$1, \"feedbackSent\");\n                  var tmp$5;\n                  if (match$11 !== undefined) {\n                    var value$7 = Caml_option.valFromOption(match$11);\n                    var match$12 = Js_json.decodeBoolean(value$7);\n                    tmp$5 = match$12 !== undefined ? match$12 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n                  } else {\n                    tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field feedbackSent on type Submission is missing\");\n                  }\n                  var match$13 = Js_dict.get(value$1, \"levelId\");\n                  var tmp$6;\n                  if (match$13 !== undefined) {\n                    var value$8 = Caml_option.valFromOption(match$13);\n                    var match$14 = Js_json.decodeString(value$8);\n                    tmp$6 = match$14 !== undefined ? match$14 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n                  } else {\n                    tmp$6 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type Submission is missing\");\n                  }\n                  var match$15 = Js_dict.get(value$1, \"createdAt\");\n                  var match$16 = Js_dict.get(value$1, \"targetId\");\n                  var tmp$7;\n                  if (match$16 !== undefined) {\n                    var value$9 = Caml_option.valFromOption(match$16);\n                    var match$17 = Js_json.decodeString(value$9);\n                    tmp$7 = match$17 !== undefined ? match$17 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$9));\n                  } else {\n                    tmp$7 = Js_exn.raiseError(\"graphql_ppx: Field targetId on type Submission is missing\");\n                  }\n                  var match$18 = Js_dict.get(value$1, \"coachIds\");\n                  return {\n                          id: tmp,\n                          title: tmp$1,\n                          userNames: tmp$2,\n                          evaluatedAt: tmp$3,\n                          passedAt: tmp$4,\n                          feedbackSent: tmp$5,\n                          levelId: tmp$6,\n                          createdAt: match$15 !== undefined ? Caml_option.valFromOption(match$15) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n                          targetId: tmp$7,\n                          coachIds: match$18 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$18))).map((function (value) {\n                                    var match = Js_json.decodeString(value);\n                                    if (match !== undefined) {\n                                      return match;\n                                    } else {\n                                      return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                                    }\n                                  })) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type Submission is missing\")\n                        };\n                }\n              }));\n    } else {\n      tmp$1 = undefined;\n    }\n    var match$3 = Js_dict.get(value$2, \"pageInfo\");\n    var tmp$2;\n    if (match$3 !== undefined) {\n      var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n      var match$4 = Js_dict.get(value$4, \"endCursor\");\n      var tmp$3;\n      if (match$4 !== undefined) {\n        var value$5 = Caml_option.valFromOption(match$4);\n        var match$5 = Js_json.decodeNull(value$5);\n        if (match$5 !== undefined) {\n          tmp$3 = undefined;\n        } else {\n          var match$6 = Js_json.decodeString(value$5);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        }\n      } else {\n        tmp$3 = undefined;\n      }\n      var match$7 = Js_dict.get(value$4, \"hasNextPage\");\n      var tmp$4;\n      if (match$7 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$7);\n        var match$8 = Js_json.decodeBoolean(value$6);\n        tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field hasNextPage on type PageInfo is missing\");\n      }\n      tmp$2 = {\n        endCursor: tmp$3,\n        hasNextPage: tmp$4\n      };\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field pageInfo on type SubmissionConnection is missing\");\n    }\n    var match$9 = Js_dict.get(value$2, \"totalCount\");\n    var tmp$5;\n    if (match$9 !== undefined) {\n      var value$7 = Caml_option.valFromOption(match$9);\n      var match$10 = Js_json.decodeNumber(value$7);\n      tmp$5 = match$10 !== undefined ? match$10 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$7));\n    } else {\n      tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field totalCount on type SubmissionConnection is missing\");\n    }\n    tmp = {\n      nodes: tmp$1,\n      pageInfo: tmp$2,\n      totalCount: tmp$5\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field submissions on type Query is missing\");\n  }\n  return {\n          submissions: tmp\n        };\n}\n\nfunction json_of_SubmissionStatus(value) {\n  if (value >= 544019991) {\n    return \"Reviewed\";\n  } else {\n    return \"Pending\";\n  }\n}\n\nfunction json_of_SortDirection(value) {\n  if (value >= 235215128) {\n    return \"Descending\";\n  } else {\n    return \"Ascending\";\n  }\n}\n\nfunction make(courseId, status, sortDirection, levelId, coachId, after, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"status\",\n                    json_of_SubmissionStatus(status)\n                  ],\n                  /* tuple */[\n                    \"sortDirection\",\n                    json_of_SortDirection(sortDirection)\n                  ],\n                  /* tuple */[\n                    \"levelId\",\n                    levelId !== undefined ? levelId : null\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId !== undefined ? coachId : null\n                  ],\n                  /* tuple */[\n                    \"after\",\n                    after !== undefined ? after : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var status = variables.status;\n  var sortDirection = variables.sortDirection;\n  var levelId = variables.levelId;\n  var coachId = variables.coachId;\n  var after = variables.after;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"status\",\n                    json_of_SubmissionStatus(status)\n                  ],\n                  /* tuple */[\n                    \"sortDirection\",\n                    json_of_SortDirection(sortDirection)\n                  ],\n                  /* tuple */[\n                    \"levelId\",\n                    levelId !== undefined ? levelId : null\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId !== undefined ? coachId : null\n                  ],\n                  /* tuple */[\n                    \"after\",\n                    after !== undefined ? after : null\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(courseId, status, sortDirection, levelId, coachId, after, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"courseId\",\n                  courseId\n                ],\n                /* tuple */[\n                  \"status\",\n                  json_of_SubmissionStatus(status)\n                ],\n                /* tuple */[\n                  \"sortDirection\",\n                  json_of_SortDirection(sortDirection)\n                ],\n                /* tuple */[\n                  \"levelId\",\n                  levelId !== undefined ? levelId : null\n                ],\n                /* tuple */[\n                  \"coachId\",\n                  coachId !== undefined ? coachId : null\n                ],\n                /* tuple */[\n                  \"after\",\n                  after !== undefined ? after : null\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, status, sortDirection, levelId, coachId, after, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"courseId\",\n                      courseId\n                    ],\n                    /* tuple */[\n                      \"status\",\n                      json_of_SubmissionStatus(status)\n                    ],\n                    /* tuple */[\n                      \"sortDirection\",\n                      json_of_SortDirection(sortDirection)\n                    ],\n                    /* tuple */[\n                      \"levelId\",\n                      levelId !== undefined ? levelId : null\n                    ],\n                    /* tuple */[\n                      \"coachId\",\n                      coachId !== undefined ? coachId : null\n                    ],\n                    /* tuple */[\n                      \"after\",\n                      after !== undefined ? after : null\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar SubmissionsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  json_of_SubmissionStatus: json_of_SubmissionStatus,\n  json_of_SortDirection: json_of_SortDirection,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateSubmissions(setState, endCursor, hasNextPage, totalCount, submissions, selectedTab, updateSubmissionsCB, nodes) {\n  Curry._5(updateSubmissionsCB, $$Array.append($$Array.of_list(List.flatten($$Array.to_list(nodes !== undefined ? CoursesReview__IndexSubmission.decodeJs(nodes) : []))), submissions), selectedTab, hasNextPage, totalCount, endCursor);\n  return Curry._1(setState, (function (param) {\n                return /* Loaded */2;\n              }));\n}\n\nfunction getSubmissions(courseId, cursor, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, submissions, updateSubmissionsCB) {\n  Curry._1(setState, (function (state) {\n          if (state !== 0) {\n            return /* Reloading */1;\n          } else {\n            return /* Loading */0;\n          }\n        }));\n  var levelId = OptionUtils.map(CoursesReview__Level.id, selectedLevel);\n  var coachId = OptionUtils.map(UserProxy.id, selectedCoach);\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(courseId, selectedTab, sortDirection, levelId, coachId, cursor, /* () */0)).then((function (response) {\n          updateSubmissions(setState, response.submissions.pageInfo.endCursor, response.submissions.pageInfo.hasNextPage, response.submissions.totalCount, submissions, selectedTab, updateSubmissionsCB, response.submissions.nodes);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction submissionStatus(submission) {\n  var match = CoursesReview__IndexSubmission.pendingReview(submission) ? /* tuple */[\n      \"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-orange-100 text-orange-600\",\n      CoursesReview__IndexSubmission.timeDistance(submission)\n    ] : (\n      CoursesReview__IndexSubmission.failed(submission) ? /* tuple */[\n          \"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-red-100 border-red-500 text-red-800\",\n          \"Failed\"\n        ] : /* tuple */[\n          \"border flex-shrink-0 leading-normal font-semibold px-3 py-px rounded bg-green-100 border-green-500 text-green-800\",\n          \"Passed\"\n        ]\n    );\n  return React.createElement(\"div\", {\n              className: match[0]\n            }, match[1]);\n}\n\nfunction feedbackSentNotice(feedbackSent) {\n  if (feedbackSent) {\n    return React.createElement(\"div\", {\n                className: \"bg-primary-100 text-primary-600 border border-transparent flex-shrink-0 leading-normal font-semibold px-3 py-px rounded mr-3\"\n              }, \"Feedback Sent\");\n  } else {\n    return null;\n  }\n}\n\nfunction submissionCardClasses(submission) {\n  return \"flex flex-col md:flex-row items-start md:items-center justify-between bg-white border-l-3 p-3 md:py-6 md:px-5 mb-4 cursor-pointer rounded-r-lg shadow hover:border-primary-500 hover:text-primary-500 hover:shadow-md \" + (\n          CoursesReview__IndexSubmission.pendingReview(submission) ? \"border-orange-400\" : (\n              CoursesReview__IndexSubmission.failed(submission) ? \"border-red-500\" : \"border-green-500\"\n            )\n        );\n}\n\nfunction showSubmission(submissions, levels, sortDirection) {\n  return React.createElement(\"div\", {\n              id: \"submissions\"\n            }, $$Array.map((function (submission) {\n                    return React.createElement(Link.make, {\n                                href: \"/submissions/\" + (CoursesReview__IndexSubmission.id(submission) + \"/review\"),\n                                ariaLabel: \"Submission \" + CoursesReview__IndexSubmission.id(submission),\n                                className: submissionCardClasses(submission),\n                                children: null,\n                                key: CoursesReview__IndexSubmission.id(submission)\n                              }, React.createElement(\"div\", {\n                                    className: \"w-full md:w-3/4\"\n                                  }, React.createElement(\"div\", {\n                                        className: \"block text-sm md:pr-2\"\n                                      }, React.createElement(\"span\", {\n                                            className: \"bg-gray-300 text-xs font-semibold px-2 py-px rounded\"\n                                          }, CoursesReview__Level.unsafeLevelNumber(levels, \"SubmissionsTab\", CoursesReview__IndexSubmission.levelId(submission))), React.createElement(\"span\", {\n                                            className: \"ml-2 font-semibold text-base\"\n                                          }, CoursesReview__IndexSubmission.title(submission))), React.createElement(\"div\", {\n                                        className: \"mt-1 ml-px text-xs text-gray-900\"\n                                      }, React.createElement(\"span\", undefined, \"Submitted by \"), React.createElement(\"span\", {\n                                            className: \"font-semibold\"\n                                          }, CoursesReview__IndexSubmission.userNames(submission)), React.createElement(\"span\", {\n                                            className: \"ml-1\"\n                                          }, \"on \" + CoursesReview__IndexSubmission.createdAtPretty(submission)))), React.createElement(\"div\", {\n                                    className: \"w-auto md:w-1/4 text-xs flex justify-end mt-2 md:mt-0\"\n                                  }, feedbackSentNotice(CoursesReview__IndexSubmission.feedbackSent(submission)), submissionStatus(submission)));\n                  }), CoursesReview__IndexSubmission.sortArray(sortDirection, submissions)));\n}\n\nfunction showSubmissions(submissions, selectedTab, levels, sortDirection) {\n  var imageSrc = selectedTab >= 544019991 ? reviewedEmptyImage : pendingEmptyImage;\n  if (ArrayUtils.isEmpty(submissions)) {\n    return React.createElement(\"div\", {\n                className: \"course-review__submissions-empty text-lg font-semibold text-center py-4\"\n              }, React.createElement(\"h5\", {\n                    className: \"py-4 mt-4 bg-gray-200 text-gray-800 font-semibold\"\n                  }, \"No submissions found\"), React.createElement(\"img\", {\n                    className: \"w-3/4 md:w-1/2 mx-auto mt-2\",\n                    src: imageSrc\n                  }));\n  } else {\n    return showSubmission(submissions, levels, sortDirection);\n  }\n}\n\nfunction CoursesReview__SubmissionsTab(Props) {\n  var courseId = Props.courseId;\n  var selectedTab = Props.selectedTab;\n  var selectedLevel = Props.selectedLevel;\n  var selectedCoach = Props.selectedCoach;\n  var sortDirection = Props.sortDirection;\n  var levels = Props.levels;\n  var submissions = Props.submissions;\n  var updateSubmissionsCB = Props.updateSubmissionsCB;\n  var reloadAt = Props.reloadAt;\n  var match = React.useState((function () {\n          return /* Loading */0;\n        }));\n  var setState = match[1];\n  var state = match[0];\n  React.useEffect((function (param) {\n          if (CoursesReview__Submissions.needsReloading(selectedLevel, selectedCoach, sortDirection, submissions)) {\n            Curry._1(setState, (function (param) {\n                    return /* Reloading */1;\n                  }));\n            getSubmissions(courseId, undefined, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, [], updateSubmissionsCB);\n          }\n          return ;\n        }), /* tuple */[\n        selectedLevel,\n        selectedCoach,\n        sortDirection,\n        selectedTab,\n        reloadAt\n      ]);\n  var tmp;\n  if (typeof submissions === \"number\") {\n    tmp = SkeletonLoading.multiple(10, SkeletonLoading.card(undefined, /* () */0));\n  } else if (submissions.tag) {\n    tmp = showSubmissions(submissions[0].submissions, selectedTab, levels, sortDirection);\n  } else {\n    var cursor = submissions[1];\n    var submissions$1 = submissions[0].submissions;\n    tmp = React.createElement(\"div\", undefined, showSubmissions(submissions$1, selectedTab, levels, sortDirection), state === /* Loading */0 ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined, /* () */0)) : React.createElement(\"button\", {\n                className: \"btn btn-primary-ghost cursor-pointer w-full mt-4\",\n                onClick: (function (param) {\n                    Curry._1(setState, (function (_state) {\n                            return /* Loading */0;\n                          }));\n                    return getSubmissions(courseId, cursor, setState, selectedLevel, selectedCoach, sortDirection, selectedTab, submissions$1, updateSubmissionsCB);\n                  })\n              }, \"Load More...\"));\n  }\n  return React.createElement(\"div\", undefined, React.createElement(LoadingSpinner.make, {\n                  loading: state === /* Reloading */1\n                }), tmp);\n}\n\nvar make$1 = CoursesReview__SubmissionsTab;\n\nexports.reviewedEmptyImage = reviewedEmptyImage;\nexports.pendingEmptyImage = pendingEmptyImage;\nexports.str = str;\nexports.SubmissionsQuery = SubmissionsQuery;\nexports.updateSubmissions = updateSubmissions;\nexports.getSubmissions = getSubmissions;\nexports.submissionStatus = submissionStatus;\nexports.feedbackSentNotice = feedbackSentNotice;\nexports.submissionCardClasses = submissionCardClasses;\nexports.showSubmission = showSubmission;\nexports.showSubmissions = showSubmissions;\nexports.make = make$1;\n/* reviewedEmptyImage Not a pure module */\n"]},"metadata":{},"sourceType":"module"}