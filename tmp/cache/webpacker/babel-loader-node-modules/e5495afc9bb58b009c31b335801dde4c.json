{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar CurriculumEditor__Target = require(\"../../types/curriculum_editor/CurriculumEditor__Target.bs.js\");\n\nvar CurriculumEditor__TargetShow = require(\"./CurriculumEditor__TargetShow.bs.js\");\n\nvar CurriculumEditor__TargetGroup = require(\"../../types/curriculum_editor/CurriculumEditor__TargetGroup.bs.js\");\n\nvar CurriculumEditor__SortResourcesMutation = require(\"../../utils/curriculum_editor/CurriculumEditor__SortResourcesMutation.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateTargetMutation($title: String!, $targetGroupId: String!)  {\\ncreateTarget(title: $title, targetGroupId: $targetGroupId)  {\\ntarget  {\\nid  \\ncontentBlockId  \\nsampleContent  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createTarget\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"target\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type CreateTarget is missing\");\n        }\n\n        var match$5 = Js_dict.get(value$4, \"contentBlockId\");\n        var tmp$3;\n\n        if (match$5 !== undefined) {\n          var value$6 = Caml_option.valFromOption(match$5);\n          var match$6 = Js_json.decodeString(value$6);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field contentBlockId on type CreateTarget is missing\");\n        }\n\n        var match$7 = Js_dict.get(value$4, \"sampleContent\");\n        var tmp$4;\n\n        if (match$7 !== undefined) {\n          var value$7 = Caml_option.valFromOption(match$7);\n          var match$8 = Js_json.decodeString(value$7);\n          tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n        } else {\n          tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field sampleContent on type CreateTarget is missing\");\n        }\n\n        tmp$1 = {\n          id: tmp$2,\n          contentBlockId: tmp$3,\n          sampleContent: tmp$4\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      target: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createTarget on type Mutation is missing\");\n  }\n\n  return {\n    createTarget: tmp\n  };\n}\n\nfunction make(title, targetGroupId, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"title\", title],\n    /* tuple */\n    [\"targetGroupId\", targetGroupId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var title = variables.title;\n  var targetGroupId = variables.targetGroupId;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"title\", title],\n    /* tuple */\n    [\"targetGroupId\", targetGroupId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(title, targetGroupId, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"title\", title],\n  /* tuple */\n  [\"targetGroupId\", targetGroupId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, title, targetGroupId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"title\", title],\n  /* tuple */\n  [\"targetGroupId\", targetGroupId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CreateTargetMutation = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction reducer(state, action) {\n  if (action) {\n    var targetTitle = action[0];\n    return {\n      targetTitle: targetTitle,\n      savingNewTarget: state.savingNewTarget,\n      validTargetTitle: targetTitle.length > 1\n    };\n  } else {\n    return {\n      targetTitle: state.targetTitle,\n      savingNewTarget: !state.savingNewTarget,\n      validTargetTitle: state.validTargetTitle\n    };\n  }\n}\n\nfunction archivedClasses(archived) {\n  return \"target-group__header flex flex-col items-center justify-center relative cursor-pointer px-20 pb-7 text-center rounded-lg rounded-b-none overflow-hidden w-full \" + (archived ? \"target-group__header--archived\" : \"\");\n}\n\nfunction updateSortIndex(targetGroups, targetGroup, up, updateTargetGroupSortIndexCB) {\n  var newTargetGroups = ListUtils.swap(up, targetGroup, targetGroups);\n  var targetGroupIds = $$Array.of_list(List.map(CurriculumEditor__TargetGroup.id, newTargetGroups));\n  CurriculumEditor__SortResourcesMutation.sort(\n  /* TargetGroup */\n  1, targetGroupIds);\n  return Curry._1(updateTargetGroupSortIndexCB, newTargetGroups);\n}\n\nfunction sortIndexHiddenClass(bool) {\n  if (bool) {\n    return \" invisible\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction CurriculumEditor__TargetGroupShow(Props) {\n  var targetGroup = Props.targetGroup;\n  var targetGroups = Props.targetGroups;\n  var targets = Props.targets;\n  var showTargetGroupEditorCB = Props.showTargetGroupEditorCB;\n  var updateTargetCB = Props.updateTargetCB;\n  var showArchived = Props.showArchived;\n  var updateTargetSortIndexCB = Props.updateTargetSortIndexCB;\n  var updateTargetGroupSortIndexCB = Props.updateTargetGroupSortIndexCB;\n  var index = Props.index;\n  var course = Props.course;\n  var match = React.useReducer(reducer, {\n    targetTitle: \"\",\n    savingNewTarget: false,\n    validTargetTitle: false\n  });\n  var send = match[1];\n  var state = match[0];\n  var milestone = CurriculumEditor__TargetGroup.milestone(targetGroup);\n  var targetGroupArchived = CurriculumEditor__TargetGroup.archived(targetGroup);\n  var targetsInTG = CurriculumEditor__Target.sort(List.filter(function (target) {\n    return CurriculumEditor__Target.targetGroupId(target) === CurriculumEditor__TargetGroup.id(targetGroup);\n  })(targets));\n  var targetsToDisplay = showArchived ? targetsInTG : List.filter(function (target) {\n    return CurriculumEditor__Target.visibility(target) !==\n    /* Archived */\n    2;\n  })(targetsInTG);\n\n  var handleResponseCB = function handleResponseCB(target) {\n    var targetId = target.id;\n    var targetGroupId = CurriculumEditor__TargetGroup.id(targetGroup);\n    var newTarget = CurriculumEditor__Target.template(targetId, targetGroupId, state.targetTitle);\n\n    Curry._1(send,\n    /* UpdateTargetSaving */\n    0);\n\n    Curry._1(send,\n    /* UpdateTargetTitle */\n    [\"\"]);\n\n    return Curry._1(updateTargetCB, newTarget);\n  };\n\n  var match$1 = CurriculumEditor__TargetGroup.description(targetGroup);\n  var tmp;\n\n  if (List.length(targetGroups) === 1) {\n    tmp = null;\n  } else {\n    var bool = (index + 1 | 0) === List.length(targetGroups);\n    tmp = React.createElement(\"div\", {\n      className: \"target-group__group-reorder flex flex-col shadow rounded-l-lg absolute h-full border border-r-0 overflow-hidden text-gray-700 justify-between items-center bg-white\"\n    }, React.createElement(\"div\", {\n      className: \"target-group__group-reorder-up flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (index === 0 ? \" invisible\" : \"\"),\n      id: \"target-group-move-up-\" + CurriculumEditor__TargetGroup.id(targetGroup),\n      title: \"Move Up\",\n      onClick: function onClick(param) {\n        return updateSortIndex(targetGroups, targetGroup, true, updateTargetGroupSortIndexCB);\n      }\n    }, React.createElement(\"i\", {\n      className: \"fas fa-arrow-up text-sm\"\n    })), React.createElement(\"div\", {\n      className: \"target-group__group-reorder-down flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (bool ? \" invisible\" : \"\"),\n      id: \"target-group-move-down-\" + CurriculumEditor__TargetGroup.id(targetGroup),\n      title: \"Move Down\",\n      onClick: function onClick(param) {\n        return updateSortIndex(targetGroups, targetGroup, false, updateTargetGroupSortIndexCB);\n      }\n    }, React.createElement(\"i\", {\n      className: \"fas fa-arrow-down text-sm\"\n    })));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"target-group__box relative mt-12 rounded-lg border border-b-0 border-gray-300 shadow-md\"\n  }, React.createElement(\"div\", {\n    className: \"w-full target-group__header-container rounded-lg rounded-b-none relative bg-white hover:bg-gray-100 hover:text-primary-500\"\n  }, React.createElement(\"div\", {\n    className: archivedClasses(CurriculumEditor__TargetGroup.archived(targetGroup)),\n    id: \"target_group\",\n    onClick: function onClick(_event) {\n      return Curry._1(showTargetGroupEditorCB, targetGroup);\n    }\n  }, milestone ? React.createElement(\"div\", {\n    className: \"inline-block px-3 py-2 bg-orange-400 font-bold text-xs rounded-b-lg leading-tight text-white uppercase\"\n  }, \"Modules\") : null, React.createElement(\"div\", {\n    className: \"target-group__title pt-6\"\n  }, React.createElement(\"h4\", undefined, CurriculumEditor__TargetGroup.name(targetGroup))), React.createElement(\"div\", {\n    className: \"target-group__description\"\n  }, React.createElement(\"p\", {\n    className: \"pt-px text-sm\"\n  }, match$1 !== undefined ? match$1 : \"\"))), tmp), $$Array.of_list(List.mapi(function (index, target) {\n    return React.createElement(CurriculumEditor__TargetShow.make, {\n      target: target,\n      targets: targetsToDisplay,\n      updateTargetSortIndexCB: updateTargetSortIndexCB,\n      index: index,\n      course: course,\n      key: CurriculumEditor__Target.id(target)\n    });\n  }, targetsToDisplay)), targetGroupArchived ? null : React.createElement(\"div\", {\n    className: \"target-group__target-create relative bg-gray-100 flex items-center border border-dashed border-gray-400 text-gray-700 hover:text-gray-900 active:text-gray-900 focus:text-gray-900 hover:shadow-lg hover:border-gray-500 rounded-lg rounded-t-none overflow-hidden\"\n  }, React.createElement(\"label\", {\n    className: \"absolute flex items-center h-full cursor-pointer pl-4\",\n    htmlFor: \"create-target-input\" + CurriculumEditor__TargetGroup.id(targetGroup)\n  }, React.createElement(\"i\", {\n    className: \"fas fa-plus-circle text-2xl\"\n  })), React.createElement(\"input\", {\n    className: \"target-create__input text-xs text-left bg-gray-100 pr-5 pl-12 py-6 rounded-b appearance-none block w-full text-sm text-gray-900 font-semibold leading-tight hover:bg-gray-100 focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"create-target-input\" + CurriculumEditor__TargetGroup.id(targetGroup),\n    title: \"Create target\",\n    placeholder: \"Create a target\",\n    value: state.targetTitle,\n    onChange: function onChange($$event) {\n      return Curry._1(send,\n      /* UpdateTargetTitle */\n      [$$event.target.value]);\n    }\n  }), state.validTargetTitle ? React.createElement(\"button\", {\n    className: \"flex items-center whitespace-no-wrap text-sm font-semibold py-2 px-4 mr-4 rounded btn-primary appearance-none focus:outline-none text-center\",\n    disabled: state.savingNewTarget,\n    onClick: function onClick(_e) {\n      var title = state.targetTitle;\n      var targetGroupId = CurriculumEditor__TargetGroup.id(targetGroup);\n\n      Curry._1(send,\n      /* UpdateTargetSaving */\n      0);\n\n      (function (eta) {\n        return GraphqlQuery.sendQuery(undefined, eta);\n      })(make(title, targetGroupId,\n      /* () */\n      0)).then(function (response) {\n        var match = response.createTarget.target;\n\n        if (match !== undefined) {\n          handleResponseCB(Caml_option.valFromOption(match));\n        }\n\n        return Promise.resolve(\n        /* () */\n        0);\n      });\n      return (\n        /* () */\n        0\n      );\n    }\n  }, \"Create\") : null));\n}\n\nvar make$1 = CurriculumEditor__TargetGroupShow;\nexports.str = str;\nexports.CreateTargetMutation = CreateTargetMutation;\nexports.reducer = reducer;\nexports.archivedClasses = archivedClasses;\nexports.updateSortIndex = updateSortIndex;\nexports.sortIndexHiddenClass = sortIndexHiddenClass;\nexports.make = make$1;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/curriculum_editor/CurriculumEditor__TargetGroupShow.bs.js"],"names":["List","require","$$Array","Curry","React","Js_exn","Js_dict","Js_json","Js_option","ListUtils","Caml_option","GraphqlQuery","CurriculumEditor__Target","CurriculumEditor__TargetShow","CurriculumEditor__TargetGroup","CurriculumEditor__SortResourcesMutation","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","value$4","match$3","tmp$2","value$5","match$4","decodeString","raiseError","JSON","stringify","match$5","tmp$3","value$6","match$6","match$7","tmp$4","value$7","match$8","id","contentBlockId","sampleContent","target","createTarget","make","title","targetGroupId","param","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","CreateTargetMutation","reducer","state","action","targetTitle","savingNewTarget","validTargetTitle","length","archivedClasses","archived","updateSortIndex","targetGroups","targetGroup","up","updateTargetGroupSortIndexCB","newTargetGroups","swap","targetGroupIds","of_list","map","sort","sortIndexHiddenClass","bool","CurriculumEditor__TargetGroupShow","Props","targets","showTargetGroupEditorCB","updateTargetCB","showArchived","updateTargetSortIndexCB","index","course","useReducer","send","milestone","targetGroupArchived","targetsInTG","targetsToDisplay","visibility","handleResponseCB","targetId","newTarget","template","description","createElement","className","onClick","_event","name","mapi","key","htmlFor","placeholder","onChange","$$event","disabled","_e","eta","sendQuery","then","response","Promise","resolve","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar ListUtils = require(\"../../../../shared/utils/ListUtils.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar CurriculumEditor__Target = require(\"../../types/curriculum_editor/CurriculumEditor__Target.bs.js\");\nvar CurriculumEditor__TargetShow = require(\"./CurriculumEditor__TargetShow.bs.js\");\nvar CurriculumEditor__TargetGroup = require(\"../../types/curriculum_editor/CurriculumEditor__TargetGroup.bs.js\");\nvar CurriculumEditor__SortResourcesMutation = require(\"../../utils/curriculum_editor/CurriculumEditor__SortResourcesMutation.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateTargetMutation($title: String!, $targetGroupId: String!)  {\\ncreateTarget(title: $title, targetGroupId: $targetGroupId)  {\\ntarget  {\\nid  \\ncontentBlockId  \\nsampleContent  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createTarget\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"target\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type CreateTarget is missing\");\n        }\n        var match$5 = Js_dict.get(value$4, \"contentBlockId\");\n        var tmp$3;\n        if (match$5 !== undefined) {\n          var value$6 = Caml_option.valFromOption(match$5);\n          var match$6 = Js_json.decodeString(value$6);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n        } else {\n          tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field contentBlockId on type CreateTarget is missing\");\n        }\n        var match$7 = Js_dict.get(value$4, \"sampleContent\");\n        var tmp$4;\n        if (match$7 !== undefined) {\n          var value$7 = Caml_option.valFromOption(match$7);\n          var match$8 = Js_json.decodeString(value$7);\n          tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$7));\n        } else {\n          tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field sampleContent on type CreateTarget is missing\");\n        }\n        tmp$1 = {\n          id: tmp$2,\n          contentBlockId: tmp$3,\n          sampleContent: tmp$4\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      target: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createTarget on type Mutation is missing\");\n  }\n  return {\n          createTarget: tmp\n        };\n}\n\nfunction make(title, targetGroupId, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"title\",\n                    title\n                  ],\n                  /* tuple */[\n                    \"targetGroupId\",\n                    targetGroupId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var title = variables.title;\n  var targetGroupId = variables.targetGroupId;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"title\",\n                    title\n                  ],\n                  /* tuple */[\n                    \"targetGroupId\",\n                    targetGroupId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(title, targetGroupId, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"title\",\n                  title\n                ],\n                /* tuple */[\n                  \"targetGroupId\",\n                  targetGroupId\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, title, targetGroupId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"title\",\n                      title\n                    ],\n                    /* tuple */[\n                      \"targetGroupId\",\n                      targetGroupId\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CreateTargetMutation = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction reducer(state, action) {\n  if (action) {\n    var targetTitle = action[0];\n    return {\n            targetTitle: targetTitle,\n            savingNewTarget: state.savingNewTarget,\n            validTargetTitle: targetTitle.length > 1\n          };\n  } else {\n    return {\n            targetTitle: state.targetTitle,\n            savingNewTarget: !state.savingNewTarget,\n            validTargetTitle: state.validTargetTitle\n          };\n  }\n}\n\nfunction archivedClasses(archived) {\n  return \"target-group__header flex flex-col items-center justify-center relative cursor-pointer px-20 pb-7 text-center rounded-lg rounded-b-none overflow-hidden w-full \" + (\n          archived ? \"target-group__header--archived\" : \"\"\n        );\n}\n\nfunction updateSortIndex(targetGroups, targetGroup, up, updateTargetGroupSortIndexCB) {\n  var newTargetGroups = ListUtils.swap(up, targetGroup, targetGroups);\n  var targetGroupIds = $$Array.of_list(List.map(CurriculumEditor__TargetGroup.id, newTargetGroups));\n  CurriculumEditor__SortResourcesMutation.sort(/* TargetGroup */1, targetGroupIds);\n  return Curry._1(updateTargetGroupSortIndexCB, newTargetGroups);\n}\n\nfunction sortIndexHiddenClass(bool) {\n  if (bool) {\n    return \" invisible\";\n  } else {\n    return \"\";\n  }\n}\n\nfunction CurriculumEditor__TargetGroupShow(Props) {\n  var targetGroup = Props.targetGroup;\n  var targetGroups = Props.targetGroups;\n  var targets = Props.targets;\n  var showTargetGroupEditorCB = Props.showTargetGroupEditorCB;\n  var updateTargetCB = Props.updateTargetCB;\n  var showArchived = Props.showArchived;\n  var updateTargetSortIndexCB = Props.updateTargetSortIndexCB;\n  var updateTargetGroupSortIndexCB = Props.updateTargetGroupSortIndexCB;\n  var index = Props.index;\n  var course = Props.course;\n  var match = React.useReducer(reducer, {\n        targetTitle: \"\",\n        savingNewTarget: false,\n        validTargetTitle: false\n      });\n  var send = match[1];\n  var state = match[0];\n  var milestone = CurriculumEditor__TargetGroup.milestone(targetGroup);\n  var targetGroupArchived = CurriculumEditor__TargetGroup.archived(targetGroup);\n  var targetsInTG = CurriculumEditor__Target.sort(List.filter((function (target) {\n                return CurriculumEditor__Target.targetGroupId(target) === CurriculumEditor__TargetGroup.id(targetGroup);\n              }))(targets));\n  var targetsToDisplay = showArchived ? targetsInTG : List.filter((function (target) {\n              return CurriculumEditor__Target.visibility(target) !== /* Archived */2;\n            }))(targetsInTG);\n  var handleResponseCB = function (target) {\n    var targetId = target.id;\n    var targetGroupId = CurriculumEditor__TargetGroup.id(targetGroup);\n    var newTarget = CurriculumEditor__Target.template(targetId, targetGroupId, state.targetTitle);\n    Curry._1(send, /* UpdateTargetSaving */0);\n    Curry._1(send, /* UpdateTargetTitle */[\"\"]);\n    return Curry._1(updateTargetCB, newTarget);\n  };\n  var match$1 = CurriculumEditor__TargetGroup.description(targetGroup);\n  var tmp;\n  if (List.length(targetGroups) === 1) {\n    tmp = null;\n  } else {\n    var bool = (index + 1 | 0) === List.length(targetGroups);\n    tmp = React.createElement(\"div\", {\n          className: \"target-group__group-reorder flex flex-col shadow rounded-l-lg absolute h-full border border-r-0 overflow-hidden text-gray-700 justify-between items-center bg-white\"\n        }, React.createElement(\"div\", {\n              className: \"target-group__group-reorder-up flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (\n                index === 0 ? \" invisible\" : \"\"\n              ),\n              id: \"target-group-move-up-\" + CurriculumEditor__TargetGroup.id(targetGroup),\n              title: \"Move Up\",\n              onClick: (function (param) {\n                  return updateSortIndex(targetGroups, targetGroup, true, updateTargetGroupSortIndexCB);\n                })\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-arrow-up text-sm\"\n                })), React.createElement(\"div\", {\n              className: \"target-group__group-reorder-down flex items-center justify-center cursor-pointer w-9 h-9 p-1 text-gray-400 hover:bg-gray-200\" + (\n                bool ? \" invisible\" : \"\"\n              ),\n              id: \"target-group-move-down-\" + CurriculumEditor__TargetGroup.id(targetGroup),\n              title: \"Move Down\",\n              onClick: (function (param) {\n                  return updateSortIndex(targetGroups, targetGroup, false, updateTargetGroupSortIndexCB);\n                })\n            }, React.createElement(\"i\", {\n                  className: \"fas fa-arrow-down text-sm\"\n                })));\n  }\n  return React.createElement(\"div\", {\n              className: \"target-group__box relative mt-12 rounded-lg border border-b-0 border-gray-300 shadow-md\"\n            }, React.createElement(\"div\", {\n                  className: \"w-full target-group__header-container rounded-lg rounded-b-none relative bg-white hover:bg-gray-100 hover:text-primary-500\"\n                }, React.createElement(\"div\", {\n                      className: archivedClasses(CurriculumEditor__TargetGroup.archived(targetGroup)),\n                      id: \"target_group\",\n                      onClick: (function (_event) {\n                          return Curry._1(showTargetGroupEditorCB, targetGroup);\n                        })\n                    }, milestone ? React.createElement(\"div\", {\n                            className: \"inline-block px-3 py-2 bg-orange-400 font-bold text-xs rounded-b-lg leading-tight text-white uppercase\"\n                          }, \"Modules\") : null, React.createElement(\"div\", {\n                          className: \"target-group__title pt-6\"\n                        }, React.createElement(\"h4\", undefined, CurriculumEditor__TargetGroup.name(targetGroup))), React.createElement(\"div\", {\n                          className: \"target-group__description\"\n                        }, React.createElement(\"p\", {\n                              className: \"pt-px text-sm\"\n                            }, match$1 !== undefined ? match$1 : \"\"))), tmp), $$Array.of_list(List.mapi((function (index, target) {\n                        return React.createElement(CurriculumEditor__TargetShow.make, {\n                                    target: target,\n                                    targets: targetsToDisplay,\n                                    updateTargetSortIndexCB: updateTargetSortIndexCB,\n                                    index: index,\n                                    course: course,\n                                    key: CurriculumEditor__Target.id(target)\n                                  });\n                      }), targetsToDisplay)), targetGroupArchived ? null : React.createElement(\"div\", {\n                    className: \"target-group__target-create relative bg-gray-100 flex items-center border border-dashed border-gray-400 text-gray-700 hover:text-gray-900 active:text-gray-900 focus:text-gray-900 hover:shadow-lg hover:border-gray-500 rounded-lg rounded-t-none overflow-hidden\"\n                  }, React.createElement(\"label\", {\n                        className: \"absolute flex items-center h-full cursor-pointer pl-4\",\n                        htmlFor: \"create-target-input\" + CurriculumEditor__TargetGroup.id(targetGroup)\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-plus-circle text-2xl\"\n                          })), React.createElement(\"input\", {\n                        className: \"target-create__input text-xs text-left bg-gray-100 pr-5 pl-12 py-6 rounded-b appearance-none block w-full text-sm text-gray-900 font-semibold leading-tight hover:bg-gray-100 focus:outline-none focus:bg-white focus:border-gray-500\",\n                        id: \"create-target-input\" + CurriculumEditor__TargetGroup.id(targetGroup),\n                        title: \"Create target\",\n                        placeholder: \"Create a target\",\n                        value: state.targetTitle,\n                        onChange: (function ($$event) {\n                            return Curry._1(send, /* UpdateTargetTitle */[$$event.target.value]);\n                          })\n                      }), state.validTargetTitle ? React.createElement(\"button\", {\n                          className: \"flex items-center whitespace-no-wrap text-sm font-semibold py-2 px-4 mr-4 rounded btn-primary appearance-none focus:outline-none text-center\",\n                          disabled: state.savingNewTarget,\n                          onClick: (function (_e) {\n                              var title = state.targetTitle;\n                              var targetGroupId = CurriculumEditor__TargetGroup.id(targetGroup);\n                              Curry._1(send, /* UpdateTargetSaving */0);\n                              (function (eta) {\n                                      return GraphqlQuery.sendQuery(undefined, eta);\n                                    })(make(title, targetGroupId, /* () */0)).then((function (response) {\n                                      var match = response.createTarget.target;\n                                      if (match !== undefined) {\n                                        handleResponseCB(Caml_option.valFromOption(match));\n                                      }\n                                      return Promise.resolve(/* () */0);\n                                    }));\n                              return /* () */0;\n                            })\n                        }, \"Create\") : null));\n}\n\nvar make$1 = CurriculumEditor__TargetGroupShow;\n\nexports.str = str;\nexports.CreateTargetMutation = CreateTargetMutation;\nexports.reducer = reducer;\nexports.archivedClasses = archivedClasses;\nexports.updateSortIndex = updateSortIndex;\nexports.sortIndexHiddenClass = sortIndexHiddenClass;\nexports.make = make$1;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}