{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\n\nvar SubmissionChecklistItem = require(\"../../review/types/SubmissionChecklistItem.bs.js\");\n\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\n\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\n\nvar CoursesCurriculum__QuizQuestion = require(\"../types/CoursesCurriculum__QuizQuestion.bs.js\");\n\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\n\nrequire(\"./CoursesCurriculum__Quiz.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateQuizSubmissionMutation($targetId: ID!, $answerIds: [ID!]!)  {\\ncreateQuizSubmission(targetId: $targetId, answerIds: $answerIds)  {\\nsubmission  {\\nid  \\ncreatedAt  \\nchecklist  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createQuizSubmission\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"submission\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n        }\n\n        var match$5 = Js_dict.get(value$4, \"createdAt\");\n        var match$6 = Js_dict.get(value$4, \"checklist\");\n        tmp$1 = {\n          id: tmp$2,\n          createdAt: match$5 !== undefined ? Caml_option.valFromOption(match$5) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n          checklist: match$6 !== undefined ? Caml_option.valFromOption(match$6) : Js_exn.raiseError(\"graphql_ppx: Field checklist on type Submission is missing\")\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      submission: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createQuizSubmission on type Mutation is missing\");\n  }\n\n  return {\n    createQuizSubmission: tmp\n  };\n}\n\nfunction make(targetId, answerIds, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"targetId\", targetId],\n    /* tuple */\n    [\"answerIds\", answerIds.map(function (prim) {\n      return prim;\n    })]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var targetId = variables.targetId;\n  var answerIds = variables.answerIds;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"targetId\", targetId],\n    /* tuple */\n    [\"answerIds\", answerIds.map(function (prim) {\n      return prim;\n    })]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(targetId, answerIds, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"targetId\", targetId],\n  /* tuple */\n  [\"answerIds\", answerIds.map(function (prim) {\n    return prim;\n  })]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, targetId, answerIds, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"targetId\", targetId],\n  /* tuple */\n  [\"answerIds\", answerIds.map(function (prim) {\n    return prim;\n  })]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CreateQuizSubmissionQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction createQuizSubmission(target, selectedAnswersIds, setSaving, addSubmissionCB) {\n  Curry._1(setSaving, function (param) {\n    return true;\n  });\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(CoursesCurriculum__Target.id(target), $$Array.of_list(selectedAnswersIds),\n  /* () */\n  0)).then(function (response) {\n    var match = response.createQuizSubmission.submission;\n\n    if (match !== undefined) {\n      var submission = Caml_option.valFromOption(match);\n      var partial_arg = [];\n      var checklist = Json_decode.array(function (param) {\n        return SubmissionChecklistItem.decode(partial_arg, param);\n      }, submission.checklist);\n\n      Curry._1(addSubmissionCB, CoursesCurriculum__Submission.make(submission.id, DateFns.decodeISO(submission.createdAt),\n      /* MarkedAsComplete */\n      0, checklist));\n    } else {\n      Curry._1(setSaving, function (param) {\n        return false;\n      });\n    }\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction answerOptionClasses(answerOption, selectedAnswer) {\n  var defaultClasses = \"quiz-root__answer bg-white flex items-center shadow border border-transparent rounded p-3 mt-3 cursor-pointer \";\n\n  if (selectedAnswer !== undefined && Caml_obj.caml_equal(Caml_option.valFromOption(selectedAnswer), answerOption)) {\n    return \"quiz-root__answer bg-white flex items-center shadow border border-transparent rounded p-3 mt-3 cursor-pointer bg-primary-100 border-primary-500 text-primary-500 shadow-md quiz-root__answer-selected \";\n  } else {\n    return defaultClasses;\n  }\n}\n\nfunction iconClasses(answerOption, selectedAnswer) {\n  if (selectedAnswer !== undefined && Caml_obj.caml_equal(Caml_option.valFromOption(selectedAnswer), answerOption)) {\n    return \"quiz-root__answer-option-icon far fa-check-circle text-lg text-primary-500\";\n  } else {\n    return \"quiz-root__answer-option-icon far fa-check-circle text-lg text-gray-500\";\n  }\n}\n\nfunction handleSubmit(answer, target, selectedAnswersIds, setSaving, addSubmissionCB, $$event) {\n  $$event.preventDefault();\n  var answerIds = List.append(\n  /* :: */\n  [CoursesCurriculum__QuizQuestion.answerId(answer),\n  /* [] */\n  0], selectedAnswersIds);\n  return createQuizSubmission(target, answerIds, setSaving, addSubmissionCB);\n}\n\nfunction CoursesCurriculum__Quiz(Props) {\n  var target = Props.target;\n  var targetDetails = Props.targetDetails;\n  var addSubmissionCB = Props.addSubmissionCB;\n  var preview = Props.preview;\n  var quizQuestions = CoursesCurriculum__TargetDetails.quizQuestions(targetDetails);\n  var match = React.useState(function () {\n    return false;\n  });\n  var setSaving = match[1];\n  var match$1 = React.useState(function () {\n    return List.hd(quizQuestions);\n  });\n  var setSelectedQuestion = match$1[1];\n  var selectedQuestion = match$1[0];\n  var match$2 = React.useState(function () {\n    return;\n  });\n  var setSelectedAnswer = match$2[1];\n  var selectedAnswer = match$2[0];\n  var match$3 = React.useState(function () {\n    return (\n      /* [] */\n      0\n    );\n  });\n  var setSelectedAnswersIds = match$3[1];\n  var selectedAnswersIds = match$3[0];\n  var tmp;\n\n  if (selectedAnswer !== undefined) {\n    var answer = selectedAnswer;\n    var tmp$1;\n\n    if (CoursesCurriculum__QuizQuestion.isLastQuestion(quizQuestions, selectedQuestion)) {\n      tmp$1 = React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: match[0] || preview,\n        onClick: function onClick(param) {\n          return handleSubmit(answer, target, selectedAnswersIds, setSaving, addSubmissionCB, param);\n        }\n      }, \"Submit Quiz\");\n    } else {\n      var nextQuestion = CoursesCurriculum__QuizQuestion.nextQuestion(quizQuestions, selectedQuestion);\n      tmp$1 = React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(param) {\n          Curry._1(setSelectedQuestion, function (param) {\n            return nextQuestion;\n          });\n\n          Curry._1(setSelectedAnswersIds, function (param) {\n            return List.append(\n            /* :: */\n            [CoursesCurriculum__QuizQuestion.answerId(answer),\n            /* [] */\n            0], selectedAnswersIds);\n          });\n\n          return Curry._1(setSelectedAnswer, function (param) {\n            return;\n          });\n        }\n      }, \"Next Question\");\n    }\n\n    tmp = React.createElement(\"div\", {\n      className: \"quiz-root__answer-submit-section text-center py-4 border-t border-gray-400 fixed z-10 left-0 right-0 bottom-0 w-full\"\n    }, tmp$1);\n  } else {\n    tmp = null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"bg-gray-100 rounded overflow-hidden relative mb-18 mt-4\"\n  }, React.createElement(\"div\", {\n    className: \"p-2 md:p-5\"\n  }, React.createElement(\"span\", {\n    className: \"font-semibold text-xs block uppercase text-gray-600\"\n  }, \"Question #\", String(CoursesCurriculum__QuizQuestion.index(selectedQuestion) + 1 | 0)), React.createElement(MarkdownBlock.make, {\n    markdown: CoursesCurriculum__QuizQuestion.question(selectedQuestion),\n    className: \"font-semibold text-lg md:text-xl\",\n    profile:\n    /* Permissive */\n    2\n  }), React.createElement(\"div\", {\n    className: \"pt-2\"\n  }, $$Array.of_list(List.map(function (answerOption) {\n    return React.createElement(\"div\", {\n      key: CoursesCurriculum__QuizQuestion.answerId(answerOption),\n      className: answerOptionClasses(answerOption, selectedAnswer),\n      onClick: function onClick(param) {\n        return Curry._1(setSelectedAnswer, function (param) {\n          return answerOption;\n        });\n      }\n    }, React.createElement(FaIcon.make, {\n      classes: iconClasses(answerOption, selectedAnswer)\n    }), React.createElement(MarkdownBlock.make, {\n      markdown: CoursesCurriculum__QuizQuestion.answerValue(answerOption),\n      className: \"overflow-auto ml-2 w-full\",\n      profile:\n      /* Permissive */\n      2\n    }));\n  }, CoursesCurriculum__QuizQuestion.answerOptions(selectedQuestion))))), tmp);\n}\n\nvar make$1 = CoursesCurriculum__Quiz;\nexports.str = str;\nexports.CreateQuizSubmissionQuery = CreateQuizSubmissionQuery;\nexports.createQuizSubmission = createQuizSubmission;\nexports.answerOptionClasses = answerOptionClasses;\nexports.iconClasses = iconClasses;\nexports.handleSubmit = handleSubmit;\nexports.make = make$1;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/curricula/components/CoursesCurriculum__Quiz.bs.js"],"names":["List","require","$$Array","Curry","React","FaIcon","Js_exn","DateFns","Js_dict","Js_json","Caml_obj","Js_option","Caml_option","Json_decode","GraphqlQuery","MarkdownBlock","SubmissionChecklistItem","CoursesCurriculum__Target","CoursesCurriculum__Submission","CoursesCurriculum__QuizQuestion","CoursesCurriculum__TargetDetails","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","value$4","match$3","tmp$2","value$5","match$4","decodeString","raiseError","JSON","stringify","match$5","match$6","id","createdAt","checklist","submission","createQuizSubmission","make","targetId","answerIds","param","query","variables","fromArray","map","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","CreateQuizSubmissionQuery","target","selectedAnswersIds","setSaving","addSubmissionCB","eta","sendQuery","of_list","then","response","partial_arg","array","decode","decodeISO","Promise","resolve","answerOptionClasses","answerOption","selectedAnswer","defaultClasses","caml_equal","iconClasses","handleSubmit","answer","$$event","preventDefault","append","answerId","CoursesCurriculum__Quiz","Props","targetDetails","preview","quizQuestions","useState","hd","setSelectedQuestion","selectedQuestion","setSelectedAnswer","setSelectedAnswersIds","isLastQuestion","createElement","className","disabled","onClick","nextQuestion","String","index","markdown","question","profile","key","classes","answerValue","answerOptions","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar FaIcon = require(\"../../../shared/components/FaIcon.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar DateFns = require(\"../../../shared/utils/DateFns.bs.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar GraphqlQuery = require(\"../../../shared/utils/GraphqlQuery.bs.js\");\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\nvar SubmissionChecklistItem = require(\"../../review/types/SubmissionChecklistItem.bs.js\");\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\nvar CoursesCurriculum__QuizQuestion = require(\"../types/CoursesCurriculum__QuizQuestion.bs.js\");\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\n\n((require(\"./CoursesCurriculum__Quiz.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"mutation CreateQuizSubmissionMutation($targetId: ID!, $answerIds: [ID!]!)  {\\ncreateQuizSubmission(targetId: $targetId, answerIds: $answerIds)  {\\nsubmission  {\\nid  \\ncreatedAt  \\nchecklist  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"createQuizSubmission\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"submission\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      if (match$2 !== undefined) {\n        tmp$1 = undefined;\n      } else {\n        var value$4 = Js_option.getExn(Js_json.decodeObject(value$3));\n        var match$3 = Js_dict.get(value$4, \"id\");\n        var tmp$2;\n        if (match$3 !== undefined) {\n          var value$5 = Caml_option.valFromOption(match$3);\n          var match$4 = Js_json.decodeString(value$5);\n          tmp$2 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        } else {\n          tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field id on type Submission is missing\");\n        }\n        var match$5 = Js_dict.get(value$4, \"createdAt\");\n        var match$6 = Js_dict.get(value$4, \"checklist\");\n        tmp$1 = {\n          id: tmp$2,\n          createdAt: match$5 !== undefined ? Caml_option.valFromOption(match$5) : Js_exn.raiseError(\"graphql_ppx: Field createdAt on type Submission is missing\"),\n          checklist: match$6 !== undefined ? Caml_option.valFromOption(match$6) : Js_exn.raiseError(\"graphql_ppx: Field checklist on type Submission is missing\")\n        };\n      }\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      submission: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field createQuizSubmission on type Mutation is missing\");\n  }\n  return {\n          createQuizSubmission: tmp\n        };\n}\n\nfunction make(targetId, answerIds, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"targetId\",\n                    targetId\n                  ],\n                  /* tuple */[\n                    \"answerIds\",\n                    answerIds.map((function (prim) {\n                            return prim;\n                          }))\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var targetId = variables.targetId;\n  var answerIds = variables.answerIds;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"targetId\",\n                    targetId\n                  ],\n                  /* tuple */[\n                    \"answerIds\",\n                    answerIds.map((function (prim) {\n                            return prim;\n                          }))\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(targetId, answerIds, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"targetId\",\n                  targetId\n                ],\n                /* tuple */[\n                  \"answerIds\",\n                  answerIds.map((function (prim) {\n                          return prim;\n                        }))\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, targetId, answerIds, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"targetId\",\n                      targetId\n                    ],\n                    /* tuple */[\n                      \"answerIds\",\n                      answerIds.map((function (prim) {\n                              return prim;\n                            }))\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CreateQuizSubmissionQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction createQuizSubmission(target, selectedAnswersIds, setSaving, addSubmissionCB) {\n  Curry._1(setSaving, (function (param) {\n          return true;\n        }));\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(CoursesCurriculum__Target.id(target), $$Array.of_list(selectedAnswersIds), /* () */0)).then((function (response) {\n          var match = response.createQuizSubmission.submission;\n          if (match !== undefined) {\n            var submission = Caml_option.valFromOption(match);\n            var partial_arg = [];\n            var checklist = Json_decode.array((function (param) {\n                    return SubmissionChecklistItem.decode(partial_arg, param);\n                  }), submission.checklist);\n            Curry._1(addSubmissionCB, CoursesCurriculum__Submission.make(submission.id, DateFns.decodeISO(submission.createdAt), /* MarkedAsComplete */0, checklist));\n          } else {\n            Curry._1(setSaving, (function (param) {\n                    return false;\n                  }));\n          }\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction answerOptionClasses(answerOption, selectedAnswer) {\n  var defaultClasses = \"quiz-root__answer bg-white flex items-center shadow border border-transparent rounded p-3 mt-3 cursor-pointer \";\n  if (selectedAnswer !== undefined && Caml_obj.caml_equal(Caml_option.valFromOption(selectedAnswer), answerOption)) {\n    return \"quiz-root__answer bg-white flex items-center shadow border border-transparent rounded p-3 mt-3 cursor-pointer bg-primary-100 border-primary-500 text-primary-500 shadow-md quiz-root__answer-selected \";\n  } else {\n    return defaultClasses;\n  }\n}\n\nfunction iconClasses(answerOption, selectedAnswer) {\n  if (selectedAnswer !== undefined && Caml_obj.caml_equal(Caml_option.valFromOption(selectedAnswer), answerOption)) {\n    return \"quiz-root__answer-option-icon far fa-check-circle text-lg text-primary-500\";\n  } else {\n    return \"quiz-root__answer-option-icon far fa-check-circle text-lg text-gray-500\";\n  }\n}\n\nfunction handleSubmit(answer, target, selectedAnswersIds, setSaving, addSubmissionCB, $$event) {\n  $$event.preventDefault();\n  var answerIds = List.append(/* :: */[\n        CoursesCurriculum__QuizQuestion.answerId(answer),\n        /* [] */0\n      ], selectedAnswersIds);\n  return createQuizSubmission(target, answerIds, setSaving, addSubmissionCB);\n}\n\nfunction CoursesCurriculum__Quiz(Props) {\n  var target = Props.target;\n  var targetDetails = Props.targetDetails;\n  var addSubmissionCB = Props.addSubmissionCB;\n  var preview = Props.preview;\n  var quizQuestions = CoursesCurriculum__TargetDetails.quizQuestions(targetDetails);\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setSaving = match[1];\n  var match$1 = React.useState((function () {\n          return List.hd(quizQuestions);\n        }));\n  var setSelectedQuestion = match$1[1];\n  var selectedQuestion = match$1[0];\n  var match$2 = React.useState((function () {\n          return ;\n        }));\n  var setSelectedAnswer = match$2[1];\n  var selectedAnswer = match$2[0];\n  var match$3 = React.useState((function () {\n          return /* [] */0;\n        }));\n  var setSelectedAnswersIds = match$3[1];\n  var selectedAnswersIds = match$3[0];\n  var tmp;\n  if (selectedAnswer !== undefined) {\n    var answer = selectedAnswer;\n    var tmp$1;\n    if (CoursesCurriculum__QuizQuestion.isLastQuestion(quizQuestions, selectedQuestion)) {\n      tmp$1 = React.createElement(\"button\", {\n            className: \"btn btn-primary\",\n            disabled: match[0] || preview,\n            onClick: (function (param) {\n                return handleSubmit(answer, target, selectedAnswersIds, setSaving, addSubmissionCB, param);\n              })\n          }, \"Submit Quiz\");\n    } else {\n      var nextQuestion = CoursesCurriculum__QuizQuestion.nextQuestion(quizQuestions, selectedQuestion);\n      tmp$1 = React.createElement(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: (function (param) {\n                Curry._1(setSelectedQuestion, (function (param) {\n                        return nextQuestion;\n                      }));\n                Curry._1(setSelectedAnswersIds, (function (param) {\n                        return List.append(/* :: */[\n                                    CoursesCurriculum__QuizQuestion.answerId(answer),\n                                    /* [] */0\n                                  ], selectedAnswersIds);\n                      }));\n                return Curry._1(setSelectedAnswer, (function (param) {\n                              return ;\n                            }));\n              })\n          }, \"Next Question\");\n    }\n    tmp = React.createElement(\"div\", {\n          className: \"quiz-root__answer-submit-section text-center py-4 border-t border-gray-400 fixed z-10 left-0 right-0 bottom-0 w-full\"\n        }, tmp$1);\n  } else {\n    tmp = null;\n  }\n  return React.createElement(\"div\", {\n              className: \"bg-gray-100 rounded overflow-hidden relative mb-18 mt-4\"\n            }, React.createElement(\"div\", {\n                  className: \"p-2 md:p-5\"\n                }, React.createElement(\"span\", {\n                      className: \"font-semibold text-xs block uppercase text-gray-600\"\n                    }, \"Question #\", String(CoursesCurriculum__QuizQuestion.index(selectedQuestion) + 1 | 0)), React.createElement(MarkdownBlock.make, {\n                      markdown: CoursesCurriculum__QuizQuestion.question(selectedQuestion),\n                      className: \"font-semibold text-lg md:text-xl\",\n                      profile: /* Permissive */2\n                    }), React.createElement(\"div\", {\n                      className: \"pt-2\"\n                    }, $$Array.of_list(List.map((function (answerOption) {\n                                return React.createElement(\"div\", {\n                                            key: CoursesCurriculum__QuizQuestion.answerId(answerOption),\n                                            className: answerOptionClasses(answerOption, selectedAnswer),\n                                            onClick: (function (param) {\n                                                return Curry._1(setSelectedAnswer, (function (param) {\n                                                              return answerOption;\n                                                            }));\n                                              })\n                                          }, React.createElement(FaIcon.make, {\n                                                classes: iconClasses(answerOption, selectedAnswer)\n                                              }), React.createElement(MarkdownBlock.make, {\n                                                markdown: CoursesCurriculum__QuizQuestion.answerValue(answerOption),\n                                                className: \"overflow-auto ml-2 w-full\",\n                                                profile: /* Permissive */2\n                                              }));\n                              }), CoursesCurriculum__QuizQuestion.answerOptions(selectedQuestion))))), tmp);\n}\n\nvar make$1 = CoursesCurriculum__Quiz;\n\nexports.str = str;\nexports.CreateQuizSubmissionQuery = CreateQuizSubmissionQuery;\nexports.createQuizSubmission = createQuizSubmission;\nexports.answerOptionClasses = answerOptionClasses;\nexports.iconClasses = iconClasses;\nexports.handleSubmit = handleSubmit;\nexports.make = make$1;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}