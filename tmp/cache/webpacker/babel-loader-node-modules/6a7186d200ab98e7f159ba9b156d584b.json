{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Avatar = require(\"../../../../shared/Avatar.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar SkeletonLoading = require(\"../../../../shared/components/SkeletonLoading.bs.js\");\n\nvar StudentsEditor__Page = require(\"../../types/students_editor/StudentsEditor__Page.bs.js\");\n\nvar StudentsEditor__Team = require(\"../../types/students_editor/StudentsEditor__Team.bs.js\");\n\nvar StudentsEditor__Level = require(\"../../types/students_editor/StudentsEditor__Level.bs.js\");\n\nvar StudentsEditor__Filter = require(\"../../types/students_editor/StudentsEditor__Filter.bs.js\");\n\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\n\nvar NoStudentsFoundSvg = require(\"./images/no-students-found.svg\");\n\nvar notFoundIcon = NoStudentsFoundSvg[\"default\"];\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query CourseTeamsQuery($courseId: ID!, $levelId: ID, $search: String, $after: String, $tags: [String!], $sortBy: String!)  {\\ncourseTeams(courseId: $courseId, levelId: $levelId, search: $search, first: 20, after: $after, tags: $tags, sortBy: $sortBy)  {\\nnodes  {\\nid  \\nname  \\nlevelId  \\ncoachIds  \\nlevelId  \\naccessEndsAt  \\nstudents  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\nemail  \\ntags  \\nexcludedFromLeaderboard  \\naffiliation  \\n}\\n\\n}\\n\\npageInfo  {\\nendCursor  \\nhasNextPage  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"courseTeams\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map(function (value) {\n        var match = Js_json.decodeNull(value);\n\n        if (match !== undefined) {\n          return;\n        } else {\n          var _ref;\n\n          var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n          var match$1 = Js_dict.get(value$1, \"id\");\n          var tmp;\n\n          if (match$1 !== undefined) {\n            var value$2 = Caml_option.valFromOption(match$1);\n            var match$2 = Js_json.decodeString(value$2);\n            tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n          } else {\n            tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CourseTeam is missing\");\n          }\n\n          var match$3 = Js_dict.get(value$1, \"name\");\n          var tmp$1;\n\n          if (match$3 !== undefined) {\n            var value$3 = Caml_option.valFromOption(match$3);\n            var match$4 = Js_json.decodeString(value$3);\n            tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n          } else {\n            tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type CourseTeam is missing\");\n          }\n\n          var match$5 = Js_dict.get(value$1, \"levelId\");\n          var tmp$2;\n\n          if (match$5 !== undefined) {\n            var value$4 = Caml_option.valFromOption(match$5);\n            var match$6 = Js_json.decodeString(value$4);\n            tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n          } else {\n            tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type CourseTeam is missing\");\n          }\n\n          var match$7 = Js_dict.get(value$1, \"coachIds\");\n          var match$8 = Js_dict.get(value$1, \"levelId\");\n          var tmp$3;\n\n          if (match$8 !== undefined) {\n            var value$5 = Caml_option.valFromOption(match$8);\n            var match$9 = Js_json.decodeString(value$5);\n            tmp$3 = match$9 !== undefined ? match$9 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n          } else {\n            tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type CourseTeam is missing\");\n          }\n\n          var match$10 = Js_dict.get(value$1, \"accessEndsAt\");\n          var tmp$4;\n\n          if (match$10 !== undefined) {\n            var value$6 = Caml_option.valFromOption(match$10);\n            var match$11 = Js_json.decodeNull(value$6);\n            tmp$4 = match$11 !== undefined ? undefined : Caml_option.some(value$6);\n          } else {\n            tmp$4 = undefined;\n          }\n\n          var match$12 = Js_dict.get(value$1, \"students\");\n          return _ref = {\n            id: tmp,\n            name: tmp$1,\n            levelId: tmp$2,\n            coachIds: match$7 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$7))).map(function (value) {\n              var match = Js_json.decodeString(value);\n\n              if (match !== undefined) {\n                return match;\n              } else {\n                return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n              }\n            }) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type CourseTeam is missing\")\n          }, _defineProperty(_ref, \"levelId\", tmp$3), _defineProperty(_ref, \"accessEndsAt\", tmp$4), _defineProperty(_ref, \"students\", match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map(function (value) {\n            var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n            var match = Js_dict.get(value$1, \"id\");\n            var tmp;\n\n            if (match !== undefined) {\n              var value$2 = Caml_option.valFromOption(match);\n              var match$1 = Js_json.decodeString(value$2);\n              tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n            } else {\n              tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CourseStudent is missing\");\n            }\n\n            var match$2 = Js_dict.get(value$1, \"name\");\n            var tmp$1;\n\n            if (match$2 !== undefined) {\n              var value$3 = Caml_option.valFromOption(match$2);\n              var match$3 = Js_json.decodeString(value$3);\n              tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n            } else {\n              tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type CourseStudent is missing\");\n            }\n\n            var match$4 = Js_dict.get(value$1, \"title\");\n            var tmp$2;\n\n            if (match$4 !== undefined) {\n              var value$4 = Caml_option.valFromOption(match$4);\n              var match$5 = Js_json.decodeString(value$4);\n              tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n            } else {\n              tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field title on type CourseStudent is missing\");\n            }\n\n            var match$6 = Js_dict.get(value$1, \"avatarUrl\");\n            var tmp$3;\n\n            if (match$6 !== undefined) {\n              var value$5 = Caml_option.valFromOption(match$6);\n              var match$7 = Js_json.decodeNull(value$5);\n\n              if (match$7 !== undefined) {\n                tmp$3 = undefined;\n              } else {\n                var match$8 = Js_json.decodeString(value$5);\n                tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n              }\n            } else {\n              tmp$3 = undefined;\n            }\n\n            var match$9 = Js_dict.get(value$1, \"email\");\n            var tmp$4;\n\n            if (match$9 !== undefined) {\n              var value$6 = Caml_option.valFromOption(match$9);\n              var match$10 = Js_json.decodeString(value$6);\n              tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n            } else {\n              tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field email on type CourseStudent is missing\");\n            }\n\n            var match$11 = Js_dict.get(value$1, \"tags\");\n            var match$12 = Js_dict.get(value$1, \"excludedFromLeaderboard\");\n            var tmp$5;\n\n            if (match$12 !== undefined) {\n              var value$7 = Caml_option.valFromOption(match$12);\n              var match$13 = Js_json.decodeBoolean(value$7);\n              tmp$5 = match$13 !== undefined ? match$13 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n            } else {\n              tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field excludedFromLeaderboard on type CourseStudent is missing\");\n            }\n\n            var match$14 = Js_dict.get(value$1, \"affiliation\");\n            var tmp$6;\n\n            if (match$14 !== undefined) {\n              var value$8 = Caml_option.valFromOption(match$14);\n              var match$15 = Js_json.decodeNull(value$8);\n\n              if (match$15 !== undefined) {\n                tmp$6 = undefined;\n              } else {\n                var match$16 = Js_json.decodeString(value$8);\n                tmp$6 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n              }\n            } else {\n              tmp$6 = undefined;\n            }\n\n            return {\n              id: tmp,\n              name: tmp$1,\n              title: tmp$2,\n              avatarUrl: tmp$3,\n              email: tmp$4,\n              tags: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map(function (value) {\n                var match = Js_json.decodeString(value);\n\n                if (match !== undefined) {\n                  return match;\n                } else {\n                  return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                }\n              }) : Js_exn.raiseError(\"graphql_ppx: Field tags on type CourseStudent is missing\"),\n              excludedFromLeaderboard: tmp$5,\n              affiliation: tmp$6\n            };\n          }) : Js_exn.raiseError(\"graphql_ppx: Field students on type CourseTeam is missing\")), _ref;\n        }\n      });\n    } else {\n      tmp$1 = undefined;\n    }\n\n    var match$3 = Js_dict.get(value$2, \"pageInfo\");\n    var tmp$2;\n\n    if (match$3 !== undefined) {\n      var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n      var match$4 = Js_dict.get(value$4, \"endCursor\");\n      var tmp$3;\n\n      if (match$4 !== undefined) {\n        var value$5 = Caml_option.valFromOption(match$4);\n        var match$5 = Js_json.decodeNull(value$5);\n\n        if (match$5 !== undefined) {\n          tmp$3 = undefined;\n        } else {\n          var match$6 = Js_json.decodeString(value$5);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        }\n      } else {\n        tmp$3 = undefined;\n      }\n\n      var match$7 = Js_dict.get(value$4, \"hasNextPage\");\n      var tmp$4;\n\n      if (match$7 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$7);\n        var match$8 = Js_json.decodeBoolean(value$6);\n        tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field hasNextPage on type PageInfo is missing\");\n      }\n\n      tmp$2 = {\n        endCursor: tmp$3,\n        hasNextPage: tmp$4\n      };\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field pageInfo on type CourseTeamConnection is missing\");\n    }\n\n    tmp = {\n      nodes: tmp$1,\n      pageInfo: tmp$2\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field courseTeams on type Query is missing\");\n  }\n\n  return {\n    courseTeams: tmp\n  };\n}\n\nfunction make(courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map(function (prim) {\n      return prim;\n    });\n  } else {\n    tmp = null;\n  }\n\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"levelId\", levelId !== undefined ? levelId : null],\n    /* tuple */\n    [\"search\", search !== undefined ? search : null],\n    /* tuple */\n    [\"after\", after !== undefined ? after : null],\n    /* tuple */\n    [\"tags\", tmp],\n    /* tuple */\n    [\"sortBy\", sortBy]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var levelId = variables.levelId;\n  var search = variables.search;\n  var after = variables.after;\n  var tags = variables.tags;\n  var sortBy = variables.sortBy;\n  var tmp;\n\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map(function (prim) {\n      return prim;\n    });\n  } else {\n    tmp = null;\n  }\n\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"levelId\", levelId !== undefined ? levelId : null],\n    /* tuple */\n    [\"search\", search !== undefined ? search : null],\n    /* tuple */\n    [\"after\", after !== undefined ? after : null],\n    /* tuple */\n    [\"tags\", tmp],\n    /* tuple */\n    [\"sortBy\", sortBy]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map(function (prim) {\n      return prim;\n    });\n  } else {\n    tmp = null;\n  }\n\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"levelId\", levelId !== undefined ? levelId : null],\n  /* tuple */\n  [\"search\", search !== undefined ? search : null],\n  /* tuple */\n  [\"after\", after !== undefined ? after : null],\n  /* tuple */\n  [\"tags\", tmp],\n  /* tuple */\n  [\"sortBy\", sortBy]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map(function (prim) {\n      return prim;\n    });\n  } else {\n    tmp = null;\n  }\n\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"levelId\", levelId !== undefined ? levelId : null],\n  /* tuple */\n  [\"search\", search !== undefined ? search : null],\n  /* tuple */\n  [\"after\", after !== undefined ? after : null],\n  /* tuple */\n  [\"tags\", tmp],\n  /* tuple */\n  [\"sortBy\", sortBy]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CourseTeamsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateTeams(updateTeamsCB, endCursor, hasNextPage, teams, nodes) {\n  var updatedTeams = $$Array.append(teams, ArrayUtils.flatten(nodes !== undefined ? StudentsEditor__Team.makeFromJS(nodes) : []));\n  return Curry._1(updateTeamsCB, hasNextPage && endCursor !== undefined ?\n  /* PartiallyLoaded */\n  Block.__(0, [updatedTeams, endCursor]) :\n  /* FullyLoaded */\n  Block.__(1, [updatedTeams]));\n}\n\nfunction getTeams(courseId, cursor, updateTeamsCB, teams, filter, setLoadingCB, loading) {\n  var tags = StudentsEditor__Filter.tags(filter);\n  var selectedLevelId = StudentsEditor__Filter.levelId(filter);\n  var search = StudentsEditor__Filter.searchString(filter);\n  var sortBy = StudentsEditor__Filter.sortByToString(filter);\n\n  Curry._1(setLoadingCB, loading);\n\n  var tmp;\n\n  if (selectedLevelId !== undefined) {\n    var levelId = selectedLevelId;\n\n    if (search !== undefined) {\n      var search$1 = search;\n      tmp = cursor !== undefined ? make(courseId, levelId, search$1, cursor, tags, sortBy,\n      /* () */\n      0) : make(courseId, levelId, search$1, undefined, tags, sortBy,\n      /* () */\n      0);\n    } else {\n      tmp = cursor !== undefined ? make(courseId, levelId, undefined, cursor, tags, sortBy,\n      /* () */\n      0) : make(courseId, levelId, undefined, undefined, tags, sortBy,\n      /* () */\n      0);\n    }\n  } else if (search !== undefined) {\n    var search$2 = search;\n    tmp = cursor !== undefined ? make(courseId, undefined, search$2, cursor, tags, sortBy,\n    /* () */\n    0) : make(courseId, undefined, search$2, undefined, tags, sortBy,\n    /* () */\n    0);\n  } else {\n    tmp = cursor !== undefined ? make(courseId, undefined, undefined, cursor, tags, sortBy,\n    /* () */\n    0) : make(courseId, undefined, undefined, undefined, tags, sortBy,\n    /* () */\n    0);\n  }\n\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(tmp).then(function (response) {\n    updateTeams(updateTeamsCB, response.courseTeams.pageInfo.endCursor, response.courseTeams.pageInfo.hasNextPage, teams, response.courseTeams.nodes);\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction studentAvatar(student) {\n  var match = StudentsEditor__Student.avatarUrl(student);\n\n  if (match !== undefined) {\n    return React.createElement(\"img\", {\n      className: \"w-8 h-8 md:w-10 md:h-10 text-xs border rounded-full overflow-hidden flex-shrink-0 mt-1 md:mt-0 mr-2 md:mr-3 object-cover\",\n      src: match\n    });\n  } else {\n    return React.createElement(Avatar.make, {\n      name: StudentsEditor__Student.name(student),\n      className: \"w-8 h-8 md:w-10 md:h-10 text-xs border rounded-full overflow-hidden flex-shrink-0 mt-1 md:mt-0 mr-2 md:mr-3 object-cover\"\n    });\n  }\n}\n\nfunction levelInfo(levels, team) {\n  return React.createElement(\"span\", {\n    className: \"inline-flex flex-col items-center rounded bg-orange-100 border border-orange-300 px-2 pt-2 pb-1 border\"\n  }, React.createElement(\"div\", {\n    className: \"text-xs font-semibold\"\n  }, \"Level\"), React.createElement(\"div\", {\n    className: \"font-bold\"\n  }, String(StudentsEditor__Level.number(StudentsEditor__Level.unsafeFind(levels, \"TeamsList\", StudentsEditor__Team.levelId(team))))));\n}\n\nfunction teamCard(team, selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels) {\n  var isSingleStudent = StudentsEditor__Team.isSingleStudent(team);\n  var teamId = StudentsEditor__Team.id(team);\n  return React.createElement(\"div\", {\n    key: teamId,\n    className: \"student-team-container flex items-strecth shadow bg-white rounded-lg mb-3 overflow-hidden\",\n    id: StudentsEditor__Team.name(team)\n  }, React.createElement(\"div\", {\n    className: \"flex flex-col flex-1 w-3/5\"\n  }, $$Array.map(function (student) {\n    var studentId = StudentsEditor__Student.id(student);\n    var isChecked = $$Array.mem(studentId, selectedStudentIds);\n    var checkboxId = \"select-student-\" + studentId;\n    return React.createElement(\"div\", {\n      key: studentId,\n      className: \"student-team__card h-full cursor-pointer flex items-center bg-white\",\n      id: StudentsEditor__Student.name(student)\n    }, React.createElement(\"div\", {\n      className: \"flex flex-1 w-3/5 h-full\"\n    }, React.createElement(\"div\", {\n      className: \"flex items-center w-full\"\n    }, React.createElement(\"label\", {\n      className: \"flex items-center h-full text-gray-500 leading-tight font-bold px-4 py-5 hover:bg-gray-100\",\n      htmlFor: checkboxId\n    }, React.createElement(\"input\", {\n      className: \"leading-tight\",\n      id: checkboxId,\n      checked: isChecked,\n      type: \"checkbox\",\n      onChange: isChecked ? function (_e) {\n        return Curry._1(deselectStudentCB, studentId);\n      } : function (_e) {\n        return Curry._2(selectStudentCB, student, team);\n      }\n    })), React.createElement(\"a\", {\n      className: \"flex flex-1 items-center py-4 px-4 hover:bg-gray-100 justify-between\",\n      id: StudentsEditor__Student.name(student) + \"_edit\",\n      onClick: function onClick(_e) {\n        return Curry._2(showEditFormCB, student, teamId);\n      }\n    }, React.createElement(\"div\", {\n      className: \"flex\"\n    }, studentAvatar(student), React.createElement(\"div\", {\n      className: \"text-sm flex flex-col\"\n    }, React.createElement(\"p\", {\n      className: \"text-black font-semibold inline-block \"\n    }, StudentsEditor__Student.name(student)), React.createElement(\"div\", {\n      className: \"flex flex-wrap\"\n    }, $$Array.map(function (tag) {\n      return React.createElement(\"div\", {\n        key: tag,\n        className: \"bg-gray-300 rounded mt-1 mr-1 py-px px-2 text-xs text-gray-900\"\n      }, tag);\n    }, StudentsEditor__Student.tags(student))))), isSingleStudent ? levelInfo(levels, team) : null))));\n  }, StudentsEditor__Team.students(team))), isSingleStudent ? null : React.createElement(\"div\", {\n    className: \"flex w-2/5 items-center border-l border-gray-200\"\n  }, React.createElement(\"div\", {\n    className: \"w-4/6 py-4 pl-5 pr-4\"\n  }, React.createElement(\"div\", {\n    className: \"students-team--name mb-5\"\n  }, React.createElement(\"p\", {\n    className: \"inline-block text-xs bg-green-200 leading-tight px-1 py-px rounded\"\n  }, \"Team\"), React.createElement(\"h4\", undefined, StudentsEditor__Team.name(team)))), React.createElement(\"div\", {\n    className: \"w-2/6 text-right pr-4\"\n  }, levelInfo(levels, team))));\n}\n\nfunction showEmpty(filter, loading, updateFilterCB) {\n  if (loading ===\n  /* NotLoading */\n  0 && StudentsEditor__Filter.isEmpty(filter)) {\n    return React.createElement(\"div\", {\n      className: \"text-center\"\n    }, \"No Users here.\");\n  } else {\n    return React.createElement(\"div\", {\n      className: \"flex\"\n    }, React.createElement(\"div\", {\n      className: \"w-1/2 px-3\"\n    }, React.createElement(\"p\", {\n      className: \"text-xl font-semibold mt-4\"\n    }, \"Sorry, no results found.\"), React.createElement(\"ul\", {\n      className: \"list-disc text-gray-800 text-sm ml-5 mt-2\"\n    }, React.createElement(\"li\", {\n      className: \"py-1\"\n    }, \"Make sure the spelling is correct.\"), React.createElement(\"li\", {\n      className: \"py-1\"\n    }, \"Try removing the search filter options.\")), React.createElement(\"button\", {\n      className: \"btn btn-default mt-4\",\n      onClick: function onClick(param) {\n        return Curry._1(updateFilterCB, StudentsEditor__Filter.clear(filter));\n      }\n    }, \"Clear Filter\")), React.createElement(\"div\", {\n      className: \"w-1/2\"\n    }, React.createElement(\"img\", {\n      className: \"w-full\",\n      src: notFoundIcon\n    })));\n  }\n}\n\nfunction showTeams(selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels, filter, updateFilterCB, loading, teams) {\n  if (teams.length !== 0) {\n    return $$Array.map(function (team) {\n      return teamCard(team, selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels);\n    }, teams);\n  } else {\n    return showEmpty(filter, loading, updateFilterCB);\n  }\n}\n\nfunction StudentsEditor__TeamsList(Props) {\n  var levels = Props.levels;\n  var courseId = Props.courseId;\n  var updateTeamsCB = Props.updateTeamsCB;\n  var filter = Props.filter;\n  var pagedTeams = Props.pagedTeams;\n  var selectedStudentIds = Props.selectedStudentIds;\n  var selectStudentCB = Props.selectStudentCB;\n  var deselectStudentCB = Props.deselectStudentCB;\n  var showEditFormCB = Props.showEditFormCB;\n  var loading = Props.loading;\n  var setLoadingCB = Props.setLoadingCB;\n  var updateFilterCB = Props.updateFilterCB;\n  var refreshTeams = Props.refreshTeams;\n  React.useEffect(function () {\n    getTeams(courseId, undefined, updateTeamsCB, [], filter, setLoadingCB,\n    /* Reloading */\n    1);\n    return;\n  }, [refreshTeams]);\n  var tmp;\n\n  if (typeof pagedTeams === \"number\" || pagedTeams.tag) {\n    tmp = null;\n  } else {\n    var cursor = pagedTeams[1];\n    var teams = pagedTeams[0];\n    tmp = loading ===\n    /* LoadingMore */\n    2 ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined,\n    /* () */\n    0)) : React.createElement(\"div\", {\n      className: \"pt-4\"\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary-ghost cursor-pointer w-full\",\n      onClick: function onClick(param) {\n        return getTeams(courseId, cursor, updateTeamsCB, teams, filter, setLoadingCB,\n        /* LoadingMore */\n        2);\n      }\n    }, \"Load More\"));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"pb-6\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-3xl mx-auto w-full\"\n  }, React.createElement(\"div\", undefined, typeof pagedTeams === \"number\" ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined,\n  /* () */\n  0)) : showTeams(selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels, filter, updateFilterCB, loading, StudentsEditor__Page.teams(pagedTeams))), tmp));\n}\n\nvar make$1 = StudentsEditor__TeamsList;\nexports.notFoundIcon = notFoundIcon;\nexports.str = str;\nexports.CourseTeamsQuery = CourseTeamsQuery;\nexports.updateTeams = updateTeams;\nexports.getTeams = getTeams;\nexports.studentAvatar = studentAvatar;\nexports.levelInfo = levelInfo;\nexports.teamCard = teamCard;\nexports.showEmpty = showEmpty;\nexports.showTeams = showTeams;\nexports.make = make$1;\n/* notFoundIcon Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/students_editor/StudentsEditor__TeamsList.bs.js"],"names":["$$Array","require","Block","Curry","React","Avatar","Js_exn","Js_dict","Js_json","Js_option","ArrayUtils","Caml_option","GraphqlQuery","SkeletonLoading","StudentsEditor__Page","StudentsEditor__Team","StudentsEditor__Level","StudentsEditor__Filter","StudentsEditor__Student","NoStudentsFoundSvg","notFoundIcon","str","prim","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","decodeArray","map","decodeString","raiseError","JSON","stringify","match$3","match$4","match$5","tmp$2","value$4","match$6","match$7","match$8","tmp$3","value$5","match$9","match$10","tmp$4","value$6","match$11","some","match$12","id","name","levelId","coachIds","tmp$5","value$7","match$13","decodeBoolean","match$14","tmp$6","value$8","match$15","match$16","title","avatarUrl","email","tags","excludedFromLeaderboard","affiliation","endCursor","hasNextPage","nodes","pageInfo","courseTeams","make","courseId","search","after","sortBy","param","v","query","variables","fromArray","filter","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","CourseTeamsQuery","updateTeams","updateTeamsCB","teams","updatedTeams","append","flatten","makeFromJS","__","getTeams","cursor","setLoadingCB","loading","selectedLevelId","searchString","sortByToString","search$1","search$2","eta","sendQuery","then","response","Promise","resolve","studentAvatar","student","createElement","className","src","levelInfo","levels","team","String","number","unsafeFind","teamCard","selectedStudentIds","selectStudentCB","deselectStudentCB","showEditFormCB","isSingleStudent","teamId","key","studentId","isChecked","mem","checkboxId","htmlFor","checked","type","onChange","_e","_2","onClick","tag","students","showEmpty","updateFilterCB","isEmpty","clear","showTeams","length","StudentsEditor__TeamsList","Props","pagedTeams","refreshTeams","useEffect","multiple","card","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Avatar = require(\"../../../../shared/Avatar.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar SkeletonLoading = require(\"../../../../shared/components/SkeletonLoading.bs.js\");\nvar StudentsEditor__Page = require(\"../../types/students_editor/StudentsEditor__Page.bs.js\");\nvar StudentsEditor__Team = require(\"../../types/students_editor/StudentsEditor__Team.bs.js\");\nvar StudentsEditor__Level = require(\"../../types/students_editor/StudentsEditor__Level.bs.js\");\nvar StudentsEditor__Filter = require(\"../../types/students_editor/StudentsEditor__Filter.bs.js\");\nvar StudentsEditor__Student = require(\"../../types/students_editor/StudentsEditor__Student.bs.js\");\nvar NoStudentsFoundSvg = require(\"./images/no-students-found.svg\");\n\nvar notFoundIcon = NoStudentsFoundSvg.default;\n\nfunction str(prim) {\n  return prim;\n}\n\nvar ppx_printed_query = \"query CourseTeamsQuery($courseId: ID!, $levelId: ID, $search: String, $after: String, $tags: [String!], $sortBy: String!)  {\\ncourseTeams(courseId: $courseId, levelId: $levelId, search: $search, first: 20, after: $after, tags: $tags, sortBy: $sortBy)  {\\nnodes  {\\nid  \\nname  \\nlevelId  \\ncoachIds  \\nlevelId  \\naccessEndsAt  \\nstudents  {\\nid  \\nname  \\ntitle  \\navatarUrl  \\nemail  \\ntags  \\nexcludedFromLeaderboard  \\naffiliation  \\n}\\n\\n}\\n\\npageInfo  {\\nendCursor  \\nhasNextPage  \\n}\\n\\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"courseTeams\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map((function (value) {\n                var match = Js_json.decodeNull(value);\n                if (match !== undefined) {\n                  return ;\n                } else {\n                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                  var match$1 = Js_dict.get(value$1, \"id\");\n                  var tmp;\n                  if (match$1 !== undefined) {\n                    var value$2 = Caml_option.valFromOption(match$1);\n                    var match$2 = Js_json.decodeString(value$2);\n                    tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                  } else {\n                    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CourseTeam is missing\");\n                  }\n                  var match$3 = Js_dict.get(value$1, \"name\");\n                  var tmp$1;\n                  if (match$3 !== undefined) {\n                    var value$3 = Caml_option.valFromOption(match$3);\n                    var match$4 = Js_json.decodeString(value$3);\n                    tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                  } else {\n                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type CourseTeam is missing\");\n                  }\n                  var match$5 = Js_dict.get(value$1, \"levelId\");\n                  var tmp$2;\n                  if (match$5 !== undefined) {\n                    var value$4 = Caml_option.valFromOption(match$5);\n                    var match$6 = Js_json.decodeString(value$4);\n                    tmp$2 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                  } else {\n                    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type CourseTeam is missing\");\n                  }\n                  var match$7 = Js_dict.get(value$1, \"coachIds\");\n                  var match$8 = Js_dict.get(value$1, \"levelId\");\n                  var tmp$3;\n                  if (match$8 !== undefined) {\n                    var value$5 = Caml_option.valFromOption(match$8);\n                    var match$9 = Js_json.decodeString(value$5);\n                    tmp$3 = match$9 !== undefined ? match$9 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n                  } else {\n                    tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field levelId on type CourseTeam is missing\");\n                  }\n                  var match$10 = Js_dict.get(value$1, \"accessEndsAt\");\n                  var tmp$4;\n                  if (match$10 !== undefined) {\n                    var value$6 = Caml_option.valFromOption(match$10);\n                    var match$11 = Js_json.decodeNull(value$6);\n                    tmp$4 = match$11 !== undefined ? undefined : Caml_option.some(value$6);\n                  } else {\n                    tmp$4 = undefined;\n                  }\n                  var match$12 = Js_dict.get(value$1, \"students\");\n                  return {\n                          id: tmp,\n                          name: tmp$1,\n                          levelId: tmp$2,\n                          coachIds: match$7 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$7))).map((function (value) {\n                                    var match = Js_json.decodeString(value);\n                                    if (match !== undefined) {\n                                      return match;\n                                    } else {\n                                      return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                                    }\n                                  })) : Js_exn.raiseError(\"graphql_ppx: Field coachIds on type CourseTeam is missing\"),\n                          levelId: tmp$3,\n                          accessEndsAt: tmp$4,\n                          students: match$12 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$12))).map((function (value) {\n                                    var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                    var match = Js_dict.get(value$1, \"id\");\n                                    var tmp;\n                                    if (match !== undefined) {\n                                      var value$2 = Caml_option.valFromOption(match);\n                                      var match$1 = Js_json.decodeString(value$2);\n                                      tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                    } else {\n                                      tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type CourseStudent is missing\");\n                                    }\n                                    var match$2 = Js_dict.get(value$1, \"name\");\n                                    var tmp$1;\n                                    if (match$2 !== undefined) {\n                                      var value$3 = Caml_option.valFromOption(match$2);\n                                      var match$3 = Js_json.decodeString(value$3);\n                                      tmp$1 = match$3 !== undefined ? match$3 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                                    } else {\n                                      tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type CourseStudent is missing\");\n                                    }\n                                    var match$4 = Js_dict.get(value$1, \"title\");\n                                    var tmp$2;\n                                    if (match$4 !== undefined) {\n                                      var value$4 = Caml_option.valFromOption(match$4);\n                                      var match$5 = Js_json.decodeString(value$4);\n                                      tmp$2 = match$5 !== undefined ? match$5 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$4));\n                                    } else {\n                                      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field title on type CourseStudent is missing\");\n                                    }\n                                    var match$6 = Js_dict.get(value$1, \"avatarUrl\");\n                                    var tmp$3;\n                                    if (match$6 !== undefined) {\n                                      var value$5 = Caml_option.valFromOption(match$6);\n                                      var match$7 = Js_json.decodeNull(value$5);\n                                      if (match$7 !== undefined) {\n                                        tmp$3 = undefined;\n                                      } else {\n                                        var match$8 = Js_json.decodeString(value$5);\n                                        tmp$3 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n                                      }\n                                    } else {\n                                      tmp$3 = undefined;\n                                    }\n                                    var match$9 = Js_dict.get(value$1, \"email\");\n                                    var tmp$4;\n                                    if (match$9 !== undefined) {\n                                      var value$6 = Caml_option.valFromOption(match$9);\n                                      var match$10 = Js_json.decodeString(value$6);\n                                      tmp$4 = match$10 !== undefined ? match$10 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$6));\n                                    } else {\n                                      tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field email on type CourseStudent is missing\");\n                                    }\n                                    var match$11 = Js_dict.get(value$1, \"tags\");\n                                    var match$12 = Js_dict.get(value$1, \"excludedFromLeaderboard\");\n                                    var tmp$5;\n                                    if (match$12 !== undefined) {\n                                      var value$7 = Caml_option.valFromOption(match$12);\n                                      var match$13 = Js_json.decodeBoolean(value$7);\n                                      tmp$5 = match$13 !== undefined ? match$13 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$7));\n                                    } else {\n                                      tmp$5 = Js_exn.raiseError(\"graphql_ppx: Field excludedFromLeaderboard on type CourseStudent is missing\");\n                                    }\n                                    var match$14 = Js_dict.get(value$1, \"affiliation\");\n                                    var tmp$6;\n                                    if (match$14 !== undefined) {\n                                      var value$8 = Caml_option.valFromOption(match$14);\n                                      var match$15 = Js_json.decodeNull(value$8);\n                                      if (match$15 !== undefined) {\n                                        tmp$6 = undefined;\n                                      } else {\n                                        var match$16 = Js_json.decodeString(value$8);\n                                        tmp$6 = match$16 !== undefined ? match$16 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$8));\n                                      }\n                                    } else {\n                                      tmp$6 = undefined;\n                                    }\n                                    return {\n                                            id: tmp,\n                                            name: tmp$1,\n                                            title: tmp$2,\n                                            avatarUrl: tmp$3,\n                                            email: tmp$4,\n                                            tags: match$11 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$11))).map((function (value) {\n                                                      var match = Js_json.decodeString(value);\n                                                      if (match !== undefined) {\n                                                        return match;\n                                                      } else {\n                                                        return Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value));\n                                                      }\n                                                    })) : Js_exn.raiseError(\"graphql_ppx: Field tags on type CourseStudent is missing\"),\n                                            excludedFromLeaderboard: tmp$5,\n                                            affiliation: tmp$6\n                                          };\n                                  })) : Js_exn.raiseError(\"graphql_ppx: Field students on type CourseTeam is missing\")\n                        };\n                }\n              }));\n    } else {\n      tmp$1 = undefined;\n    }\n    var match$3 = Js_dict.get(value$2, \"pageInfo\");\n    var tmp$2;\n    if (match$3 !== undefined) {\n      var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n      var match$4 = Js_dict.get(value$4, \"endCursor\");\n      var tmp$3;\n      if (match$4 !== undefined) {\n        var value$5 = Caml_option.valFromOption(match$4);\n        var match$5 = Js_json.decodeNull(value$5);\n        if (match$5 !== undefined) {\n          tmp$3 = undefined;\n        } else {\n          var match$6 = Js_json.decodeString(value$5);\n          tmp$3 = match$6 !== undefined ? match$6 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$5));\n        }\n      } else {\n        tmp$3 = undefined;\n      }\n      var match$7 = Js_dict.get(value$4, \"hasNextPage\");\n      var tmp$4;\n      if (match$7 !== undefined) {\n        var value$6 = Caml_option.valFromOption(match$7);\n        var match$8 = Js_json.decodeBoolean(value$6);\n        tmp$4 = match$8 !== undefined ? match$8 : Js_exn.raiseError(\"graphql_ppx: Expected boolean, got \" + JSON.stringify(value$6));\n      } else {\n        tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field hasNextPage on type PageInfo is missing\");\n      }\n      tmp$2 = {\n        endCursor: tmp$3,\n        hasNextPage: tmp$4\n      };\n    } else {\n      tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field pageInfo on type CourseTeamConnection is missing\");\n    }\n    tmp = {\n      nodes: tmp$1,\n      pageInfo: tmp$2\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field courseTeams on type Query is missing\");\n  }\n  return {\n          courseTeams: tmp\n        };\n}\n\nfunction make(courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map((function (prim) {\n            return prim;\n          }));\n  } else {\n    tmp = null;\n  }\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"levelId\",\n                    levelId !== undefined ? levelId : null\n                  ],\n                  /* tuple */[\n                    \"search\",\n                    search !== undefined ? search : null\n                  ],\n                  /* tuple */[\n                    \"after\",\n                    after !== undefined ? after : null\n                  ],\n                  /* tuple */[\n                    \"tags\",\n                    tmp\n                  ],\n                  /* tuple */[\n                    \"sortBy\",\n                    sortBy\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var levelId = variables.levelId;\n  var search = variables.search;\n  var after = variables.after;\n  var tags = variables.tags;\n  var sortBy = variables.sortBy;\n  var tmp;\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map((function (prim) {\n            return prim;\n          }));\n  } else {\n    tmp = null;\n  }\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"levelId\",\n                    levelId !== undefined ? levelId : null\n                  ],\n                  /* tuple */[\n                    \"search\",\n                    search !== undefined ? search : null\n                  ],\n                  /* tuple */[\n                    \"after\",\n                    after !== undefined ? after : null\n                  ],\n                  /* tuple */[\n                    \"tags\",\n                    tmp\n                  ],\n                  /* tuple */[\n                    \"sortBy\",\n                    sortBy\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map((function (prim) {\n            return prim;\n          }));\n  } else {\n    tmp = null;\n  }\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"courseId\",\n                  courseId\n                ],\n                /* tuple */[\n                  \"levelId\",\n                  levelId !== undefined ? levelId : null\n                ],\n                /* tuple */[\n                  \"search\",\n                  search !== undefined ? search : null\n                ],\n                /* tuple */[\n                  \"after\",\n                  after !== undefined ? after : null\n                ],\n                /* tuple */[\n                  \"tags\",\n                  tmp\n                ],\n                /* tuple */[\n                  \"sortBy\",\n                  sortBy\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, levelId, search, after, tags, sortBy, param) {\n  var tmp;\n  if (tags !== undefined) {\n    var v = tags;\n    tmp = v.map((function (prim) {\n            return prim;\n          }));\n  } else {\n    tmp = null;\n  }\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"courseId\",\n                      courseId\n                    ],\n                    /* tuple */[\n                      \"levelId\",\n                      levelId !== undefined ? levelId : null\n                    ],\n                    /* tuple */[\n                      \"search\",\n                      search !== undefined ? search : null\n                    ],\n                    /* tuple */[\n                      \"after\",\n                      after !== undefined ? after : null\n                    ],\n                    /* tuple */[\n                      \"tags\",\n                      tmp\n                    ],\n                    /* tuple */[\n                      \"sortBy\",\n                      sortBy\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CourseTeamsQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction updateTeams(updateTeamsCB, endCursor, hasNextPage, teams, nodes) {\n  var updatedTeams = $$Array.append(teams, ArrayUtils.flatten(nodes !== undefined ? StudentsEditor__Team.makeFromJS(nodes) : []));\n  return Curry._1(updateTeamsCB, hasNextPage && endCursor !== undefined ? /* PartiallyLoaded */Block.__(0, [\n                  updatedTeams,\n                  endCursor\n                ]) : /* FullyLoaded */Block.__(1, [updatedTeams]));\n}\n\nfunction getTeams(courseId, cursor, updateTeamsCB, teams, filter, setLoadingCB, loading) {\n  var tags = StudentsEditor__Filter.tags(filter);\n  var selectedLevelId = StudentsEditor__Filter.levelId(filter);\n  var search = StudentsEditor__Filter.searchString(filter);\n  var sortBy = StudentsEditor__Filter.sortByToString(filter);\n  Curry._1(setLoadingCB, loading);\n  var tmp;\n  if (selectedLevelId !== undefined) {\n    var levelId = selectedLevelId;\n    if (search !== undefined) {\n      var search$1 = search;\n      tmp = cursor !== undefined ? make(courseId, levelId, search$1, cursor, tags, sortBy, /* () */0) : make(courseId, levelId, search$1, undefined, tags, sortBy, /* () */0);\n    } else {\n      tmp = cursor !== undefined ? make(courseId, levelId, undefined, cursor, tags, sortBy, /* () */0) : make(courseId, levelId, undefined, undefined, tags, sortBy, /* () */0);\n    }\n  } else if (search !== undefined) {\n    var search$2 = search;\n    tmp = cursor !== undefined ? make(courseId, undefined, search$2, cursor, tags, sortBy, /* () */0) : make(courseId, undefined, search$2, undefined, tags, sortBy, /* () */0);\n  } else {\n    tmp = cursor !== undefined ? make(courseId, undefined, undefined, cursor, tags, sortBy, /* () */0) : make(courseId, undefined, undefined, undefined, tags, sortBy, /* () */0);\n  }\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(tmp).then((function (response) {\n          updateTeams(updateTeamsCB, response.courseTeams.pageInfo.endCursor, response.courseTeams.pageInfo.hasNextPage, teams, response.courseTeams.nodes);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction studentAvatar(student) {\n  var match = StudentsEditor__Student.avatarUrl(student);\n  if (match !== undefined) {\n    return React.createElement(\"img\", {\n                className: \"w-8 h-8 md:w-10 md:h-10 text-xs border rounded-full overflow-hidden flex-shrink-0 mt-1 md:mt-0 mr-2 md:mr-3 object-cover\",\n                src: match\n              });\n  } else {\n    return React.createElement(Avatar.make, {\n                name: StudentsEditor__Student.name(student),\n                className: \"w-8 h-8 md:w-10 md:h-10 text-xs border rounded-full overflow-hidden flex-shrink-0 mt-1 md:mt-0 mr-2 md:mr-3 object-cover\"\n              });\n  }\n}\n\nfunction levelInfo(levels, team) {\n  return React.createElement(\"span\", {\n              className: \"inline-flex flex-col items-center rounded bg-orange-100 border border-orange-300 px-2 pt-2 pb-1 border\"\n            }, React.createElement(\"div\", {\n                  className: \"text-xs font-semibold\"\n                }, \"Level\"), React.createElement(\"div\", {\n                  className: \"font-bold\"\n                }, String(StudentsEditor__Level.number(StudentsEditor__Level.unsafeFind(levels, \"TeamsList\", StudentsEditor__Team.levelId(team))))));\n}\n\nfunction teamCard(team, selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels) {\n  var isSingleStudent = StudentsEditor__Team.isSingleStudent(team);\n  var teamId = StudentsEditor__Team.id(team);\n  return React.createElement(\"div\", {\n              key: teamId,\n              className: \"student-team-container flex items-strecth shadow bg-white rounded-lg mb-3 overflow-hidden\",\n              id: StudentsEditor__Team.name(team)\n            }, React.createElement(\"div\", {\n                  className: \"flex flex-col flex-1 w-3/5\"\n                }, $$Array.map((function (student) {\n                        var studentId = StudentsEditor__Student.id(student);\n                        var isChecked = $$Array.mem(studentId, selectedStudentIds);\n                        var checkboxId = \"select-student-\" + studentId;\n                        return React.createElement(\"div\", {\n                                    key: studentId,\n                                    className: \"student-team__card h-full cursor-pointer flex items-center bg-white\",\n                                    id: StudentsEditor__Student.name(student)\n                                  }, React.createElement(\"div\", {\n                                        className: \"flex flex-1 w-3/5 h-full\"\n                                      }, React.createElement(\"div\", {\n                                            className: \"flex items-center w-full\"\n                                          }, React.createElement(\"label\", {\n                                                className: \"flex items-center h-full text-gray-500 leading-tight font-bold px-4 py-5 hover:bg-gray-100\",\n                                                htmlFor: checkboxId\n                                              }, React.createElement(\"input\", {\n                                                    className: \"leading-tight\",\n                                                    id: checkboxId,\n                                                    checked: isChecked,\n                                                    type: \"checkbox\",\n                                                    onChange: isChecked ? (function (_e) {\n                                                          return Curry._1(deselectStudentCB, studentId);\n                                                        }) : (function (_e) {\n                                                          return Curry._2(selectStudentCB, student, team);\n                                                        })\n                                                  })), React.createElement(\"a\", {\n                                                className: \"flex flex-1 items-center py-4 px-4 hover:bg-gray-100 justify-between\",\n                                                id: StudentsEditor__Student.name(student) + \"_edit\",\n                                                onClick: (function (_e) {\n                                                    return Curry._2(showEditFormCB, student, teamId);\n                                                  })\n                                              }, React.createElement(\"div\", {\n                                                    className: \"flex\"\n                                                  }, studentAvatar(student), React.createElement(\"div\", {\n                                                        className: \"text-sm flex flex-col\"\n                                                      }, React.createElement(\"p\", {\n                                                            className: \"text-black font-semibold inline-block \"\n                                                          }, StudentsEditor__Student.name(student)), React.createElement(\"div\", {\n                                                            className: \"flex flex-wrap\"\n                                                          }, $$Array.map((function (tag) {\n                                                                  return React.createElement(\"div\", {\n                                                                              key: tag,\n                                                                              className: \"bg-gray-300 rounded mt-1 mr-1 py-px px-2 text-xs text-gray-900\"\n                                                                            }, tag);\n                                                                }), StudentsEditor__Student.tags(student))))), isSingleStudent ? levelInfo(levels, team) : null))));\n                      }), StudentsEditor__Team.students(team))), isSingleStudent ? null : React.createElement(\"div\", {\n                    className: \"flex w-2/5 items-center border-l border-gray-200\"\n                  }, React.createElement(\"div\", {\n                        className: \"w-4/6 py-4 pl-5 pr-4\"\n                      }, React.createElement(\"div\", {\n                            className: \"students-team--name mb-5\"\n                          }, React.createElement(\"p\", {\n                                className: \"inline-block text-xs bg-green-200 leading-tight px-1 py-px rounded\"\n                              }, \"Team\"), React.createElement(\"h4\", undefined, StudentsEditor__Team.name(team)))), React.createElement(\"div\", {\n                        className: \"w-2/6 text-right pr-4\"\n                      }, levelInfo(levels, team))));\n}\n\nfunction showEmpty(filter, loading, updateFilterCB) {\n  if (loading === /* NotLoading */0 && StudentsEditor__Filter.isEmpty(filter)) {\n    return React.createElement(\"div\", {\n                className: \"text-center\"\n              }, \"No Users here.\");\n  } else {\n    return React.createElement(\"div\", {\n                className: \"flex\"\n              }, React.createElement(\"div\", {\n                    className: \"w-1/2 px-3\"\n                  }, React.createElement(\"p\", {\n                        className: \"text-xl font-semibold mt-4\"\n                      }, \"Sorry, no results found.\"), React.createElement(\"ul\", {\n                        className: \"list-disc text-gray-800 text-sm ml-5 mt-2\"\n                      }, React.createElement(\"li\", {\n                            className: \"py-1\"\n                          }, \"Make sure the spelling is correct.\"), React.createElement(\"li\", {\n                            className: \"py-1\"\n                          }, \"Try removing the search filter options.\")), React.createElement(\"button\", {\n                        className: \"btn btn-default mt-4\",\n                        onClick: (function (param) {\n                            return Curry._1(updateFilterCB, StudentsEditor__Filter.clear(filter));\n                          })\n                      }, \"Clear Filter\")), React.createElement(\"div\", {\n                    className: \"w-1/2\"\n                  }, React.createElement(\"img\", {\n                        className: \"w-full\",\n                        src: notFoundIcon\n                      })));\n  }\n}\n\nfunction showTeams(selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels, filter, updateFilterCB, loading, teams) {\n  if (teams.length !== 0) {\n    return $$Array.map((function (team) {\n                  return teamCard(team, selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels);\n                }), teams);\n  } else {\n    return showEmpty(filter, loading, updateFilterCB);\n  }\n}\n\nfunction StudentsEditor__TeamsList(Props) {\n  var levels = Props.levels;\n  var courseId = Props.courseId;\n  var updateTeamsCB = Props.updateTeamsCB;\n  var filter = Props.filter;\n  var pagedTeams = Props.pagedTeams;\n  var selectedStudentIds = Props.selectedStudentIds;\n  var selectStudentCB = Props.selectStudentCB;\n  var deselectStudentCB = Props.deselectStudentCB;\n  var showEditFormCB = Props.showEditFormCB;\n  var loading = Props.loading;\n  var setLoadingCB = Props.setLoadingCB;\n  var updateFilterCB = Props.updateFilterCB;\n  var refreshTeams = Props.refreshTeams;\n  React.useEffect((function () {\n          getTeams(courseId, undefined, updateTeamsCB, [], filter, setLoadingCB, /* Reloading */1);\n          return ;\n        }), [refreshTeams]);\n  var tmp;\n  if (typeof pagedTeams === \"number\" || pagedTeams.tag) {\n    tmp = null;\n  } else {\n    var cursor = pagedTeams[1];\n    var teams = pagedTeams[0];\n    tmp = loading === /* LoadingMore */2 ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined, /* () */0)) : React.createElement(\"div\", {\n            className: \"pt-4\"\n          }, React.createElement(\"button\", {\n                className: \"btn btn-primary-ghost cursor-pointer w-full\",\n                onClick: (function (param) {\n                    return getTeams(courseId, cursor, updateTeamsCB, teams, filter, setLoadingCB, /* LoadingMore */2);\n                  })\n              }, \"Load More\"));\n  }\n  return React.createElement(\"div\", {\n              className: \"pb-6\"\n            }, React.createElement(\"div\", {\n                  className: \"max-w-3xl mx-auto w-full\"\n                }, React.createElement(\"div\", undefined, typeof pagedTeams === \"number\" ? SkeletonLoading.multiple(3, SkeletonLoading.card(undefined, /* () */0)) : showTeams(selectedStudentIds, selectStudentCB, deselectStudentCB, showEditFormCB, levels, filter, updateFilterCB, loading, StudentsEditor__Page.teams(pagedTeams))), tmp));\n}\n\nvar make$1 = StudentsEditor__TeamsList;\n\nexports.notFoundIcon = notFoundIcon;\nexports.str = str;\nexports.CourseTeamsQuery = CourseTeamsQuery;\nexports.updateTeams = updateTeams;\nexports.getTeams = getTeams;\nexports.studentAvatar = studentAvatar;\nexports.levelInfo = levelInfo;\nexports.teamCard = teamCard;\nexports.showEmpty = showEmpty;\nexports.showTeams = showTeams;\nexports.make = make$1;\n/* notFoundIcon Not a pure module */\n"]},"metadata":{},"sourceType":"module"}