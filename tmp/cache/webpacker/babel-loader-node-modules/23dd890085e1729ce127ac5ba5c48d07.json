{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar PfIcon = require(\"../../../packages/pf-icon/src/PfIcon.bs.js\");\n\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\n\nvar SubmissionChecklistItem = require(\"../types/SubmissionChecklistItem.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction kindIconClasses(result) {\n  switch (result.tag | 0) {\n    case\n    /* ShortText */\n    0:\n      return \"if i-short-text-regular md:text-base text-gray-800 if-fw\";\n\n    case\n    /* LongText */\n    1:\n      return \"if i-long-text-regular md:text-base text-gray-800 if-fw\";\n\n    case\n    /* Link */\n    2:\n      return \"if i-link-regular md:text-base text-gray-800 if-fw\";\n\n    case\n    /* Files */\n    3:\n      return \"if i-file-regular md:text-base text-gray-800 if-fw\";\n\n    case\n    /* MultiChoice */\n    4:\n      return \"if i-check-circle-alt-regular md:text-base text-gray-800 if-fw\";\n  }\n}\n\nfunction showFiles(files) {\n  return React.createElement(\"div\", {\n    className: \"flex flex-wrap\"\n  }, $$Array.map(function (file) {\n    return React.createElement(\"a\", {\n      key: \"file-\" + SubmissionChecklistItem.fileUrl(file),\n      className: \"mt-1 mr-3 flex border overflow-hidden rounded hover:shadow-md border-pink-400 bg-white text-pink-700 hover:border-pink-600 hover:text-pink-700\",\n      href: SubmissionChecklistItem.fileUrl(file),\n      target: \"_blank\"\n    }, React.createElement(\"span\", {\n      className: \"course-show-attachments__attachment-title rounded text-xs font-semibold inline-block whitespace-normal truncate w-32 md:w-42 h-full px-3 py-2 leading-loose\"\n    }, SubmissionChecklistItem.fileName(file)), React.createElement(\"span\", {\n      className: \"flex w-10 justify-center items-center p-2 bg-pink-700 text-white\"\n    }, React.createElement(PfIcon.make, {\n      className: \"if i-download-regular\"\n    })));\n  }, files));\n}\n\nfunction showlink(link) {\n  return React.createElement(\"a\", {\n    className: \"max-w-fc mt-1 mr-3 flex border overflow-hidden rounded hover:shadow-md border-indigo-400 bg-white text-indigo-700 hover:border-blue-600 hover:text-indigo-800\",\n    href: link,\n    target: \"_blank\"\n  }, React.createElement(\"span\", {\n    className: \"course-show-attachments__attachment-title rounded text-xs font-semibold inline-block whitespace-normal truncate w-32 md:w-42 h-full px-3 py-2 leading-loose\"\n  }, link), React.createElement(\"span\", {\n    className: \"flex w-10 justify-center items-center p-2 bg-indigo-700 text-white\"\n  }, React.createElement(PfIcon.make, {\n    className: \"if i-external-link-regular\"\n  })));\n}\n\nfunction statusIcon(updateChecklistCB, status) {\n  if (updateChecklistCB !== undefined) {\n    return null;\n  } else {\n    switch (status) {\n      case\n      /* Passed */\n      0:\n        return React.createElement(PfIcon.make, {\n          className: \"if i-check-square-solid text-green-500 text-lg mr-3 -ml-6 mt-1 bg-white\"\n        });\n\n      case\n      /* Failed */\n      1:\n        return React.createElement(PfIcon.make, {\n          className: \"if i-times-square-solid text-red-500 text-lg mr-3 -ml-6 mt-1 bg-white\"\n        });\n\n      case\n      /* NoAnswer */\n      2:\n        return null;\n    }\n  }\n}\n\nfunction showStatus(status) {\n  switch (status) {\n    case\n    /* Passed */\n    0:\n      return React.createElement(\"div\", {\n        className: \"bg-green-200 rounded px-1 py-px text-green-800 text-tiny\"\n      }, \"Correct\");\n\n    case\n    /* Failed */\n    1:\n      return React.createElement(\"div\", {\n        className: \"bg-red-200 rounded px-1 py-px text-red-800 text-tiny\"\n      }, \"Incorrect\");\n\n    case\n    /* NoAnswer */\n    2:\n      return null;\n  }\n}\n\nfunction statusButtonSelectedClasses(status, currentStatus) {\n  var tmp;\n\n  switch (currentStatus) {\n    case\n    /* Passed */\n    0:\n      tmp = status !== 0 ? \"bg-white\" : \"bg-green-100 hover:bg-green-100 text-green-800 hover:text-green-800 border-green-500 z-10\";\n      break;\n\n    case\n    /* Failed */\n    1:\n      tmp = status !== 1 ? \"bg-white\" : \"bg-red-100 hover:bg-red-100 text-red-700 hover:text-red-700 border-red-500 z-10\";\n      break;\n\n    case\n    /* NoAnswer */\n    2:\n      tmp = \"bg-white\";\n      break;\n  }\n\n  return \"inline-flex items-center cursor-pointer leading-tight font-semibold inline-block text-xs relative hover:bg-gray-100 hover:text-gray-700 \" + tmp;\n}\n\nfunction statusButtonIcon(bool) {\n  if (bool) {\n    return \"if i-times-square-solid text-base if-fw\";\n  } else {\n    return \"if i-square-regular text-base if-fw text-gray-500\";\n  }\n}\n\nfunction statusButtonOnClick(bool, callback, checklist, index, _event) {\n  if (bool) {\n    return Curry._1(callback, SubmissionChecklistItem.makeNoAnswer(index, checklist));\n  } else {\n    return Curry._1(callback, SubmissionChecklistItem.makeFailed(index, checklist));\n  }\n}\n\nfunction statusButton(index, status, callback, checklist) {\n  var partial_arg = status ===\n  /* Failed */\n  1;\n  return React.createElement(\"div\", {\n    className: \"mt-2\"\n  }, React.createElement(\"button\", {\n    className: \"border border-gray-500 rounded \" + statusButtonSelectedClasses(\n    /* Failed */\n    1, status),\n    onClick: function onClick(param) {\n      return statusButtonOnClick(partial_arg, callback, checklist, index, param);\n    }\n  }, React.createElement(\"span\", {\n    className: \"w-8 p-2 border-r border-gray-500 flex items-center justify-center\"\n  }, React.createElement(PfIcon.make, {\n    className: status ===\n    /* Failed */\n    1 ? \"if i-times-square-solid text-base if-fw\" : \"if i-square-regular text-base if-fw text-gray-500\"\n  })), React.createElement(\"span\", {\n    className: \"p-2\"\n  }, \"Mark as incorrect\")));\n}\n\nfunction computeShowResult(pending, checklistItem) {\n  var match = SubmissionChecklistItem.status(checklistItem);\n\n  if (pending) {\n    return true;\n  } else {\n    return match === 1;\n  }\n}\n\nfunction cardClasses(pending) {\n  if (pending) {\n    return \"mt-3\";\n  } else {\n    return \"rounded shadow mt-4 \";\n  }\n}\n\nfunction cardHeaderClasses(pending) {\n  return \"text-sm font-semibold flex items-center justify-between \" + (pending ? \"\" : \"p-4 bg-white rounded cursor-pointer\");\n}\n\nfunction cardBodyClasses(pending) {\n  return \"pl-5 md:pl-7 p-3 pb-4 \" + (pending ? \"\" : \"border-t bg-gray-200 rounded-b\");\n}\n\nfunction SubmissionChecklistItemShow(Props) {\n  var index = Props.index;\n  var checklistItem = Props.checklistItem;\n  var updateChecklistCB = Props.updateChecklistCB;\n  var checklist = Props.checklist;\n  var pending = Props.pending;\n  var match = React.useState(function () {\n    return computeShowResult(pending, checklistItem);\n  });\n  var setShowResult = match[1];\n  var showResult = match[0];\n  React.useEffect(function () {\n    var newShowResult = computeShowResult(pending, checklistItem);\n\n    if (newShowResult !== showResult) {\n      Curry._1(setShowResult, function (param) {\n        return newShowResult;\n      });\n    }\n\n    return;\n  }, [updateChecklistCB]);\n  var status = SubmissionChecklistItem.status(checklistItem);\n  var tmp;\n\n  if (showResult) {\n    var match$1 = SubmissionChecklistItem.result(checklistItem);\n    var tmp$1;\n\n    switch (match$1.tag | 0) {\n      case\n      /* LongText */\n      1:\n        tmp$1 = React.createElement(MarkdownBlock.make, {\n          markdown: match$1[0],\n          profile:\n          /* Permissive */\n          2\n        });\n        break;\n\n      case\n      /* Link */\n      2:\n        tmp$1 = showlink(match$1[0]);\n        break;\n\n      case\n      /* Files */\n      3:\n        tmp$1 = showFiles(match$1[0]);\n        break;\n\n      case\n      /* ShortText */\n      0:\n      case\n      /* MultiChoice */\n      4:\n        tmp$1 = React.createElement(\"div\", undefined, match$1[0]);\n        break;\n    }\n\n    tmp = React.createElement(\"div\", {\n      className: cardBodyClasses(pending)\n    }, React.createElement(\"div\", undefined, tmp$1), updateChecklistCB !== undefined ? statusButton(index, status, updateChecklistCB, checklist) : null);\n  } else {\n    tmp = null;\n  }\n\n  return React.createElement(\"div\", {\n    \"aria-label\": SubmissionChecklistItem.title(checklistItem),\n    className: pending ? \"mt-3\" : \"rounded shadow mt-4 \",\n    onClick: function onClick(param) {\n      return Curry._1(setShowResult, function (param) {\n        return true;\n      });\n    }\n  }, React.createElement(\"div\", {\n    className: cardHeaderClasses(pending)\n  }, React.createElement(\"div\", {\n    className: \"inline-flex items-center\"\n  }, statusIcon(updateChecklistCB, status), React.createElement(PfIcon.make, {\n    className: kindIconClasses(SubmissionChecklistItem.result(checklistItem))\n  }), React.createElement(\"p\", {\n    className: \"pl-2 tracking-wide\"\n  }, SubmissionChecklistItem.title(checklistItem))), React.createElement(\"div\", {\n    className: \"inline-block\"\n  }, showResult ? showStatus(status) : React.createElement(\"button\", undefined, React.createElement(\"i\", {\n    className: \"fas fa-chevron-down\"\n  })))), tmp);\n}\n\nvar ChecklistItem =\n/* alias */\n0;\nvar make = SubmissionChecklistItemShow;\nexports.ChecklistItem = ChecklistItem;\nexports.str = str;\nexports.kindIconClasses = kindIconClasses;\nexports.showFiles = showFiles;\nexports.showlink = showlink;\nexports.statusIcon = statusIcon;\nexports.showStatus = showStatus;\nexports.statusButtonSelectedClasses = statusButtonSelectedClasses;\nexports.statusButtonIcon = statusButtonIcon;\nexports.statusButtonOnClick = statusButtonOnClick;\nexports.statusButton = statusButton;\nexports.computeShowResult = computeShowResult;\nexports.cardClasses = cardClasses;\nexports.cardHeaderClasses = cardHeaderClasses;\nexports.cardBodyClasses = cardBodyClasses;\nexports.make = make;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/review/components/SubmissionChecklistItemShow.bs.js"],"names":["$$Array","require","Curry","React","PfIcon","MarkdownBlock","SubmissionChecklistItem","str","prim","kindIconClasses","result","tag","showFiles","files","createElement","className","map","file","key","fileUrl","href","target","fileName","make","showlink","link","statusIcon","updateChecklistCB","status","undefined","showStatus","statusButtonSelectedClasses","currentStatus","tmp","statusButtonIcon","bool","statusButtonOnClick","callback","checklist","index","_event","_1","makeNoAnswer","makeFailed","statusButton","partial_arg","onClick","param","computeShowResult","pending","checklistItem","match","cardClasses","cardHeaderClasses","cardBodyClasses","SubmissionChecklistItemShow","Props","useState","setShowResult","showResult","useEffect","newShowResult","match$1","tmp$1","markdown","profile","title","ChecklistItem","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar PfIcon = require(\"../../../packages/pf-icon/src/PfIcon.bs.js\");\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\nvar SubmissionChecklistItem = require(\"../types/SubmissionChecklistItem.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction kindIconClasses(result) {\n  switch (result.tag | 0) {\n    case /* ShortText */0 :\n        return \"if i-short-text-regular md:text-base text-gray-800 if-fw\";\n    case /* LongText */1 :\n        return \"if i-long-text-regular md:text-base text-gray-800 if-fw\";\n    case /* Link */2 :\n        return \"if i-link-regular md:text-base text-gray-800 if-fw\";\n    case /* Files */3 :\n        return \"if i-file-regular md:text-base text-gray-800 if-fw\";\n    case /* MultiChoice */4 :\n        return \"if i-check-circle-alt-regular md:text-base text-gray-800 if-fw\";\n    \n  }\n}\n\nfunction showFiles(files) {\n  return React.createElement(\"div\", {\n              className: \"flex flex-wrap\"\n            }, $$Array.map((function (file) {\n                    return React.createElement(\"a\", {\n                                key: \"file-\" + SubmissionChecklistItem.fileUrl(file),\n                                className: \"mt-1 mr-3 flex border overflow-hidden rounded hover:shadow-md border-pink-400 bg-white text-pink-700 hover:border-pink-600 hover:text-pink-700\",\n                                href: SubmissionChecklistItem.fileUrl(file),\n                                target: \"_blank\"\n                              }, React.createElement(\"span\", {\n                                    className: \"course-show-attachments__attachment-title rounded text-xs font-semibold inline-block whitespace-normal truncate w-32 md:w-42 h-full px-3 py-2 leading-loose\"\n                                  }, SubmissionChecklistItem.fileName(file)), React.createElement(\"span\", {\n                                    className: \"flex w-10 justify-center items-center p-2 bg-pink-700 text-white\"\n                                  }, React.createElement(PfIcon.make, {\n                                        className: \"if i-download-regular\"\n                                      })));\n                  }), files));\n}\n\nfunction showlink(link) {\n  return React.createElement(\"a\", {\n              className: \"max-w-fc mt-1 mr-3 flex border overflow-hidden rounded hover:shadow-md border-indigo-400 bg-white text-indigo-700 hover:border-blue-600 hover:text-indigo-800\",\n              href: link,\n              target: \"_blank\"\n            }, React.createElement(\"span\", {\n                  className: \"course-show-attachments__attachment-title rounded text-xs font-semibold inline-block whitespace-normal truncate w-32 md:w-42 h-full px-3 py-2 leading-loose\"\n                }, link), React.createElement(\"span\", {\n                  className: \"flex w-10 justify-center items-center p-2 bg-indigo-700 text-white\"\n                }, React.createElement(PfIcon.make, {\n                      className: \"if i-external-link-regular\"\n                    })));\n}\n\nfunction statusIcon(updateChecklistCB, status) {\n  if (updateChecklistCB !== undefined) {\n    return null;\n  } else {\n    switch (status) {\n      case /* Passed */0 :\n          return React.createElement(PfIcon.make, {\n                      className: \"if i-check-square-solid text-green-500 text-lg mr-3 -ml-6 mt-1 bg-white\"\n                    });\n      case /* Failed */1 :\n          return React.createElement(PfIcon.make, {\n                      className: \"if i-times-square-solid text-red-500 text-lg mr-3 -ml-6 mt-1 bg-white\"\n                    });\n      case /* NoAnswer */2 :\n          return null;\n      \n    }\n  }\n}\n\nfunction showStatus(status) {\n  switch (status) {\n    case /* Passed */0 :\n        return React.createElement(\"div\", {\n                    className: \"bg-green-200 rounded px-1 py-px text-green-800 text-tiny\"\n                  }, \"Correct\");\n    case /* Failed */1 :\n        return React.createElement(\"div\", {\n                    className: \"bg-red-200 rounded px-1 py-px text-red-800 text-tiny\"\n                  }, \"Incorrect\");\n    case /* NoAnswer */2 :\n        return null;\n    \n  }\n}\n\nfunction statusButtonSelectedClasses(status, currentStatus) {\n  var tmp;\n  switch (currentStatus) {\n    case /* Passed */0 :\n        tmp = status !== 0 ? \"bg-white\" : \"bg-green-100 hover:bg-green-100 text-green-800 hover:text-green-800 border-green-500 z-10\";\n        break;\n    case /* Failed */1 :\n        tmp = status !== 1 ? \"bg-white\" : \"bg-red-100 hover:bg-red-100 text-red-700 hover:text-red-700 border-red-500 z-10\";\n        break;\n    case /* NoAnswer */2 :\n        tmp = \"bg-white\";\n        break;\n    \n  }\n  return \"inline-flex items-center cursor-pointer leading-tight font-semibold inline-block text-xs relative hover:bg-gray-100 hover:text-gray-700 \" + tmp;\n}\n\nfunction statusButtonIcon(bool) {\n  if (bool) {\n    return \"if i-times-square-solid text-base if-fw\";\n  } else {\n    return \"if i-square-regular text-base if-fw text-gray-500\";\n  }\n}\n\nfunction statusButtonOnClick(bool, callback, checklist, index, _event) {\n  if (bool) {\n    return Curry._1(callback, SubmissionChecklistItem.makeNoAnswer(index, checklist));\n  } else {\n    return Curry._1(callback, SubmissionChecklistItem.makeFailed(index, checklist));\n  }\n}\n\nfunction statusButton(index, status, callback, checklist) {\n  var partial_arg = status === /* Failed */1;\n  return React.createElement(\"div\", {\n              className: \"mt-2\"\n            }, React.createElement(\"button\", {\n                  className: \"border border-gray-500 rounded \" + statusButtonSelectedClasses(/* Failed */1, status),\n                  onClick: (function (param) {\n                      return statusButtonOnClick(partial_arg, callback, checklist, index, param);\n                    })\n                }, React.createElement(\"span\", {\n                      className: \"w-8 p-2 border-r border-gray-500 flex items-center justify-center\"\n                    }, React.createElement(PfIcon.make, {\n                          className: status === /* Failed */1 ? \"if i-times-square-solid text-base if-fw\" : \"if i-square-regular text-base if-fw text-gray-500\"\n                        })), React.createElement(\"span\", {\n                      className: \"p-2\"\n                    }, \"Mark as incorrect\")));\n}\n\nfunction computeShowResult(pending, checklistItem) {\n  var match = SubmissionChecklistItem.status(checklistItem);\n  if (pending) {\n    return true;\n  } else {\n    return match === 1;\n  }\n}\n\nfunction cardClasses(pending) {\n  if (pending) {\n    return \"mt-3\";\n  } else {\n    return \"rounded shadow mt-4 \";\n  }\n}\n\nfunction cardHeaderClasses(pending) {\n  return \"text-sm font-semibold flex items-center justify-between \" + (\n          pending ? \"\" : \"p-4 bg-white rounded cursor-pointer\"\n        );\n}\n\nfunction cardBodyClasses(pending) {\n  return \"pl-5 md:pl-7 p-3 pb-4 \" + (\n          pending ? \"\" : \"border-t bg-gray-200 rounded-b\"\n        );\n}\n\nfunction SubmissionChecklistItemShow(Props) {\n  var index = Props.index;\n  var checklistItem = Props.checklistItem;\n  var updateChecklistCB = Props.updateChecklistCB;\n  var checklist = Props.checklist;\n  var pending = Props.pending;\n  var match = React.useState((function () {\n          return computeShowResult(pending, checklistItem);\n        }));\n  var setShowResult = match[1];\n  var showResult = match[0];\n  React.useEffect((function () {\n          var newShowResult = computeShowResult(pending, checklistItem);\n          if (newShowResult !== showResult) {\n            Curry._1(setShowResult, (function (param) {\n                    return newShowResult;\n                  }));\n          }\n          return ;\n        }), [updateChecklistCB]);\n  var status = SubmissionChecklistItem.status(checklistItem);\n  var tmp;\n  if (showResult) {\n    var match$1 = SubmissionChecklistItem.result(checklistItem);\n    var tmp$1;\n    switch (match$1.tag | 0) {\n      case /* LongText */1 :\n          tmp$1 = React.createElement(MarkdownBlock.make, {\n                markdown: match$1[0],\n                profile: /* Permissive */2\n              });\n          break;\n      case /* Link */2 :\n          tmp$1 = showlink(match$1[0]);\n          break;\n      case /* Files */3 :\n          tmp$1 = showFiles(match$1[0]);\n          break;\n      case /* ShortText */0 :\n      case /* MultiChoice */4 :\n          tmp$1 = React.createElement(\"div\", undefined, match$1[0]);\n          break;\n      \n    }\n    tmp = React.createElement(\"div\", {\n          className: cardBodyClasses(pending)\n        }, React.createElement(\"div\", undefined, tmp$1), updateChecklistCB !== undefined ? statusButton(index, status, updateChecklistCB, checklist) : null);\n  } else {\n    tmp = null;\n  }\n  return React.createElement(\"div\", {\n              \"aria-label\": SubmissionChecklistItem.title(checklistItem),\n              className: pending ? \"mt-3\" : \"rounded shadow mt-4 \",\n              onClick: (function (param) {\n                  return Curry._1(setShowResult, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(\"div\", {\n                  className: cardHeaderClasses(pending)\n                }, React.createElement(\"div\", {\n                      className: \"inline-flex items-center\"\n                    }, statusIcon(updateChecklistCB, status), React.createElement(PfIcon.make, {\n                          className: kindIconClasses(SubmissionChecklistItem.result(checklistItem))\n                        }), React.createElement(\"p\", {\n                          className: \"pl-2 tracking-wide\"\n                        }, SubmissionChecklistItem.title(checklistItem))), React.createElement(\"div\", {\n                      className: \"inline-block\"\n                    }, showResult ? showStatus(status) : React.createElement(\"button\", undefined, React.createElement(\"i\", {\n                                className: \"fas fa-chevron-down\"\n                              })))), tmp);\n}\n\nvar ChecklistItem = /* alias */0;\n\nvar make = SubmissionChecklistItemShow;\n\nexports.ChecklistItem = ChecklistItem;\nexports.str = str;\nexports.kindIconClasses = kindIconClasses;\nexports.showFiles = showFiles;\nexports.showlink = showlink;\nexports.statusIcon = statusIcon;\nexports.showStatus = showStatus;\nexports.statusButtonSelectedClasses = statusButtonSelectedClasses;\nexports.statusButtonIcon = statusButtonIcon;\nexports.statusButtonOnClick = statusButtonOnClick;\nexports.statusButton = statusButton;\nexports.computeShowResult = computeShowResult;\nexports.cardClasses = cardClasses;\nexports.cardHeaderClasses = cardHeaderClasses;\nexports.cardBodyClasses = cardBodyClasses;\nexports.make = make;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}