{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar Avatar = require(\"../../../../shared/Avatar.bs.js\");\n\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\n\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\n\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\n\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\n\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\n\nvar SkeletonLoading = require(\"../../../../shared/components/SkeletonLoading.bs.js\");\n\nvar CourseCoaches__Team = require(\"../../types/course_coaches/CourseCoaches__Team.bs.js\");\n\nvar CourseCoaches__CourseCoach = require(\"../../types/course_coaches/CourseCoaches__CourseCoach.bs.js\");\n\nvar CourseCoaches__InfoFormTeam = require(\"./CourseCoaches__InfoFormTeam.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialStats = {\n  reviewedSubmissions: 0,\n  pendingSubmissions: 0\n};\nvar initialState_teams = [];\nvar initialState = {\n  teams: initialState_teams,\n  loading: true,\n  stats: initialStats\n};\n\nfunction reducer(state, action) {\n  if (action.tag) {\n    var id = action[0];\n    return {\n      teams: state.teams.filter(function (team) {\n        return CourseCoaches__Team.id(team) !== id;\n      }),\n      loading: state.loading,\n      stats: state.stats\n    };\n  } else {\n    return {\n      teams: action[0],\n      loading: false,\n      stats: action[1]\n    };\n  }\n}\n\nvar ppx_printed_query = \"query CoachInfoQuery($courseId: ID!, $coachId: ID!)  {\\nteams(courseId: $courseId, coachId: $coachId, first: 100)  {\\nnodes  {\\nid  \\nname  \\nstudents  {\\nname  \\n}\\n\\n}\\n\\n}\\n\\ncoachStats(courseId: $courseId, coachId: $coachId)  {\\nreviewedSubmissions  \\npendingSubmissions  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"teams\");\n  var tmp;\n\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map(function (value) {\n        var match = Js_json.decodeNull(value);\n\n        if (match !== undefined) {\n          return;\n        } else {\n          var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n          var match$1 = Js_dict.get(value$1, \"id\");\n          var tmp;\n\n          if (match$1 !== undefined) {\n            var value$2 = Caml_option.valFromOption(match$1);\n            var match$2 = Js_json.decodeString(value$2);\n            tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n          } else {\n            tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Team is missing\");\n          }\n\n          var match$3 = Js_dict.get(value$1, \"name\");\n          var tmp$1;\n\n          if (match$3 !== undefined) {\n            var value$3 = Caml_option.valFromOption(match$3);\n            var match$4 = Js_json.decodeString(value$3);\n            tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n          } else {\n            tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Team is missing\");\n          }\n\n          var match$5 = Js_dict.get(value$1, \"students\");\n          return {\n            id: tmp,\n            name: tmp$1,\n            students: match$5 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$5))).map(function (value) {\n              var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n              var match = Js_dict.get(value$1, \"name\");\n              var tmp;\n\n              if (match !== undefined) {\n                var value$2 = Caml_option.valFromOption(match);\n                var match$1 = Js_json.decodeString(value$2);\n                tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n              } else {\n                tmp = Js_exn.raiseError(\"graphql_ppx: Field name on type Student is missing\");\n              }\n\n              return {\n                name: tmp\n              };\n            }) : Js_exn.raiseError(\"graphql_ppx: Field students on type Team is missing\")\n          };\n        }\n      });\n    } else {\n      tmp$1 = undefined;\n    }\n\n    tmp = {\n      nodes: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field teams on type Query is missing\");\n  }\n\n  var match$3 = Js_dict.get(value$1, \"coachStats\");\n  var tmp$2;\n\n  if (match$3 !== undefined) {\n    var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n    var match$4 = Js_dict.get(value$4, \"reviewedSubmissions\");\n    var tmp$3;\n\n    if (match$4 !== undefined) {\n      var value$5 = Caml_option.valFromOption(match$4);\n      var match$5 = Js_json.decodeNumber(value$5);\n      tmp$3 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field reviewedSubmissions on type CoachStats is missing\");\n    }\n\n    var match$6 = Js_dict.get(value$4, \"pendingSubmissions\");\n    var tmp$4;\n\n    if (match$6 !== undefined) {\n      var value$6 = Caml_option.valFromOption(match$6);\n      var match$7 = Js_json.decodeNumber(value$6);\n      tmp$4 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$6));\n    } else {\n      tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field pendingSubmissions on type CoachStats is missing\");\n    }\n\n    tmp$2 = {\n      reviewedSubmissions: tmp$3,\n      pendingSubmissions: tmp$4\n    };\n  } else {\n    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field coachStats on type Query is missing\");\n  }\n\n  return {\n    teams: tmp,\n    coachStats: tmp$2\n  };\n}\n\nfunction make(courseId, coachId, param) {\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"coachId\", coachId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var coachId = variables.coachId;\n  return {\n    query: ppx_printed_query,\n    variables: Js_dict.fromArray([\n    /* tuple */\n    [\"courseId\", courseId],\n    /* tuple */\n    [\"coachId\", coachId]].filter(function (param) {\n      return !Js_json.test(param[1],\n      /* Null */\n      5);\n    })),\n    parse: parse\n  };\n}\n\nfunction makeVariables(courseId, coachId, param) {\n  return Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"coachId\", coachId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  }));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, coachId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n  /* tuple */\n  [\"courseId\", courseId],\n  /* tuple */\n  [\"coachId\", coachId]].filter(function (param) {\n    return !Js_json.test(param[1],\n    /* Null */\n    5);\n  })));\n}\n\nvar definition =\n/* tuple */\n[parse, ppx_printed_query, definition_002];\n\nfunction ret_type(f) {\n  return {};\n}\n\nvar MT_Ret = {};\nvar CoachInfoQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction loadCoachTeams(courseId, coachId, send) {\n  (function (eta) {\n    return GraphqlQuery.sendQuery(undefined, eta);\n  })(make(courseId, coachId,\n  /* () */\n  0)).then(function (result) {\n    var coachTeams = OptionUtils.mapWithDefault(CourseCoaches__Team.makeArrayFromJs, [], result.teams.nodes);\n    var stats_reviewedSubmissions = result.coachStats.reviewedSubmissions;\n    var stats_pendingSubmissions = result.coachStats.pendingSubmissions;\n    var stats = {\n      reviewedSubmissions: stats_reviewedSubmissions,\n      pendingSubmissions: stats_pendingSubmissions\n    };\n\n    Curry._1(send,\n    /* LoadCoachInfo */\n    Block.__(0, [coachTeams, stats]));\n\n    return Promise.resolve(\n    /* () */\n    0);\n  });\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction removeTeamEnrollment(send, teamId) {\n  return Curry._1(send,\n  /* RemoveTeam */\n  Block.__(1, [teamId]));\n}\n\nfunction CourseCoaches__InfoForm(Props) {\n  var courseId = Props.courseId;\n  var coach = Props.coach;\n  var match = React.useReducer(reducer, initialState);\n  var send = match[1];\n  var state = match[0];\n  React.useEffect(function () {\n    loadCoachTeams(courseId, CourseCoaches__CourseCoach.id(coach), send);\n    return;\n  }, [courseId]);\n  var match$1 = CourseCoaches__CourseCoach.avatarUrl(coach);\n  return React.createElement(\"div\", {\n    className: \"mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"py-6 border-b border-gray-400 bg-gray-100\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl mx-auto\"\n  }, React.createElement(\"div\", {\n    className: \"flex\"\n  }, match$1 !== undefined ? React.createElement(\"img\", {\n    className: \"w-12 h-12 rounded-full mr-4\",\n    src: match$1\n  }) : React.createElement(Avatar.make, {\n    name: CourseCoaches__CourseCoach.name(coach),\n    className: \"w-12 h-12 mr-4\"\n  }), React.createElement(\"div\", {\n    className: \"text-sm flex flex-col justify-center\"\n  }, React.createElement(\"div\", {\n    className: \"text-black font-bold inline-block\"\n  }, CourseCoaches__CourseCoach.name(coach)), React.createElement(\"div\", {\n    className: \"text-gray-600 inline-block\"\n  }, CourseCoaches__CourseCoach.email(coach)))))), React.createElement(\"div\", {\n    className: \"max-w-2xl mx-auto\"\n  }, state.loading ? React.createElement(\"div\", {\n    className: \"py-3 flex\"\n  }, SkeletonLoading.card(\"w-full mr-2\",\n  /* () */\n  0), SkeletonLoading.card(\"w-full ml-2\",\n  /* () */\n  0)) : React.createElement(\"div\", {\n    className: \"py-3 flex mt-4\"\n  }, React.createElement(\"div\", {\n    \"aria-label\": \"Reviewed Submissions\",\n    className: \"w-full mr-2 rounded-lg shadow px-5 py-6\"\n  }, React.createElement(\"div\", {\n    className: \"flex justify-between items-center\"\n  }, React.createElement(\"span\", undefined, \"Reviewed submissions\"), React.createElement(\"span\", {\n    className: \"text-2xl font-semibold\"\n  }, String(state.stats.reviewedSubmissions)))), React.createElement(\"div\", {\n    \"aria-label\": \"Pending Submissions\",\n    className: \"w-full ml-2 rounded-lg shadow px-5 py-6\"\n  }, React.createElement(\"div\", {\n    className: \"flex justify-between items-center\"\n  }, React.createElement(\"span\", undefined, \"Pending submissions\"), React.createElement(\"span\", {\n    className: \"text-2xl font-semibold\"\n  }, String(state.stats.pendingSubmissions))))), React.createElement(\"span\", {\n    className: \"inline-block mr-1 my-2 text-sm font-semibold pt-5\"\n  }, \"Students assigned to coach:\"), state.loading ? React.createElement(\"div\", {\n    className: \"max-w-2xl mx-auto p-3\"\n  }, SkeletonLoading.multiple(2, SkeletonLoading.paragraph(\n  /* () */\n  0))) : React.createElement(\"div\", undefined, ArrayUtils.isEmpty(state.teams) ? React.createElement(\"div\", {\n    className: \"border border-gray-400 rounded italic text-gray-600 text-xs cursor-default mt-2 p-3\"\n  }, \"There are no students assigned to this coach. You can assign coaches directly while editing the student details.\") : $$Array.map(function (team) {\n    return React.createElement(CourseCoaches__InfoFormTeam.make, {\n      team: team,\n      coach: coach,\n      removeTeamEnrollmentCB: function removeTeamEnrollmentCB(param) {\n        return Curry._1(send,\n        /* RemoveTeam */\n        Block.__(1, [param]));\n      },\n      key: CourseCoaches__Team.id(team)\n    });\n  }, state.teams))));\n}\n\nvar make$1 = CourseCoaches__InfoForm;\nexports.str = str;\nexports.initialStats = initialStats;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.CoachInfoQuery = CoachInfoQuery;\nexports.loadCoachTeams = loadCoachTeams;\nexports.removeTeamEnrollment = removeTeamEnrollment;\nexports.make = make$1;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/course_coaches/CourseCoaches__InfoForm.bs.js"],"names":["$$Array","require","Block","Curry","React","Avatar","Js_exn","Js_dict","Js_json","Js_option","ArrayUtils","Caml_option","OptionUtils","GraphqlQuery","SkeletonLoading","CourseCoaches__Team","CourseCoaches__CourseCoach","CourseCoaches__InfoFormTeam","str","prim","initialStats","reviewedSubmissions","pendingSubmissions","initialState_teams","initialState","teams","loading","stats","reducer","state","action","tag","id","filter","team","ppx_printed_query","parse","value","value$1","getExn","decodeObject","match","get","tmp","undefined","value$2","valFromOption","match$1","tmp$1","value$3","match$2","decodeNull","decodeArray","map","decodeString","raiseError","JSON","stringify","match$3","match$4","match$5","name","students","nodes","tmp$2","value$4","tmp$3","value$5","decodeNumber","match$6","tmp$4","value$6","match$7","coachStats","make","courseId","coachId","param","query","variables","fromArray","test","makeWithVariables","makeVariables","definition_002","graphql_ppx_use_json_variables_fn","_1","definition","ret_type","f","MT_Ret","CoachInfoQuery","loadCoachTeams","send","eta","sendQuery","then","result","coachTeams","mapWithDefault","makeArrayFromJs","stats_reviewedSubmissions","stats_pendingSubmissions","__","Promise","resolve","removeTeamEnrollment","teamId","CourseCoaches__InfoForm","Props","coach","useReducer","useEffect","avatarUrl","createElement","className","src","email","card","String","multiple","paragraph","isEmpty","removeTeamEnrollmentCB","key","make$1","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Avatar = require(\"../../../../shared/Avatar.bs.js\");\nvar Js_exn = require(\"bs-platform/lib/js/js_exn.js\");\nvar Js_dict = require(\"bs-platform/lib/js/js_dict.js\");\nvar Js_json = require(\"bs-platform/lib/js/js_json.js\");\nvar Js_option = require(\"bs-platform/lib/js/js_option.js\");\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar GraphqlQuery = require(\"../../../../shared/utils/GraphqlQuery.bs.js\");\nvar SkeletonLoading = require(\"../../../../shared/components/SkeletonLoading.bs.js\");\nvar CourseCoaches__Team = require(\"../../types/course_coaches/CourseCoaches__Team.bs.js\");\nvar CourseCoaches__CourseCoach = require(\"../../types/course_coaches/CourseCoaches__CourseCoach.bs.js\");\nvar CourseCoaches__InfoFormTeam = require(\"./CourseCoaches__InfoFormTeam.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nvar initialStats = {\n  reviewedSubmissions: 0,\n  pendingSubmissions: 0\n};\n\nvar initialState_teams = [];\n\nvar initialState = {\n  teams: initialState_teams,\n  loading: true,\n  stats: initialStats\n};\n\nfunction reducer(state, action) {\n  if (action.tag) {\n    var id = action[0];\n    return {\n            teams: state.teams.filter((function (team) {\n                    return CourseCoaches__Team.id(team) !== id;\n                  })),\n            loading: state.loading,\n            stats: state.stats\n          };\n  } else {\n    return {\n            teams: action[0],\n            loading: false,\n            stats: action[1]\n          };\n  }\n}\n\nvar ppx_printed_query = \"query CoachInfoQuery($courseId: ID!, $coachId: ID!)  {\\nteams(courseId: $courseId, coachId: $coachId, first: 100)  {\\nnodes  {\\nid  \\nname  \\nstudents  {\\nname  \\n}\\n\\n}\\n\\n}\\n\\ncoachStats(courseId: $courseId, coachId: $coachId)  {\\nreviewedSubmissions  \\npendingSubmissions  \\n}\\n\\n}\\n\";\n\nfunction parse(value) {\n  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n  var match = Js_dict.get(value$1, \"teams\");\n  var tmp;\n  if (match !== undefined) {\n    var value$2 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match)));\n    var match$1 = Js_dict.get(value$2, \"nodes\");\n    var tmp$1;\n    if (match$1 !== undefined) {\n      var value$3 = Caml_option.valFromOption(match$1);\n      var match$2 = Js_json.decodeNull(value$3);\n      tmp$1 = match$2 !== undefined ? undefined : Js_option.getExn(Js_json.decodeArray(value$3)).map((function (value) {\n                var match = Js_json.decodeNull(value);\n                if (match !== undefined) {\n                  return ;\n                } else {\n                  var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                  var match$1 = Js_dict.get(value$1, \"id\");\n                  var tmp;\n                  if (match$1 !== undefined) {\n                    var value$2 = Caml_option.valFromOption(match$1);\n                    var match$2 = Js_json.decodeString(value$2);\n                    tmp = match$2 !== undefined ? match$2 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                  } else {\n                    tmp = Js_exn.raiseError(\"graphql_ppx: Field id on type Team is missing\");\n                  }\n                  var match$3 = Js_dict.get(value$1, \"name\");\n                  var tmp$1;\n                  if (match$3 !== undefined) {\n                    var value$3 = Caml_option.valFromOption(match$3);\n                    var match$4 = Js_json.decodeString(value$3);\n                    tmp$1 = match$4 !== undefined ? match$4 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$3));\n                  } else {\n                    tmp$1 = Js_exn.raiseError(\"graphql_ppx: Field name on type Team is missing\");\n                  }\n                  var match$5 = Js_dict.get(value$1, \"students\");\n                  return {\n                          id: tmp,\n                          name: tmp$1,\n                          students: match$5 !== undefined ? Js_option.getExn(Js_json.decodeArray(Caml_option.valFromOption(match$5))).map((function (value) {\n                                    var value$1 = Js_option.getExn(Js_json.decodeObject(value));\n                                    var match = Js_dict.get(value$1, \"name\");\n                                    var tmp;\n                                    if (match !== undefined) {\n                                      var value$2 = Caml_option.valFromOption(match);\n                                      var match$1 = Js_json.decodeString(value$2);\n                                      tmp = match$1 !== undefined ? match$1 : Js_exn.raiseError(\"graphql_ppx: Expected string, got \" + JSON.stringify(value$2));\n                                    } else {\n                                      tmp = Js_exn.raiseError(\"graphql_ppx: Field name on type Student is missing\");\n                                    }\n                                    return {\n                                            name: tmp\n                                          };\n                                  })) : Js_exn.raiseError(\"graphql_ppx: Field students on type Team is missing\")\n                        };\n                }\n              }));\n    } else {\n      tmp$1 = undefined;\n    }\n    tmp = {\n      nodes: tmp$1\n    };\n  } else {\n    tmp = Js_exn.raiseError(\"graphql_ppx: Field teams on type Query is missing\");\n  }\n  var match$3 = Js_dict.get(value$1, \"coachStats\");\n  var tmp$2;\n  if (match$3 !== undefined) {\n    var value$4 = Js_option.getExn(Js_json.decodeObject(Caml_option.valFromOption(match$3)));\n    var match$4 = Js_dict.get(value$4, \"reviewedSubmissions\");\n    var tmp$3;\n    if (match$4 !== undefined) {\n      var value$5 = Caml_option.valFromOption(match$4);\n      var match$5 = Js_json.decodeNumber(value$5);\n      tmp$3 = match$5 !== undefined ? match$5 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$5));\n    } else {\n      tmp$3 = Js_exn.raiseError(\"graphql_ppx: Field reviewedSubmissions on type CoachStats is missing\");\n    }\n    var match$6 = Js_dict.get(value$4, \"pendingSubmissions\");\n    var tmp$4;\n    if (match$6 !== undefined) {\n      var value$6 = Caml_option.valFromOption(match$6);\n      var match$7 = Js_json.decodeNumber(value$6);\n      tmp$4 = match$7 !== undefined ? match$7 | 0 : Js_exn.raiseError(\"graphql_ppx: Expected int, got \" + JSON.stringify(value$6));\n    } else {\n      tmp$4 = Js_exn.raiseError(\"graphql_ppx: Field pendingSubmissions on type CoachStats is missing\");\n    }\n    tmp$2 = {\n      reviewedSubmissions: tmp$3,\n      pendingSubmissions: tmp$4\n    };\n  } else {\n    tmp$2 = Js_exn.raiseError(\"graphql_ppx: Field coachStats on type Query is missing\");\n  }\n  return {\n          teams: tmp,\n          coachStats: tmp$2\n        };\n}\n\nfunction make(courseId, coachId, param) {\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeWithVariables(variables) {\n  var courseId = variables.courseId;\n  var coachId = variables.coachId;\n  return {\n          query: ppx_printed_query,\n          variables: Js_dict.fromArray([\n                  /* tuple */[\n                    \"courseId\",\n                    courseId\n                  ],\n                  /* tuple */[\n                    \"coachId\",\n                    coachId\n                  ]\n                ].filter((function (param) {\n                      return !Js_json.test(param[1], /* Null */5);\n                    }))),\n          parse: parse\n        };\n}\n\nfunction makeVariables(courseId, coachId, param) {\n  return Js_dict.fromArray([\n                /* tuple */[\n                  \"courseId\",\n                  courseId\n                ],\n                /* tuple */[\n                  \"coachId\",\n                  coachId\n                ]\n              ].filter((function (param) {\n                    return !Js_json.test(param[1], /* Null */5);\n                  })));\n}\n\nfunction definition_002(graphql_ppx_use_json_variables_fn, courseId, coachId, param) {\n  return Curry._1(graphql_ppx_use_json_variables_fn, Js_dict.fromArray([\n                    /* tuple */[\n                      \"courseId\",\n                      courseId\n                    ],\n                    /* tuple */[\n                      \"coachId\",\n                      coachId\n                    ]\n                  ].filter((function (param) {\n                        return !Js_json.test(param[1], /* Null */5);\n                      }))));\n}\n\nvar definition = /* tuple */[\n  parse,\n  ppx_printed_query,\n  definition_002\n];\n\nfunction ret_type(f) {\n  return { };\n}\n\nvar MT_Ret = { };\n\nvar CoachInfoQuery = {\n  ppx_printed_query: ppx_printed_query,\n  query: ppx_printed_query,\n  parse: parse,\n  make: make,\n  makeWithVariables: makeWithVariables,\n  makeVariables: makeVariables,\n  definition: definition,\n  ret_type: ret_type,\n  MT_Ret: MT_Ret\n};\n\nfunction loadCoachTeams(courseId, coachId, send) {\n  (function (eta) {\n          return GraphqlQuery.sendQuery(undefined, eta);\n        })(make(courseId, coachId, /* () */0)).then((function (result) {\n          var coachTeams = OptionUtils.mapWithDefault(CourseCoaches__Team.makeArrayFromJs, [], result.teams.nodes);\n          var stats_reviewedSubmissions = result.coachStats.reviewedSubmissions;\n          var stats_pendingSubmissions = result.coachStats.pendingSubmissions;\n          var stats = {\n            reviewedSubmissions: stats_reviewedSubmissions,\n            pendingSubmissions: stats_pendingSubmissions\n          };\n          Curry._1(send, /* LoadCoachInfo */Block.__(0, [\n                  coachTeams,\n                  stats\n                ]));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction removeTeamEnrollment(send, teamId) {\n  return Curry._1(send, /* RemoveTeam */Block.__(1, [teamId]));\n}\n\nfunction CourseCoaches__InfoForm(Props) {\n  var courseId = Props.courseId;\n  var coach = Props.coach;\n  var match = React.useReducer(reducer, initialState);\n  var send = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          loadCoachTeams(courseId, CourseCoaches__CourseCoach.id(coach), send);\n          return ;\n        }), [courseId]);\n  var match$1 = CourseCoaches__CourseCoach.avatarUrl(coach);\n  return React.createElement(\"div\", {\n              className: \"mx-auto\"\n            }, React.createElement(\"div\", {\n                  className: \"py-6 border-b border-gray-400 bg-gray-100\"\n                }, React.createElement(\"div\", {\n                      className: \"max-w-2xl mx-auto\"\n                    }, React.createElement(\"div\", {\n                          className: \"flex\"\n                        }, match$1 !== undefined ? React.createElement(\"img\", {\n                                className: \"w-12 h-12 rounded-full mr-4\",\n                                src: match$1\n                              }) : React.createElement(Avatar.make, {\n                                name: CourseCoaches__CourseCoach.name(coach),\n                                className: \"w-12 h-12 mr-4\"\n                              }), React.createElement(\"div\", {\n                              className: \"text-sm flex flex-col justify-center\"\n                            }, React.createElement(\"div\", {\n                                  className: \"text-black font-bold inline-block\"\n                                }, CourseCoaches__CourseCoach.name(coach)), React.createElement(\"div\", {\n                                  className: \"text-gray-600 inline-block\"\n                                }, CourseCoaches__CourseCoach.email(coach)))))), React.createElement(\"div\", {\n                  className: \"max-w-2xl mx-auto\"\n                }, state.loading ? React.createElement(\"div\", {\n                        className: \"py-3 flex\"\n                      }, SkeletonLoading.card(\"w-full mr-2\", /* () */0), SkeletonLoading.card(\"w-full ml-2\", /* () */0)) : React.createElement(\"div\", {\n                        className: \"py-3 flex mt-4\"\n                      }, React.createElement(\"div\", {\n                            \"aria-label\": \"Reviewed Submissions\",\n                            className: \"w-full mr-2 rounded-lg shadow px-5 py-6\"\n                          }, React.createElement(\"div\", {\n                                className: \"flex justify-between items-center\"\n                              }, React.createElement(\"span\", undefined, \"Reviewed submissions\"), React.createElement(\"span\", {\n                                    className: \"text-2xl font-semibold\"\n                                  }, String(state.stats.reviewedSubmissions)))), React.createElement(\"div\", {\n                            \"aria-label\": \"Pending Submissions\",\n                            className: \"w-full ml-2 rounded-lg shadow px-5 py-6\"\n                          }, React.createElement(\"div\", {\n                                className: \"flex justify-between items-center\"\n                              }, React.createElement(\"span\", undefined, \"Pending submissions\"), React.createElement(\"span\", {\n                                    className: \"text-2xl font-semibold\"\n                                  }, String(state.stats.pendingSubmissions))))), React.createElement(\"span\", {\n                      className: \"inline-block mr-1 my-2 text-sm font-semibold pt-5\"\n                    }, \"Students assigned to coach:\"), state.loading ? React.createElement(\"div\", {\n                        className: \"max-w-2xl mx-auto p-3\"\n                      }, SkeletonLoading.multiple(2, SkeletonLoading.paragraph(/* () */0))) : React.createElement(\"div\", undefined, ArrayUtils.isEmpty(state.teams) ? React.createElement(\"div\", {\n                              className: \"border border-gray-400 rounded italic text-gray-600 text-xs cursor-default mt-2 p-3\"\n                            }, \"There are no students assigned to this coach. You can assign coaches directly while editing the student details.\") : $$Array.map((function (team) {\n                                return React.createElement(CourseCoaches__InfoFormTeam.make, {\n                                            team: team,\n                                            coach: coach,\n                                            removeTeamEnrollmentCB: (function (param) {\n                                                return Curry._1(send, /* RemoveTeam */Block.__(1, [param]));\n                                              }),\n                                            key: CourseCoaches__Team.id(team)\n                                          });\n                              }), state.teams))));\n}\n\nvar make$1 = CourseCoaches__InfoForm;\n\nexports.str = str;\nexports.initialStats = initialStats;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.CoachInfoQuery = CoachInfoQuery;\nexports.loadCoachTeams = loadCoachTeams;\nexports.removeTeamEnrollment = removeTeamEnrollment;\nexports.make = make$1;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}