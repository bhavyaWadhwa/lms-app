{"ast":null,"code":"var sanitizeHtml = require(\"sanitize-html\");\n\nvar sanitizationProfiles = {};\nsanitizationProfiles.permissive = [\"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"em\", \"strong\", \"del\", \"s\", \"ul\", \"ol\", \"li\", \"a\", \"code\", \"pre\", \"blockquote\", \"hr\", \"sup\", \"sub\", \"span\", \"br\", \"img\", \"table\", \"thead\", \"tr\", \"th\", \"td\", \"tbody\"];\nsanitizationProfiles.questionAndAnswer = sanitizationProfiles.permissive;\nsanitizationProfiles.comment = [\"p\", \"em\", \"strong\", \"del\", \"s\", \"a\", \"code\", \"sup\", \"sub\"];\nsanitizationProfiles.areaOfText = [\"p\", \"em\", \"strong\", \"del\", \"s\", \"a\", \"sup\", \"sub\"];\nvar allowedCodeClasses = [\"language-javascript\", \"language-js\", // javascript\n\"language-css\", \"language-scss\", \"language-ruby\", \"language-erb\", \"language-reason\", \"language-markup\", \"language-html\", // markup\n\"language-xml\", // markup\n\"language-svg\", // markup\n\"language-mathml\", // markup\n\"language-yaml\", \"language-yml\" //yaml\n];\n\nvar sanitizationProfile = function sanitizationProfile(profile) {\n  if (profile in sanitizationProfiles) {\n    return sanitizationProfiles[profile];\n  } else {\n    return [];\n  }\n};\n\nvar allowedPreClasses = [\"line-numbers\"];\n\nvar sanitize = function sanitize(profile, dirtyHtml) {\n  return sanitizeHtml(dirtyHtml, {\n    allowedTags: sanitizationProfile(profile),\n    allowedAttributes: {\n      a: [\"href\", \"name\", \"target\"],\n      img: [\"src\", \"title\", \"alt\"],\n      td: [\"rowspan\", \"colspan\"]\n    },\n    allowedClasses: {\n      pre: allowedPreClasses,\n      code: allowedCodeClasses\n    }\n  });\n};\n\nexport default sanitize;","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/shared/utils/sanitize.js"],"names":["sanitizeHtml","require","sanitizationProfiles","permissive","questionAndAnswer","comment","areaOfText","allowedCodeClasses","sanitizationProfile","profile","allowedPreClasses","sanitize","dirtyHtml","allowedTags","allowedAttributes","a","img","td","allowedClasses","pre","code"],"mappings":"AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AAEA,IAAMC,oBAAoB,GAAG,EAA7B;AAEAA,oBAAoB,CAACC,UAArB,GAAkC,CAChC,GADgC,EAEhC,IAFgC,EAGhC,IAHgC,EAIhC,IAJgC,EAKhC,IALgC,EAMhC,IANgC,EAOhC,IAPgC,EAQhC,IARgC,EAShC,QATgC,EAUhC,KAVgC,EAWhC,GAXgC,EAYhC,IAZgC,EAahC,IAbgC,EAchC,IAdgC,EAehC,GAfgC,EAgBhC,MAhBgC,EAiBhC,KAjBgC,EAkBhC,YAlBgC,EAmBhC,IAnBgC,EAoBhC,KApBgC,EAqBhC,KArBgC,EAsBhC,MAtBgC,EAuBhC,IAvBgC,EAwBhC,KAxBgC,EAyBhC,OAzBgC,EA0BhC,OA1BgC,EA2BhC,IA3BgC,EA4BhC,IA5BgC,EA6BhC,IA7BgC,EA8BhC,OA9BgC,CAAlC;AAiCAD,oBAAoB,CAACE,iBAArB,GAAyCF,oBAAoB,CAACC,UAA9D;AAEAD,oBAAoB,CAACG,OAArB,GAA+B,CAC7B,GAD6B,EAE7B,IAF6B,EAG7B,QAH6B,EAI7B,KAJ6B,EAK7B,GAL6B,EAM7B,GAN6B,EAO7B,MAP6B,EAQ7B,KAR6B,EAS7B,KAT6B,CAA/B;AAYAH,oBAAoB,CAACI,UAArB,GAAkC,CAChC,GADgC,EAEhC,IAFgC,EAGhC,QAHgC,EAIhC,KAJgC,EAKhC,GALgC,EAMhC,GANgC,EAOhC,KAPgC,EAQhC,KARgC,CAAlC;AAWA,IAAMC,kBAAkB,GAAG,CACzB,qBADyB,EAEzB,aAFyB,EAEV;AACf,cAHyB,EAIzB,eAJyB,EAKzB,eALyB,EAMzB,cANyB,EAOzB,iBAPyB,EAQzB,iBARyB,EASzB,eATyB,EASR;AACjB,cAVyB,EAUT;AAChB,cAXyB,EAWT;AAChB,iBAZyB,EAYN;AACnB,eAbyB,EAczB,cAdyB,CAcT;AAdS,CAA3B;;AAiBA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,OAAD,EAAa;AACvC,MAAIA,OAAO,IAAIP,oBAAf,EAAqC;AACnC,WAAOA,oBAAoB,CAACO,OAAD,CAA3B;AACD,GAFD,MAEO;AACL,WAAO,EAAP;AACD;AACF,CAND;;AAQA,IAAMC,iBAAiB,GAAG,CAAC,cAAD,CAA1B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACF,OAAD,EAAUG,SAAV,EAAwB;AACvC,SAAOZ,YAAY,CAACY,SAAD,EAAY;AAC7BC,IAAAA,WAAW,EAAEL,mBAAmB,CAACC,OAAD,CADH;AAE7BK,IAAAA,iBAAiB,EAAE;AACjBC,MAAAA,CAAC,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,QAAjB,CADc;AAEjBC,MAAAA,GAAG,EAAE,CAAC,KAAD,EAAQ,OAAR,EAAiB,KAAjB,CAFY;AAGjBC,MAAAA,EAAE,EAAE,CAAC,SAAD,EAAY,SAAZ;AAHa,KAFU;AAO7BC,IAAAA,cAAc,EAAE;AACdC,MAAAA,GAAG,EAAET,iBADS;AAEdU,MAAAA,IAAI,EAAEb;AAFQ;AAPa,GAAZ,CAAnB;AAYD,CAbD;;AAeA,eAAeI,QAAf","sourcesContent":["const sanitizeHtml = require(\"sanitize-html\");\n\nconst sanitizationProfiles = {};\n\nsanitizationProfiles.permissive = [\n  \"p\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"em\",\n  \"strong\",\n  \"del\",\n  \"s\",\n  \"ul\",\n  \"ol\",\n  \"li\",\n  \"a\",\n  \"code\",\n  \"pre\",\n  \"blockquote\",\n  \"hr\",\n  \"sup\",\n  \"sub\",\n  \"span\",\n  \"br\",\n  \"img\",\n  \"table\",\n  \"thead\",\n  \"tr\",\n  \"th\",\n  \"td\",\n  \"tbody\",\n];\n\nsanitizationProfiles.questionAndAnswer = sanitizationProfiles.permissive;\n\nsanitizationProfiles.comment = [\n  \"p\",\n  \"em\",\n  \"strong\",\n  \"del\",\n  \"s\",\n  \"a\",\n  \"code\",\n  \"sup\",\n  \"sub\",\n];\n\nsanitizationProfiles.areaOfText = [\n  \"p\",\n  \"em\",\n  \"strong\",\n  \"del\",\n  \"s\",\n  \"a\",\n  \"sup\",\n  \"sub\",\n];\n\nconst allowedCodeClasses = [\n  \"language-javascript\",\n  \"language-js\", // javascript\n  \"language-css\",\n  \"language-scss\",\n  \"language-ruby\",\n  \"language-erb\",\n  \"language-reason\",\n  \"language-markup\",\n  \"language-html\", // markup\n  \"language-xml\", // markup\n  \"language-svg\", // markup\n  \"language-mathml\", // markup\n  \"language-yaml\",\n  \"language-yml\", //yaml\n];\n\nconst sanitizationProfile = (profile) => {\n  if (profile in sanitizationProfiles) {\n    return sanitizationProfiles[profile];\n  } else {\n    return [];\n  }\n};\n\nconst allowedPreClasses = [\"line-numbers\"];\n\nconst sanitize = (profile, dirtyHtml) => {\n  return sanitizeHtml(dirtyHtml, {\n    allowedTags: sanitizationProfile(profile),\n    allowedAttributes: {\n      a: [\"href\", \"name\", \"target\"],\n      img: [\"src\", \"title\", \"alt\"],\n      td: [\"rowspan\", \"colspan\"],\n    },\n    allowedClasses: {\n      pre: allowedPreClasses,\n      code: allowedCodeClasses,\n    },\n  });\n};\n\nexport default sanitize;\n"]},"metadata":{},"sourceType":"module"}