{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\n\nvar Block = require(\"bs-platform/lib/js/block.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\n\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\n\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\n\nvar DisablingCover = require(\"../../../../shared/components/DisablingCover.bs.js\");\n\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\n\nvar CourseEditor__Course = require(\"../../types/course_editor/CourseEditor__Course.bs.js\");\n\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\n\nvar SchoolAdmin__EditorDrawer = require(\"../../../components/SchoolAdmin__EditorDrawer.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction updateButtonText(updating) {\n  if (updating) {\n    return \"Updating...\";\n  } else {\n    return \"Update Images\";\n  }\n}\n\nvar formId = \"course-editor-form-image-form\";\n\nfunction filename(optionalFilename) {\n  return OptionUtils.$$default(\"unknown\", optionalFilename);\n}\n\nfunction handleUpdateCB(json, state, course, updateCourseCB) {\n  var coverUrl = Json_decode.field(\"cover_url\", function (param) {\n    return Json_decode.optional(Json_decode.string, param);\n  }, json);\n  var thumbnailUrl = Json_decode.field(\"thumbnail_url\", function (param) {\n    return Json_decode.optional(Json_decode.string, param);\n  }, json);\n  return Curry._1(updateCourseCB, CourseEditor__Course.addImages(coverUrl, thumbnailUrl, OptionUtils.$$default(\"unknown\", state.filenameCover), OptionUtils.$$default(\"unknown\", state.filenameThumb), course));\n}\n\nfunction handleUpdateImages(send, state, course, updateCourseCB, $$event) {\n  $$event.preventDefault();\n\n  Curry._1(send,\n  /* BeginUpdate */\n  0);\n\n  var element = document.getElementById(formId);\n\n  if (element == null) {\n    return (\n      /* () */\n      0\n    );\n  } else {\n    return Api.sendFormData(\"/school/courses/\" + (CourseEditor__Course.id(course) + \"/attach_images\"), new FormData(element), function (json) {\n      $$Notification.success(\"Done!\", \"Images have been updated successfully.\");\n      handleUpdateCB(json, state, course, updateCourseCB);\n      return Curry._1(send,\n      /* DoneUpdating */\n      2);\n    }, function (param) {\n      return Curry._1(send,\n      /* ErrorOccured */\n      1);\n    });\n  }\n}\n\nfunction updateButtonDisabled(state) {\n  if (state.updating || !state.formDirty || state.invalidThumb) {\n    return true;\n  } else {\n    return state.invalidCover;\n  }\n}\n\nfunction optionalImageLabelText(image, selectedFilename) {\n  if (selectedFilename !== undefined) {\n    return React.createElement(\"span\", undefined, \"You have selected \", React.createElement(\"code\", {\n      className: \"mr-1\"\n    }, selectedFilename), \". Click to replace the current image.\");\n  } else if (image !== undefined) {\n    return React.createElement(\"span\", undefined, \"Please pick a file to replace \", React.createElement(\"code\", undefined, CourseEditor__Course.filename(image)));\n  } else {\n    return \"Please choose an image file.\";\n  }\n}\n\nfunction isInvalidImageFile(image) {\n  var match = image.type;\n  var tmp;\n\n  switch (match) {\n    case \"image/jpeg\":\n    case \"image/png\":\n      tmp = false;\n      break;\n\n    default:\n      tmp = true;\n  }\n\n  if (tmp) {\n    return true;\n  } else {\n    return image.size > 2097152;\n  }\n}\n\nfunction updateImage(send, isCover, $$event) {\n  var imageFile = Caml_array.caml_array_get($$event.target.files, 0);\n\n  if (isCover) {\n    return Curry._1(send,\n    /* SelectCover */\n    Block.__(0, [imageFile.name, isInvalidImageFile(imageFile)]));\n  } else {\n    return Curry._1(send,\n    /* SelectThumb */\n    Block.__(1, [imageFile.name, isInvalidImageFile(imageFile)]));\n  }\n}\n\nfunction initialState(param) {\n  return {\n    filenameThumb: undefined,\n    filenameCover: undefined,\n    invalidThumb: false,\n    invalidCover: false,\n    updating: false,\n    formDirty: false\n  };\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case\n      /* BeginUpdate */\n      0:\n        return {\n          filenameThumb: state.filenameThumb,\n          filenameCover: state.filenameCover,\n          invalidThumb: state.invalidThumb,\n          invalidCover: state.invalidCover,\n          updating: true,\n          formDirty: state.formDirty\n        };\n\n      case\n      /* ErrorOccured */\n      1:\n        return {\n          filenameThumb: state.filenameThumb,\n          filenameCover: state.filenameCover,\n          invalidThumb: state.invalidThumb,\n          invalidCover: state.invalidCover,\n          updating: false,\n          formDirty: state.formDirty\n        };\n\n      case\n      /* DoneUpdating */\n      2:\n        return {\n          filenameThumb: state.filenameThumb,\n          filenameCover: state.filenameCover,\n          invalidThumb: state.invalidThumb,\n          invalidCover: state.invalidCover,\n          updating: false,\n          formDirty: false\n        };\n    }\n  } else if (action.tag) {\n    return {\n      filenameThumb: action[0],\n      filenameCover: state.filenameCover,\n      invalidThumb: action[1],\n      invalidCover: state.invalidCover,\n      updating: state.updating,\n      formDirty: true\n    };\n  } else {\n    return {\n      filenameThumb: state.filenameThumb,\n      filenameCover: action[0],\n      invalidThumb: state.invalidThumb,\n      invalidCover: action[1],\n      updating: state.updating,\n      formDirty: true\n    };\n  }\n}\n\nfunction CourseEditor__ImagesForm(Props) {\n  var course = Props.course;\n  var updateCourseCB = Props.updateCourseCB;\n  var closeDrawerCB = Props.closeDrawerCB;\n  var match = React.useReducer(reducer, {\n    filenameThumb: undefined,\n    filenameCover: undefined,\n    invalidThumb: false,\n    invalidCover: false,\n    updating: false,\n    formDirty: false\n  });\n  var send = match[1];\n  var state = match[0];\n  var thumbnail = CourseEditor__Course.thumbnail(course);\n  var cover = CourseEditor__Course.cover(course);\n  return React.createElement(SchoolAdmin__EditorDrawer.make, {\n    closeDrawerCB: closeDrawerCB,\n    children: React.createElement(\"form\", {\n      key: \"sc-images-editor__form\",\n      className: \"mx-8 pt-8\",\n      id: formId,\n      onSubmit: function onSubmit(param) {\n        return handleUpdateImages(send, state, course, updateCourseCB, param);\n      }\n    }, React.createElement(\"input\", {\n      name: \"authenticity_token\",\n      type: \"hidden\",\n      value: AuthenticityToken.fromHead(\n      /* () */\n      0)\n    }), React.createElement(\"h5\", {\n      className: \"uppercase text-center border-b border-gray-400 pb-2\"\n    }, \"Course Images\"), React.createElement(DisablingCover.make, {\n      disabled: state.updating,\n      children: null\n    }, React.createElement(\"div\", {\n      key: \"course-images-editor__thumbnail\",\n      className: \"mt-4\"\n    }, React.createElement(\"label\", {\n      className: \"tracking-wide text-gray-800 text-xs font-semibold\",\n      htmlFor: \"sc-images-editor__logo-on-400-bg-input\"\n    }, \"Thumbnail\"), React.createElement(HelpIcon.make, {\n      className: \"text-xs ml-1\",\n      link: \"https://docs.pupilfirst.com/#/courses?id=course-images\",\n      responsiveAlignment:\n      /* NonResponsive */\n      Block.__(0, [\n      /* AlignLeft */\n      0]),\n      children: \"The thumbnail will be displayed on the homepage, and here in the admin courses list.\"\n    }), React.createElement(\"input\", {\n      className: \"hidden\",\n      id: \"course-images-editor__thumbnail\",\n      accept: \".jpg,.jpeg,.png,.gif,image/x-png,image/gif,image/jpeg\",\n      disabled: state.updating,\n      multiple: false,\n      name: \"course_thumbnail\",\n      required: false,\n      type: \"file\",\n      onChange: function onChange(param) {\n        return updateImage(send, false, param);\n      }\n    }), React.createElement(\"label\", {\n      className: \"file-input-label mt-2\",\n      htmlFor: \"course-images-editor__thumbnail\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-upload\"\n    }), React.createElement(\"span\", {\n      className: \"ml-2 truncate\"\n    }, optionalImageLabelText(thumbnail, state.filenameThumb))), React.createElement(School__InputGroupError.make, {\n      message: \"must be a JPEG / PNG under 2 MB in size\",\n      active: state.invalidThumb\n    })), React.createElement(\"div\", {\n      key: \"course-images-editor__cover\",\n      className: \"mt-4\"\n    }, React.createElement(\"label\", {\n      className: \"tracking-wide text-gray-800 text-xs font-semibold\",\n      htmlFor: \"sc-images-editor__logo-on-400-bg-input\"\n    }, \"Cover Image\"), React.createElement(HelpIcon.make, {\n      className: \"text-xs ml-1\",\n      link: \"https://docs.pupilfirst.com/#/courses?id=course-images\",\n      responsiveAlignment:\n      /* NonResponsive */\n      Block.__(0, [\n      /* AlignLeft */\n      0]),\n      children: \"The cover will be displayed at the top of all student pages within the course, and as the header of some course emails.\"\n    }), React.createElement(\"input\", {\n      className: \"hidden\",\n      id: \"course-images-editor__cover\",\n      accept: \".jpg,.jpeg,.png,.gif,image/x-png,image/gif,image/jpeg\",\n      disabled: state.updating,\n      multiple: false,\n      name: \"course_cover\",\n      required: false,\n      type: \"file\",\n      onChange: function onChange(param) {\n        return updateImage(send, true, param);\n      }\n    }), React.createElement(\"label\", {\n      className: \"file-input-label mt-2\",\n      htmlFor: \"course-images-editor__cover\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-upload\"\n    }), React.createElement(\"span\", {\n      className: \"ml-2 truncate\"\n    }, optionalImageLabelText(cover, state.filenameCover))), React.createElement(School__InputGroupError.make, {\n      message: \"must be a JPEG / PNG under 2 MB in size\",\n      active: state.invalidCover\n    })), React.createElement(\"button\", {\n      key: \"sc-images-editor__update-button\",\n      className: \"btn btn-primary btn-large mt-6\",\n      disabled: updateButtonDisabled(state),\n      type: \"submit\"\n    }, state.updating ? \"Updating...\" : \"Update Images\")))\n  });\n}\n\nvar maxAllowedSize = 2097152;\nvar make = CourseEditor__ImagesForm;\nexports.str = str;\nexports.updateButtonText = updateButtonText;\nexports.formId = formId;\nexports.filename = filename;\nexports.handleUpdateCB = handleUpdateCB;\nexports.handleUpdateImages = handleUpdateImages;\nexports.updateButtonDisabled = updateButtonDisabled;\nexports.optionalImageLabelText = optionalImageLabelText;\nexports.maxAllowedSize = maxAllowedSize;\nexports.isInvalidImageFile = isInvalidImageFile;\nexports.updateImage = updateImage;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.make = make;\n/* Api Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/course_editor/CourseEditor__ImagesForm.bs.js"],"names":["Api","require","Block","Curry","React","HelpIcon","Caml_array","Json_decode","OptionUtils","$$Notification","DisablingCover","AuthenticityToken","CourseEditor__Course","School__InputGroupError","SchoolAdmin__EditorDrawer","str","prim","updateButtonText","updating","formId","filename","optionalFilename","$$default","handleUpdateCB","json","state","course","updateCourseCB","coverUrl","field","param","optional","string","thumbnailUrl","_1","addImages","filenameCover","filenameThumb","handleUpdateImages","send","$$event","preventDefault","element","document","getElementById","sendFormData","id","FormData","success","updateButtonDisabled","formDirty","invalidThumb","invalidCover","optionalImageLabelText","image","selectedFilename","undefined","createElement","className","isInvalidImageFile","match","type","tmp","size","updateImage","isCover","imageFile","caml_array_get","target","files","__","name","initialState","reducer","action","tag","CourseEditor__ImagesForm","Props","closeDrawerCB","useReducer","thumbnail","cover","make","children","key","onSubmit","value","fromHead","disabled","htmlFor","link","responsiveAlignment","accept","multiple","required","onChange","message","active","maxAllowedSize","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Api = require(\"../../../../shared/Api.bs.js\");\nvar Block = require(\"bs-platform/lib/js/block.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar HelpIcon = require(\"../../../../shared/components/HelpIcon.bs.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar OptionUtils = require(\"../../../../shared/utils/OptionUtils.bs.js\");\nvar $$Notification = require(\"../../../../shared/Notification.bs.js\");\nvar DisablingCover = require(\"../../../../shared/components/DisablingCover.bs.js\");\nvar AuthenticityToken = require(\"../../../../shared/utils/AuthenticityToken.bs.js\");\nvar CourseEditor__Course = require(\"../../types/course_editor/CourseEditor__Course.bs.js\");\nvar School__InputGroupError = require(\"../../../shared/components/School__InputGroupError.bs.js\");\nvar SchoolAdmin__EditorDrawer = require(\"../../../components/SchoolAdmin__EditorDrawer.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction updateButtonText(updating) {\n  if (updating) {\n    return \"Updating...\";\n  } else {\n    return \"Update Images\";\n  }\n}\n\nvar formId = \"course-editor-form-image-form\";\n\nfunction filename(optionalFilename) {\n  return OptionUtils.$$default(\"unknown\", optionalFilename);\n}\n\nfunction handleUpdateCB(json, state, course, updateCourseCB) {\n  var coverUrl = Json_decode.field(\"cover_url\", (function (param) {\n          return Json_decode.optional(Json_decode.string, param);\n        }), json);\n  var thumbnailUrl = Json_decode.field(\"thumbnail_url\", (function (param) {\n          return Json_decode.optional(Json_decode.string, param);\n        }), json);\n  return Curry._1(updateCourseCB, CourseEditor__Course.addImages(coverUrl, thumbnailUrl, OptionUtils.$$default(\"unknown\", state.filenameCover), OptionUtils.$$default(\"unknown\", state.filenameThumb), course));\n}\n\nfunction handleUpdateImages(send, state, course, updateCourseCB, $$event) {\n  $$event.preventDefault();\n  Curry._1(send, /* BeginUpdate */0);\n  var element = document.getElementById(formId);\n  if (element == null) {\n    return /* () */0;\n  } else {\n    return Api.sendFormData(\"/school/courses/\" + (CourseEditor__Course.id(course) + \"/attach_images\"), new FormData(element), (function (json) {\n                  $$Notification.success(\"Done!\", \"Images have been updated successfully.\");\n                  handleUpdateCB(json, state, course, updateCourseCB);\n                  return Curry._1(send, /* DoneUpdating */2);\n                }), (function (param) {\n                  return Curry._1(send, /* ErrorOccured */1);\n                }));\n  }\n}\n\nfunction updateButtonDisabled(state) {\n  if (state.updating || !state.formDirty || state.invalidThumb) {\n    return true;\n  } else {\n    return state.invalidCover;\n  }\n}\n\nfunction optionalImageLabelText(image, selectedFilename) {\n  if (selectedFilename !== undefined) {\n    return React.createElement(\"span\", undefined, \"You have selected \", React.createElement(\"code\", {\n                    className: \"mr-1\"\n                  }, selectedFilename), \". Click to replace the current image.\");\n  } else if (image !== undefined) {\n    return React.createElement(\"span\", undefined, \"Please pick a file to replace \", React.createElement(\"code\", undefined, CourseEditor__Course.filename(image)));\n  } else {\n    return \"Please choose an image file.\";\n  }\n}\n\nfunction isInvalidImageFile(image) {\n  var match = image.type;\n  var tmp;\n  switch (match) {\n    case \"image/jpeg\" :\n    case \"image/png\" :\n        tmp = false;\n        break;\n    default:\n      tmp = true;\n  }\n  if (tmp) {\n    return true;\n  } else {\n    return image.size > 2097152;\n  }\n}\n\nfunction updateImage(send, isCover, $$event) {\n  var imageFile = Caml_array.caml_array_get($$event.target.files, 0);\n  if (isCover) {\n    return Curry._1(send, /* SelectCover */Block.__(0, [\n                  imageFile.name,\n                  isInvalidImageFile(imageFile)\n                ]));\n  } else {\n    return Curry._1(send, /* SelectThumb */Block.__(1, [\n                  imageFile.name,\n                  isInvalidImageFile(imageFile)\n                ]));\n  }\n}\n\nfunction initialState(param) {\n  return {\n          filenameThumb: undefined,\n          filenameCover: undefined,\n          invalidThumb: false,\n          invalidCover: false,\n          updating: false,\n          formDirty: false\n        };\n}\n\nfunction reducer(state, action) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* BeginUpdate */0 :\n          return {\n                  filenameThumb: state.filenameThumb,\n                  filenameCover: state.filenameCover,\n                  invalidThumb: state.invalidThumb,\n                  invalidCover: state.invalidCover,\n                  updating: true,\n                  formDirty: state.formDirty\n                };\n      case /* ErrorOccured */1 :\n          return {\n                  filenameThumb: state.filenameThumb,\n                  filenameCover: state.filenameCover,\n                  invalidThumb: state.invalidThumb,\n                  invalidCover: state.invalidCover,\n                  updating: false,\n                  formDirty: state.formDirty\n                };\n      case /* DoneUpdating */2 :\n          return {\n                  filenameThumb: state.filenameThumb,\n                  filenameCover: state.filenameCover,\n                  invalidThumb: state.invalidThumb,\n                  invalidCover: state.invalidCover,\n                  updating: false,\n                  formDirty: false\n                };\n      \n    }\n  } else if (action.tag) {\n    return {\n            filenameThumb: action[0],\n            filenameCover: state.filenameCover,\n            invalidThumb: action[1],\n            invalidCover: state.invalidCover,\n            updating: state.updating,\n            formDirty: true\n          };\n  } else {\n    return {\n            filenameThumb: state.filenameThumb,\n            filenameCover: action[0],\n            invalidThumb: state.invalidThumb,\n            invalidCover: action[1],\n            updating: state.updating,\n            formDirty: true\n          };\n  }\n}\n\nfunction CourseEditor__ImagesForm(Props) {\n  var course = Props.course;\n  var updateCourseCB = Props.updateCourseCB;\n  var closeDrawerCB = Props.closeDrawerCB;\n  var match = React.useReducer(reducer, {\n        filenameThumb: undefined,\n        filenameCover: undefined,\n        invalidThumb: false,\n        invalidCover: false,\n        updating: false,\n        formDirty: false\n      });\n  var send = match[1];\n  var state = match[0];\n  var thumbnail = CourseEditor__Course.thumbnail(course);\n  var cover = CourseEditor__Course.cover(course);\n  return React.createElement(SchoolAdmin__EditorDrawer.make, {\n              closeDrawerCB: closeDrawerCB,\n              children: React.createElement(\"form\", {\n                    key: \"sc-images-editor__form\",\n                    className: \"mx-8 pt-8\",\n                    id: formId,\n                    onSubmit: (function (param) {\n                        return handleUpdateImages(send, state, course, updateCourseCB, param);\n                      })\n                  }, React.createElement(\"input\", {\n                        name: \"authenticity_token\",\n                        type: \"hidden\",\n                        value: AuthenticityToken.fromHead(/* () */0)\n                      }), React.createElement(\"h5\", {\n                        className: \"uppercase text-center border-b border-gray-400 pb-2\"\n                      }, \"Course Images\"), React.createElement(DisablingCover.make, {\n                        disabled: state.updating,\n                        children: null\n                      }, React.createElement(\"div\", {\n                            key: \"course-images-editor__thumbnail\",\n                            className: \"mt-4\"\n                          }, React.createElement(\"label\", {\n                                className: \"tracking-wide text-gray-800 text-xs font-semibold\",\n                                htmlFor: \"sc-images-editor__logo-on-400-bg-input\"\n                              }, \"Thumbnail\"), React.createElement(HelpIcon.make, {\n                                className: \"text-xs ml-1\",\n                                link: \"https://docs.pupilfirst.com/#/courses?id=course-images\",\n                                responsiveAlignment: /* NonResponsive */Block.__(0, [/* AlignLeft */0]),\n                                children: \"The thumbnail will be displayed on the homepage, and here in the admin courses list.\"\n                              }), React.createElement(\"input\", {\n                                className: \"hidden\",\n                                id: \"course-images-editor__thumbnail\",\n                                accept: \".jpg,.jpeg,.png,.gif,image/x-png,image/gif,image/jpeg\",\n                                disabled: state.updating,\n                                multiple: false,\n                                name: \"course_thumbnail\",\n                                required: false,\n                                type: \"file\",\n                                onChange: (function (param) {\n                                    return updateImage(send, false, param);\n                                  })\n                              }), React.createElement(\"label\", {\n                                className: \"file-input-label mt-2\",\n                                htmlFor: \"course-images-editor__thumbnail\"\n                              }, React.createElement(\"i\", {\n                                    className: \"fas fa-upload\"\n                                  }), React.createElement(\"span\", {\n                                    className: \"ml-2 truncate\"\n                                  }, optionalImageLabelText(thumbnail, state.filenameThumb))), React.createElement(School__InputGroupError.make, {\n                                message: \"must be a JPEG / PNG under 2 MB in size\",\n                                active: state.invalidThumb\n                              })), React.createElement(\"div\", {\n                            key: \"course-images-editor__cover\",\n                            className: \"mt-4\"\n                          }, React.createElement(\"label\", {\n                                className: \"tracking-wide text-gray-800 text-xs font-semibold\",\n                                htmlFor: \"sc-images-editor__logo-on-400-bg-input\"\n                              }, \"Cover Image\"), React.createElement(HelpIcon.make, {\n                                className: \"text-xs ml-1\",\n                                link: \"https://docs.pupilfirst.com/#/courses?id=course-images\",\n                                responsiveAlignment: /* NonResponsive */Block.__(0, [/* AlignLeft */0]),\n                                children: \"The cover will be displayed at the top of all student pages within the course, and as the header of some course emails.\"\n                              }), React.createElement(\"input\", {\n                                className: \"hidden\",\n                                id: \"course-images-editor__cover\",\n                                accept: \".jpg,.jpeg,.png,.gif,image/x-png,image/gif,image/jpeg\",\n                                disabled: state.updating,\n                                multiple: false,\n                                name: \"course_cover\",\n                                required: false,\n                                type: \"file\",\n                                onChange: (function (param) {\n                                    return updateImage(send, true, param);\n                                  })\n                              }), React.createElement(\"label\", {\n                                className: \"file-input-label mt-2\",\n                                htmlFor: \"course-images-editor__cover\"\n                              }, React.createElement(\"i\", {\n                                    className: \"fas fa-upload\"\n                                  }), React.createElement(\"span\", {\n                                    className: \"ml-2 truncate\"\n                                  }, optionalImageLabelText(cover, state.filenameCover))), React.createElement(School__InputGroupError.make, {\n                                message: \"must be a JPEG / PNG under 2 MB in size\",\n                                active: state.invalidCover\n                              })), React.createElement(\"button\", {\n                            key: \"sc-images-editor__update-button\",\n                            className: \"btn btn-primary btn-large mt-6\",\n                            disabled: updateButtonDisabled(state),\n                            type: \"submit\"\n                          }, state.updating ? \"Updating...\" : \"Update Images\")))\n            });\n}\n\nvar maxAllowedSize = 2097152;\n\nvar make = CourseEditor__ImagesForm;\n\nexports.str = str;\nexports.updateButtonText = updateButtonText;\nexports.formId = formId;\nexports.filename = filename;\nexports.handleUpdateCB = handleUpdateCB;\nexports.handleUpdateImages = handleUpdateImages;\nexports.updateButtonDisabled = updateButtonDisabled;\nexports.optionalImageLabelText = optionalImageLabelText;\nexports.maxAllowedSize = maxAllowedSize;\nexports.isInvalidImageFile = isInvalidImageFile;\nexports.updateImage = updateImage;\nexports.initialState = initialState;\nexports.reducer = reducer;\nexports.make = make;\n/* Api Not a pure module */\n"]},"metadata":{},"sourceType":"module"}