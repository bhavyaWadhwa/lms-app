{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar SchoolAdmin__EditorDrawer = require(\"../components/SchoolAdmin__EditorDrawer.bs.js\");\n\nvar SchoolCommunities__Editor = require(\"./components/SchoolCommunities__Editor.bs.js\");\n\nvar SchoolCommunities__Community = require(\"./types/index/SchoolCommunities__Community.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction SchoolCommunities__Index(Props) {\n  var communities = Props.communities;\n  var courses = Props.courses;\n  var connections = Props.connections;\n  var match = React.useState(function () {\n    return (\n      /* Hidden */\n      0\n    );\n  });\n  var setEditorAction = match[1];\n  var editorAction = match[0];\n  var match$1 = React.useState(function () {\n    return connections;\n  });\n  var setStateConnections = match$1[1];\n  var match$2 = React.useState(function () {\n    return communities;\n  });\n  var setStateCommunities = match$2[1];\n  var stateCommunities = match$2[0];\n\n  var updateCommunitiesCB = function updateCommunitiesCB(community, connections) {\n    Curry._1(setStateCommunities, function (param) {\n      return SchoolCommunities__Community.updateList(community, stateCommunities);\n    });\n\n    Curry._1(setStateConnections, function (param) {\n      return connections;\n    });\n\n    return Curry._1(setEditorAction, function (param) {\n      return (\n        /* Hidden */\n        0\n      );\n    });\n  };\n\n  var addCommunityCB = function addCommunityCB(community, connections) {\n    Curry._1(setStateCommunities, function (param) {\n      return List.append(\n      /* :: */\n      [community,\n      /* [] */\n      0], communities);\n    });\n\n    Curry._1(setStateConnections, function (param) {\n      return connections;\n    });\n\n    return Curry._1(setEditorAction, function (param) {\n      return (\n        /* Hidden */\n        0\n      );\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"flex-1 flex flex-col overflow-y-scroll bg-gray-200\"\n  }, editorAction ? React.createElement(SchoolAdmin__EditorDrawer.make, {\n    closeDrawerCB: function closeDrawerCB(param) {\n      return Curry._1(setEditorAction, function (param) {\n        return (\n          /* Hidden */\n          0\n        );\n      });\n    },\n    children: React.createElement(SchoolCommunities__Editor.make, {\n      courses: courses,\n      community: editorAction[0],\n      connections: match$1[0],\n      addCommunityCB: addCommunityCB,\n      updateCommunitiesCB: updateCommunitiesCB\n    })\n  }) : null, React.createElement(\"div\", {\n    className: \"flex px-6 py-2 items-center justify-between\"\n  }, React.createElement(\"button\", {\n    className: \"max-w-2xl w-full flex mx-auto items-center justify-center relative bg-white text-primary-500 hover:bg-gray-100 hover:text-primary-600 hover:shadow-lg focus:outline-none border-2 border-gray-400 border-dashed hover:border-primary-300 p-6 rounded-lg mt-8 cursor-pointer\",\n    onClick: function onClick(param) {\n      return Curry._1(setEditorAction, function (param) {\n        return (\n          /* ShowEditor */\n          [undefined]\n        );\n      });\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-plus-circle\"\n  }), React.createElement(\"h5\", {\n    className: \"font-semibold ml-2\"\n  }, \"Add New Community\"))), React.createElement(\"div\", {\n    className: \"px-6 pb-4 mt-5 flex flex-1\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl w-full mx-auto relative\"\n  }, $$Array.of_list(List.map(function (community) {\n    return React.createElement(\"div\", {\n      key: SchoolCommunities__Community.id(community),\n      className: \"flex items-center shadow bg-white rounded-lg mb-4\"\n    }, React.createElement(\"div\", {\n      className: \"course-faculty__list-item flex w-full items-center\"\n    }, React.createElement(\"a\", {\n      className: \"course-faculty__list-item-details flex flex-1 items-center justify-between border border-transparent cursor-pointer rounded-l-lg hover:bg-gray-100 hover:text-primary-500 hover:border-primary-400\",\n      onClick: function onClick(_event) {\n        _event.preventDefault();\n\n        return Curry._1(setEditorAction, function (param) {\n          return (\n            /* ShowEditor */\n            [community]\n          );\n        });\n      }\n    }, React.createElement(\"div\", {\n      className: \"flex w-full text-sm justify-between\"\n    }, React.createElement(\"span\", {\n      className: \"flex-1 font-semibold py-5 px-5\"\n    }, SchoolCommunities__Community.name(community)), React.createElement(\"span\", {\n      className: \"ml-2 py-5 px-5 font-semibold text-gray-700 hover:text-primary-500\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-edit text-normal\"\n    }), React.createElement(\"span\", {\n      className: \"ml-1\"\n    }, \"Edit\")))), React.createElement(\"a\", {\n      className: \"text-sm flex items-center border-l text-gray-700 hover:bg-gray-100 hover:text-primary-500 font-semibold px-5 py-5\",\n      href: \"/communities/\" + SchoolCommunities__Community.id(community),\n      target: \"_blank\"\n    }, React.createElement(\"i\", {\n      className: \"fas fa-external-link-alt text-normal\"\n    }), React.createElement(\"span\", {\n      className: \"ml-1\"\n    }, \"View\"))));\n  }, stateCommunities)))));\n}\n\nvar make = SchoolCommunities__Index;\nexports.str = str;\nexports.make = make;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/communities/SchoolCommunities__Index.bs.js"],"names":["List","require","$$Array","Curry","React","SchoolAdmin__EditorDrawer","SchoolCommunities__Editor","SchoolCommunities__Community","str","prim","SchoolCommunities__Index","Props","communities","courses","connections","match","useState","setEditorAction","editorAction","match$1","setStateConnections","match$2","setStateCommunities","stateCommunities","updateCommunitiesCB","community","_1","param","updateList","addCommunityCB","append","createElement","className","make","closeDrawerCB","children","onClick","undefined","of_list","map","key","id","_event","preventDefault","name","href","target","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar SchoolAdmin__EditorDrawer = require(\"../components/SchoolAdmin__EditorDrawer.bs.js\");\nvar SchoolCommunities__Editor = require(\"./components/SchoolCommunities__Editor.bs.js\");\nvar SchoolCommunities__Community = require(\"./types/index/SchoolCommunities__Community.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction SchoolCommunities__Index(Props) {\n  var communities = Props.communities;\n  var courses = Props.courses;\n  var connections = Props.connections;\n  var match = React.useState((function () {\n          return /* Hidden */0;\n        }));\n  var setEditorAction = match[1];\n  var editorAction = match[0];\n  var match$1 = React.useState((function () {\n          return connections;\n        }));\n  var setStateConnections = match$1[1];\n  var match$2 = React.useState((function () {\n          return communities;\n        }));\n  var setStateCommunities = match$2[1];\n  var stateCommunities = match$2[0];\n  var updateCommunitiesCB = function (community, connections) {\n    Curry._1(setStateCommunities, (function (param) {\n            return SchoolCommunities__Community.updateList(community, stateCommunities);\n          }));\n    Curry._1(setStateConnections, (function (param) {\n            return connections;\n          }));\n    return Curry._1(setEditorAction, (function (param) {\n                  return /* Hidden */0;\n                }));\n  };\n  var addCommunityCB = function (community, connections) {\n    Curry._1(setStateCommunities, (function (param) {\n            return List.append(/* :: */[\n                        community,\n                        /* [] */0\n                      ], communities);\n          }));\n    Curry._1(setStateConnections, (function (param) {\n            return connections;\n          }));\n    return Curry._1(setEditorAction, (function (param) {\n                  return /* Hidden */0;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"flex-1 flex flex-col overflow-y-scroll bg-gray-200\"\n            }, editorAction ? React.createElement(SchoolAdmin__EditorDrawer.make, {\n                    closeDrawerCB: (function (param) {\n                        return Curry._1(setEditorAction, (function (param) {\n                                      return /* Hidden */0;\n                                    }));\n                      }),\n                    children: React.createElement(SchoolCommunities__Editor.make, {\n                          courses: courses,\n                          community: editorAction[0],\n                          connections: match$1[0],\n                          addCommunityCB: addCommunityCB,\n                          updateCommunitiesCB: updateCommunitiesCB\n                        })\n                  }) : null, React.createElement(\"div\", {\n                  className: \"flex px-6 py-2 items-center justify-between\"\n                }, React.createElement(\"button\", {\n                      className: \"max-w-2xl w-full flex mx-auto items-center justify-center relative bg-white text-primary-500 hover:bg-gray-100 hover:text-primary-600 hover:shadow-lg focus:outline-none border-2 border-gray-400 border-dashed hover:border-primary-300 p-6 rounded-lg mt-8 cursor-pointer\",\n                      onClick: (function (param) {\n                          return Curry._1(setEditorAction, (function (param) {\n                                        return /* ShowEditor */[undefined];\n                                      }));\n                        })\n                    }, React.createElement(\"i\", {\n                          className: \"fas fa-plus-circle\"\n                        }), React.createElement(\"h5\", {\n                          className: \"font-semibold ml-2\"\n                        }, \"Add New Community\"))), React.createElement(\"div\", {\n                  className: \"px-6 pb-4 mt-5 flex flex-1\"\n                }, React.createElement(\"div\", {\n                      className: \"max-w-2xl w-full mx-auto relative\"\n                    }, $$Array.of_list(List.map((function (community) {\n                                return React.createElement(\"div\", {\n                                            key: SchoolCommunities__Community.id(community),\n                                            className: \"flex items-center shadow bg-white rounded-lg mb-4\"\n                                          }, React.createElement(\"div\", {\n                                                className: \"course-faculty__list-item flex w-full items-center\"\n                                              }, React.createElement(\"a\", {\n                                                    className: \"course-faculty__list-item-details flex flex-1 items-center justify-between border border-transparent cursor-pointer rounded-l-lg hover:bg-gray-100 hover:text-primary-500 hover:border-primary-400\",\n                                                    onClick: (function (_event) {\n                                                        _event.preventDefault();\n                                                        return Curry._1(setEditorAction, (function (param) {\n                                                                      return /* ShowEditor */[community];\n                                                                    }));\n                                                      })\n                                                  }, React.createElement(\"div\", {\n                                                        className: \"flex w-full text-sm justify-between\"\n                                                      }, React.createElement(\"span\", {\n                                                            className: \"flex-1 font-semibold py-5 px-5\"\n                                                          }, SchoolCommunities__Community.name(community)), React.createElement(\"span\", {\n                                                            className: \"ml-2 py-5 px-5 font-semibold text-gray-700 hover:text-primary-500\"\n                                                          }, React.createElement(\"i\", {\n                                                                className: \"fas fa-edit text-normal\"\n                                                              }), React.createElement(\"span\", {\n                                                                className: \"ml-1\"\n                                                              }, \"Edit\")))), React.createElement(\"a\", {\n                                                    className: \"text-sm flex items-center border-l text-gray-700 hover:bg-gray-100 hover:text-primary-500 font-semibold px-5 py-5\",\n                                                    href: \"/communities/\" + SchoolCommunities__Community.id(community),\n                                                    target: \"_blank\"\n                                                  }, React.createElement(\"i\", {\n                                                        className: \"fas fa-external-link-alt text-normal\"\n                                                      }), React.createElement(\"span\", {\n                                                        className: \"ml-1\"\n                                                      }, \"View\"))));\n                              }), stateCommunities)))));\n}\n\nvar make = SchoolCommunities__Index;\n\nexports.str = str;\nexports.make = make;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}