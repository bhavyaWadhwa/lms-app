{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar PfIcon = require(\"../../../packages/pf-icon/src/PfIcon.bs.js\");\n\nvar ListUtils = require(\"../../../shared/utils/ListUtils.bs.js\");\n\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\n\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\n\nvar CoursesCurriculum__User = require(\"../types/CoursesCurriculum__User.bs.js\");\n\nvar SubmissionChecklistShow = require(\"../../review/components/SubmissionChecklistShow.bs.js\");\n\nvar CoursesCurriculum__Coach = require(\"../types/CoursesCurriculum__Coach.bs.js\");\n\nvar CoursesCurriculum__Grade = require(\"../types/CoursesCurriculum__Grade.bs.js\");\n\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\n\nvar CoursesCurriculum__Grading = require(\"../types/CoursesCurriculum__Grading.bs.js\");\n\nvar CoursesCurriculum__Feedback = require(\"../types/CoursesCurriculum__Feedback.bs.js\");\n\nvar CoursesCurriculum__GradeBar = require(\"./CoursesCurriculum__GradeBar.bs.js\");\n\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\n\nvar CoursesCurriculum__UndoButton = require(\"./CoursesCurriculum__UndoButton.bs.js\");\n\nvar CoursesCurriculum__TargetStatus = require(\"../types/CoursesCurriculum__TargetStatus.bs.js\");\n\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\n\nvar CoursesCurriculum__SubmissionBuilder = require(\"./CoursesCurriculum__SubmissionBuilder.bs.js\");\n\nrequire(\"./CoursesCurriculum__SubmissionsAndFeedback.css\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction gradeBar(evaluationCriteria, grade) {\n  var criterion = ListUtils.findOpt(function (c) {\n    return EvaluationCriterion.id(c) === CoursesCurriculum__Grade.evaluationCriterionId(grade);\n  }, evaluationCriteria);\n\n  if (criterion !== undefined) {\n    var criterion$1 = criterion;\n    var criterionId = EvaluationCriterion.id(criterion$1);\n    var criterionName = EvaluationCriterion.name(criterion$1);\n    var gradeNumber = CoursesCurriculum__Grade.grade(grade);\n    var grading = CoursesCurriculum__Grading.make(criterionId, criterionName, gradeNumber);\n    return React.createElement(\"div\", {\n      key: String(gradeNumber),\n      className: \"mb-4\"\n    }, React.createElement(CoursesCurriculum__GradeBar.make, {\n      grading: grading,\n      criterion: criterion$1\n    }));\n  } else {\n    return null;\n  }\n}\n\nfunction statusBar(color, text) {\n  var textColor = \"text-\" + (color + \"-500 \");\n  var bgColor = \"bg-\" + (color + \"-100 \");\n  var icon = color === \"green\" ? React.createElement(\"span\", undefined, React.createElement(\"i\", {\n    className: \"fas fa-certificate fa-stack-2x\"\n  }), React.createElement(\"i\", {\n    className: \"fas fa-check fa-stack-1x fa-inverse\"\n  })) : React.createElement(\"i\", {\n    className: \"fas fa-exclamation-triangle text-3xl text-red-500 mx-1\"\n  });\n  return React.createElement(\"div\", {\n    className: \"font-semibold p-2 py-4 flex border-t w-full items-center justify-center \" + (textColor + bgColor)\n  }, React.createElement(\"span\", {\n    className: \"fa-stack text-lg mr-1 \" + textColor\n  }, icon), text);\n}\n\nfunction submissionStatusIcon(passed) {\n  var text = passed ? \"Passed\" : \"Failed\";\n  var color = passed ? \"green\" : \"red\";\n  return React.createElement(\"div\", {\n    className: \"max-w-fc\"\n  }, React.createElement(\"div\", {\n    className: \"flex border-2 rounded-lg border-\" + (color + \"-500 px-4 py-6\")\n  }, passed ? React.createElement(\"span\", {\n    className: \"fa-stack text-green-500 text-lg\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-certificate fa-stack-2x\"\n  }), React.createElement(\"i\", {\n    className: \"fas fa-check fa-stack-1x fa-inverse\"\n  })) : React.createElement(\"i\", {\n    className: \"fas fa-exclamation-triangle text-3xl text-red-500 mx-1\"\n  })), React.createElement(\"div\", {\n    className: \"text-center text-\" + (color + \"-500 font-bold mt-2\")\n  }, text));\n}\n\nfunction undoSubmissionCB(param) {\n  window.location.reload();\n  return (\n    /* () */\n    0\n  );\n}\n\nfunction gradingSection(grades, evaluationCriteria, gradeBar, passed) {\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"w-full md:hidden\"\n  }, statusBar(passed ? \"green\" : \"red\", passed ? \"Passed\" : \"Failed\")), React.createElement(\"div\", {\n    className: \"bg-white flex border-t flex-wrap items-center py-4\"\n  }, React.createElement(\"div\", {\n    className: \"w-full md:w-1/2 flex-shrink-0 justify-center hidden md:flex border-l px-6\"\n  }, submissionStatusIcon(passed)), React.createElement(\"div\", {\n    className: \"w-full md:w-1/2 flex-shrink-0 md:order-first px-4 md:px-6\"\n  }, React.createElement(\"h5\", {\n    className: \"pb-1 border-b\"\n  }, \"Grading\"), React.createElement(\"div\", {\n    className: \"mt-3\"\n  }, $$Array.of_list(List.map(Curry.__1(gradeBar), CoursesCurriculum__Grade.sort(evaluationCriteria, grades)))))));\n}\n\nfunction handleAddAnotherSubmission(setShowSubmissionForm, $$event) {\n  $$event.preventDefault();\n  return Curry._1(setShowSubmissionForm, function (showSubmissionForm) {\n    return !showSubmissionForm;\n  });\n}\n\nfunction submissions(target, targetStatus, targetDetails, evaluationCriteria, coaches, users) {\n  var curriedGradeBar = function curriedGradeBar(param) {\n    return gradeBar(evaluationCriteria, param);\n  };\n\n  return $$Array.of_list(List.map(function (submission) {\n    var grades = CoursesCurriculum__TargetDetails.grades(CoursesCurriculum__Submission.id(submission), targetDetails);\n    var match = CoursesCurriculum__Submission.status(submission);\n    var tmp;\n\n    switch (match) {\n      case\n      /* MarkedAsComplete */\n      0:\n        tmp = statusBar(\"green\", \"Marked as complete\");\n        break;\n\n      case\n      /* Pending */\n      1:\n        var match$1 = CoursesCurriculum__TargetStatus.status(targetStatus);\n        tmp = React.createElement(\"div\", {\n          className: \"bg-white p-3 md:px-6 md:py-4 flex border-t justify-between items-center w-full\"\n        }, React.createElement(\"div\", {\n          className: \"flex items-center justify-center font-semibold text-sm pl-2 pr-3 py-1 bg-orange-100 text-orange-600 rounded\"\n        }, React.createElement(\"span\", {\n          className: \"fa-stack text-orange-400 mr-2 flex-shrink-0\"\n        }, React.createElement(\"i\", {\n          className: \"fas fa-circle fa-stack-2x\"\n        }), React.createElement(\"i\", {\n          className: \"fas fa-hourglass-half fa-stack-1x fa-inverse\"\n        })), \"Review pending\"), typeof match$1 === \"number\" && match$1 === 1 ? React.createElement(CoursesCurriculum__UndoButton.make, {\n          undoSubmissionCB: undoSubmissionCB,\n          targetId: CoursesCurriculum__Target.id(target)\n        }) : null);\n        break;\n\n      case\n      /* Passed */\n      2:\n        tmp = gradingSection(grades, evaluationCriteria, curriedGradeBar, true);\n        break;\n\n      case\n      /* Failed */\n      3:\n        tmp = gradingSection(grades, evaluationCriteria, curriedGradeBar, false);\n        break;\n    }\n\n    return React.createElement(\"div\", {\n      key: CoursesCurriculum__Submission.id(submission),\n      \"aria-label\": \"Details about your submission on \" + CoursesCurriculum__Submission.createdAtPretty(submission),\n      className: \"mt-4 pb-4 relative curriculum__submission-feedback-container\"\n    }, React.createElement(\"div\", {\n      className: \"text-xs font-semibold bg-gray-100 inline-block px-3 py-1 ml-2 rounded-t-lg border-t border-r border-l text-gray-800 leading-tight\"\n    }, \"Submitted on \" + CoursesCurriculum__Submission.createdAtPretty(submission)), React.createElement(\"div\", {\n      className: \"rounded-lg bg-gray-100 border shadow-md overflow-hidden\"\n    }, React.createElement(\"div\", {\n      className: \"px-4 py-4 md:px-6 md:pt-6 md:pb-5\"\n    }, React.createElement(SubmissionChecklistShow.make, {\n      checklist: CoursesCurriculum__Submission.checklist(submission),\n      updateChecklistCB: undefined,\n      pending: CoursesCurriculum__Submission.pending(submission)\n    })), tmp, $$Array.of_list(List.map(function (feedback) {\n      var coach = ListUtils.findOpt(function (c) {\n        return CoursesCurriculum__Coach.id(c) === CoursesCurriculum__Feedback.coachId(feedback);\n      }, coaches);\n      var user;\n\n      if (coach !== undefined) {\n        var coach$1 = coach;\n        user = ListUtils.findOpt(function (up) {\n          return CoursesCurriculum__User.id(up) === CoursesCurriculum__Coach.userId(coach$1);\n        }, users);\n      } else {\n        user = undefined;\n      }\n\n      var match;\n\n      if (user !== undefined) {\n        var user$1 = user;\n        match =\n        /* tuple */\n        [CoursesCurriculum__User.name(user$1), CoursesCurriculum__User.title(user$1), CoursesCurriculum__User.avatar(user$1)];\n      } else {\n        match =\n        /* tuple */\n        [\"Unknown Coach\", undefined, React.createElement(\"div\", {\n          className: \"w-10 h-10 rounded-full bg-gray-400 inline-block flex items-center justify-center\"\n        }, React.createElement(\"i\", {\n          className: \"fas fa-user-times\"\n        }))];\n      }\n\n      var coachTitle = match[1];\n      return React.createElement(\"div\", {\n        key: CoursesCurriculum__Feedback.id(feedback),\n        className: \"bg-white border-t p-4 md:p-6\"\n      }, React.createElement(\"div\", {\n        className: \"flex items-center\"\n      }, React.createElement(\"div\", {\n        className: \"flex-shrink-0 w-12 h-12 bg-gray-300 rounded-full overflow-hidden mr-3 object-cover\"\n      }, match[2]), React.createElement(\"div\", undefined, React.createElement(\"p\", {\n        className: \"text-xs leading-tight\"\n      }, \"Feedback from:\"), React.createElement(\"div\", undefined, React.createElement(\"h4\", {\n        className: \"font-semibold text-base leading-tight block md:inline-flex self-end\"\n      }, match[0]), coachTitle !== undefined ? React.createElement(\"span\", {\n        className: \"block md:inline-flex text-xs text-gray-800 md:ml-2 leading-tight self-end\"\n      }, \"(\" + (coachTitle + \")\")) : null))), React.createElement(MarkdownBlock.make, {\n        markdown: CoursesCurriculum__Feedback.feedback(feedback),\n        className: \"md:ml-15\",\n        profile:\n        /* Permissive */\n        2\n      }));\n    }, List.filter(function (feedback) {\n      return CoursesCurriculum__Feedback.submissionId(feedback) === CoursesCurriculum__Submission.id(submission);\n    })(CoursesCurriculum__TargetDetails.feedback(targetDetails))))));\n  }, CoursesCurriculum__Submission.sort(CoursesCurriculum__TargetDetails.submissions(targetDetails))));\n}\n\nfunction addSubmission(setShowSubmissionForm, addSubmissionCB, submission) {\n  Curry._1(setShowSubmissionForm, function (param) {\n    return false;\n  });\n\n  return Curry._1(addSubmissionCB, submission);\n}\n\nfunction CoursesCurriculum__SubmissionsAndFeedback(Props) {\n  var targetDetails = Props.targetDetails;\n  var target = Props.target;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var _addSubmissionCB = Props.addSubmissionCB;\n  var targetStatus = Props.targetStatus;\n  var coaches = Props.coaches;\n  var users = Props.users;\n  var preview = Props.preview;\n  var checklist = Props.checklist;\n  var match = React.useState(function () {\n    return false;\n  });\n  var setShowSubmissionForm = match[1];\n  var showSubmissionForm = match[0];\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n    className: \"flex justify-between items-end border-b pb-2\"\n  }, React.createElement(\"h4\", {\n    className: \"text-base md:text-xl\"\n  }, \"Your Submissions\"), CoursesCurriculum__TargetStatus.canSubmit(CoursesCurriculum__Target.resubmittable(target), targetStatus) ? showSubmissionForm ? React.createElement(\"button\", {\n    className: \"btn btn-subtle\",\n    onClick: function onClick(param) {\n      return handleAddAnotherSubmission(setShowSubmissionForm, param);\n    }\n  }, React.createElement(PfIcon.make, {\n    className: \"if i-times-regular text-lg mr-2\"\n  }), React.createElement(\"span\", {\n    className: \"hidden md:inline\"\n  }, \"Cancel\"), React.createElement(\"span\", {\n    className: \"md:hidden\"\n  }, \"Cancel\")) : React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: function onClick(param) {\n      return handleAddAnotherSubmission(setShowSubmissionForm, param);\n    }\n  }, React.createElement(PfIcon.make, {\n    className: \"if i-plus-regular text-lg mr-2\"\n  }), React.createElement(\"span\", {\n    className: \"hidden md:inline\"\n  }, \"Add another submission\"), React.createElement(\"span\", {\n    className: \"md:hidden\"\n  }, \"Add another\")) : null), showSubmissionForm ? React.createElement(CoursesCurriculum__SubmissionBuilder.make, {\n    target: target,\n    addSubmissionCB: function addSubmissionCB(param) {\n      Curry._1(setShowSubmissionForm, function (param) {\n        return false;\n      });\n\n      return Curry._1(_addSubmissionCB, param);\n    },\n    preview: preview,\n    checklist: checklist\n  }) : submissions(target, targetStatus, targetDetails, evaluationCriteria, coaches, users));\n}\n\nvar make = CoursesCurriculum__SubmissionsAndFeedback;\nexports.str = str;\nexports.gradeBar = gradeBar;\nexports.statusBar = statusBar;\nexports.submissionStatusIcon = submissionStatusIcon;\nexports.undoSubmissionCB = undoSubmissionCB;\nexports.gradingSection = gradingSection;\nexports.handleAddAnotherSubmission = handleAddAnotherSubmission;\nexports.submissions = submissions;\nexports.addSubmission = addSubmission;\nexports.make = make;\n/*  Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/courses/curricula/components/CoursesCurriculum__SubmissionsAndFeedback.bs.js"],"names":["List","require","$$Array","Curry","React","PfIcon","ListUtils","MarkdownBlock","EvaluationCriterion","CoursesCurriculum__User","SubmissionChecklistShow","CoursesCurriculum__Coach","CoursesCurriculum__Grade","CoursesCurriculum__Target","CoursesCurriculum__Grading","CoursesCurriculum__Feedback","CoursesCurriculum__GradeBar","CoursesCurriculum__Submission","CoursesCurriculum__UndoButton","CoursesCurriculum__TargetStatus","CoursesCurriculum__TargetDetails","CoursesCurriculum__SubmissionBuilder","str","prim","gradeBar","evaluationCriteria","grade","criterion","findOpt","c","id","evaluationCriterionId","undefined","criterion$1","criterionId","criterionName","name","gradeNumber","grading","make","createElement","key","String","className","statusBar","color","text","textColor","bgColor","icon","submissionStatusIcon","passed","undoSubmissionCB","param","window","location","reload","gradingSection","grades","of_list","map","__1","sort","handleAddAnotherSubmission","setShowSubmissionForm","$$event","preventDefault","_1","showSubmissionForm","submissions","target","targetStatus","targetDetails","coaches","users","curriedGradeBar","submission","match","status","tmp","match$1","targetId","createdAtPretty","checklist","updateChecklistCB","pending","feedback","coach","coachId","user","coach$1","up","userId","user$1","title","avatar","coachTitle","markdown","profile","filter","submissionId","addSubmission","addSubmissionCB","CoursesCurriculum__SubmissionsAndFeedback","Props","preview","useState","canSubmit","resubmittable","onClick","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar List = require(\"bs-platform/lib/js/list.js\");\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar PfIcon = require(\"../../../packages/pf-icon/src/PfIcon.bs.js\");\nvar ListUtils = require(\"../../../shared/utils/ListUtils.bs.js\");\nvar MarkdownBlock = require(\"../../../shared/components/MarkdownBlock.bs.js\");\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\nvar CoursesCurriculum__User = require(\"../types/CoursesCurriculum__User.bs.js\");\nvar SubmissionChecklistShow = require(\"../../review/components/SubmissionChecklistShow.bs.js\");\nvar CoursesCurriculum__Coach = require(\"../types/CoursesCurriculum__Coach.bs.js\");\nvar CoursesCurriculum__Grade = require(\"../types/CoursesCurriculum__Grade.bs.js\");\nvar CoursesCurriculum__Target = require(\"../types/CoursesCurriculum__Target.bs.js\");\nvar CoursesCurriculum__Grading = require(\"../types/CoursesCurriculum__Grading.bs.js\");\nvar CoursesCurriculum__Feedback = require(\"../types/CoursesCurriculum__Feedback.bs.js\");\nvar CoursesCurriculum__GradeBar = require(\"./CoursesCurriculum__GradeBar.bs.js\");\nvar CoursesCurriculum__Submission = require(\"../types/CoursesCurriculum__Submission.bs.js\");\nvar CoursesCurriculum__UndoButton = require(\"./CoursesCurriculum__UndoButton.bs.js\");\nvar CoursesCurriculum__TargetStatus = require(\"../types/CoursesCurriculum__TargetStatus.bs.js\");\nvar CoursesCurriculum__TargetDetails = require(\"../types/CoursesCurriculum__TargetDetails.bs.js\");\nvar CoursesCurriculum__SubmissionBuilder = require(\"./CoursesCurriculum__SubmissionBuilder.bs.js\");\n\n((require(\"./CoursesCurriculum__SubmissionsAndFeedback.css\")));\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction gradeBar(evaluationCriteria, grade) {\n  var criterion = ListUtils.findOpt((function (c) {\n          return EvaluationCriterion.id(c) === CoursesCurriculum__Grade.evaluationCriterionId(grade);\n        }), evaluationCriteria);\n  if (criterion !== undefined) {\n    var criterion$1 = criterion;\n    var criterionId = EvaluationCriterion.id(criterion$1);\n    var criterionName = EvaluationCriterion.name(criterion$1);\n    var gradeNumber = CoursesCurriculum__Grade.grade(grade);\n    var grading = CoursesCurriculum__Grading.make(criterionId, criterionName, gradeNumber);\n    return React.createElement(\"div\", {\n                key: String(gradeNumber),\n                className: \"mb-4\"\n              }, React.createElement(CoursesCurriculum__GradeBar.make, {\n                    grading: grading,\n                    criterion: criterion$1\n                  }));\n  } else {\n    return null;\n  }\n}\n\nfunction statusBar(color, text) {\n  var textColor = \"text-\" + (color + \"-500 \");\n  var bgColor = \"bg-\" + (color + \"-100 \");\n  var icon = color === \"green\" ? React.createElement(\"span\", undefined, React.createElement(\"i\", {\n              className: \"fas fa-certificate fa-stack-2x\"\n            }), React.createElement(\"i\", {\n              className: \"fas fa-check fa-stack-1x fa-inverse\"\n            })) : React.createElement(\"i\", {\n          className: \"fas fa-exclamation-triangle text-3xl text-red-500 mx-1\"\n        });\n  return React.createElement(\"div\", {\n              className: \"font-semibold p-2 py-4 flex border-t w-full items-center justify-center \" + (textColor + bgColor)\n            }, React.createElement(\"span\", {\n                  className: \"fa-stack text-lg mr-1 \" + textColor\n                }, icon), text);\n}\n\nfunction submissionStatusIcon(passed) {\n  var text = passed ? \"Passed\" : \"Failed\";\n  var color = passed ? \"green\" : \"red\";\n  return React.createElement(\"div\", {\n              className: \"max-w-fc\"\n            }, React.createElement(\"div\", {\n                  className: \"flex border-2 rounded-lg border-\" + (color + \"-500 px-4 py-6\")\n                }, passed ? React.createElement(\"span\", {\n                        className: \"fa-stack text-green-500 text-lg\"\n                      }, React.createElement(\"i\", {\n                            className: \"fas fa-certificate fa-stack-2x\"\n                          }), React.createElement(\"i\", {\n                            className: \"fas fa-check fa-stack-1x fa-inverse\"\n                          })) : React.createElement(\"i\", {\n                        className: \"fas fa-exclamation-triangle text-3xl text-red-500 mx-1\"\n                      })), React.createElement(\"div\", {\n                  className: \"text-center text-\" + (color + \"-500 font-bold mt-2\")\n                }, text));\n}\n\nfunction undoSubmissionCB(param) {\n  window.location.reload();\n  return /* () */0;\n}\n\nfunction gradingSection(grades, evaluationCriteria, gradeBar, passed) {\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"w-full md:hidden\"\n                }, statusBar(passed ? \"green\" : \"red\", passed ? \"Passed\" : \"Failed\")), React.createElement(\"div\", {\n                  className: \"bg-white flex border-t flex-wrap items-center py-4\"\n                }, React.createElement(\"div\", {\n                      className: \"w-full md:w-1/2 flex-shrink-0 justify-center hidden md:flex border-l px-6\"\n                    }, submissionStatusIcon(passed)), React.createElement(\"div\", {\n                      className: \"w-full md:w-1/2 flex-shrink-0 md:order-first px-4 md:px-6\"\n                    }, React.createElement(\"h5\", {\n                          className: \"pb-1 border-b\"\n                        }, \"Grading\"), React.createElement(\"div\", {\n                          className: \"mt-3\"\n                        }, $$Array.of_list(List.map(Curry.__1(gradeBar), CoursesCurriculum__Grade.sort(evaluationCriteria, grades)))))));\n}\n\nfunction handleAddAnotherSubmission(setShowSubmissionForm, $$event) {\n  $$event.preventDefault();\n  return Curry._1(setShowSubmissionForm, (function (showSubmissionForm) {\n                return !showSubmissionForm;\n              }));\n}\n\nfunction submissions(target, targetStatus, targetDetails, evaluationCriteria, coaches, users) {\n  var curriedGradeBar = function (param) {\n    return gradeBar(evaluationCriteria, param);\n  };\n  return $$Array.of_list(List.map((function (submission) {\n                    var grades = CoursesCurriculum__TargetDetails.grades(CoursesCurriculum__Submission.id(submission), targetDetails);\n                    var match = CoursesCurriculum__Submission.status(submission);\n                    var tmp;\n                    switch (match) {\n                      case /* MarkedAsComplete */0 :\n                          tmp = statusBar(\"green\", \"Marked as complete\");\n                          break;\n                      case /* Pending */1 :\n                          var match$1 = CoursesCurriculum__TargetStatus.status(targetStatus);\n                          tmp = React.createElement(\"div\", {\n                                className: \"bg-white p-3 md:px-6 md:py-4 flex border-t justify-between items-center w-full\"\n                              }, React.createElement(\"div\", {\n                                    className: \"flex items-center justify-center font-semibold text-sm pl-2 pr-3 py-1 bg-orange-100 text-orange-600 rounded\"\n                                  }, React.createElement(\"span\", {\n                                        className: \"fa-stack text-orange-400 mr-2 flex-shrink-0\"\n                                      }, React.createElement(\"i\", {\n                                            className: \"fas fa-circle fa-stack-2x\"\n                                          }), React.createElement(\"i\", {\n                                            className: \"fas fa-hourglass-half fa-stack-1x fa-inverse\"\n                                          })), \"Review pending\"), typeof match$1 === \"number\" && match$1 === 1 ? React.createElement(CoursesCurriculum__UndoButton.make, {\n                                      undoSubmissionCB: undoSubmissionCB,\n                                      targetId: CoursesCurriculum__Target.id(target)\n                                    }) : null);\n                          break;\n                      case /* Passed */2 :\n                          tmp = gradingSection(grades, evaluationCriteria, curriedGradeBar, true);\n                          break;\n                      case /* Failed */3 :\n                          tmp = gradingSection(grades, evaluationCriteria, curriedGradeBar, false);\n                          break;\n                      \n                    }\n                    return React.createElement(\"div\", {\n                                key: CoursesCurriculum__Submission.id(submission),\n                                \"aria-label\": \"Details about your submission on \" + CoursesCurriculum__Submission.createdAtPretty(submission),\n                                className: \"mt-4 pb-4 relative curriculum__submission-feedback-container\"\n                              }, React.createElement(\"div\", {\n                                    className: \"text-xs font-semibold bg-gray-100 inline-block px-3 py-1 ml-2 rounded-t-lg border-t border-r border-l text-gray-800 leading-tight\"\n                                  }, \"Submitted on \" + CoursesCurriculum__Submission.createdAtPretty(submission)), React.createElement(\"div\", {\n                                    className: \"rounded-lg bg-gray-100 border shadow-md overflow-hidden\"\n                                  }, React.createElement(\"div\", {\n                                        className: \"px-4 py-4 md:px-6 md:pt-6 md:pb-5\"\n                                      }, React.createElement(SubmissionChecklistShow.make, {\n                                            checklist: CoursesCurriculum__Submission.checklist(submission),\n                                            updateChecklistCB: undefined,\n                                            pending: CoursesCurriculum__Submission.pending(submission)\n                                          })), tmp, $$Array.of_list(List.map((function (feedback) {\n                                              var coach = ListUtils.findOpt((function (c) {\n                                                      return CoursesCurriculum__Coach.id(c) === CoursesCurriculum__Feedback.coachId(feedback);\n                                                    }), coaches);\n                                              var user;\n                                              if (coach !== undefined) {\n                                                var coach$1 = coach;\n                                                user = ListUtils.findOpt((function (up) {\n                                                        return CoursesCurriculum__User.id(up) === CoursesCurriculum__Coach.userId(coach$1);\n                                                      }), users);\n                                              } else {\n                                                user = undefined;\n                                              }\n                                              var match;\n                                              if (user !== undefined) {\n                                                var user$1 = user;\n                                                match = /* tuple */[\n                                                  CoursesCurriculum__User.name(user$1),\n                                                  CoursesCurriculum__User.title(user$1),\n                                                  CoursesCurriculum__User.avatar(user$1)\n                                                ];\n                                              } else {\n                                                match = /* tuple */[\n                                                  \"Unknown Coach\",\n                                                  undefined,\n                                                  React.createElement(\"div\", {\n                                                        className: \"w-10 h-10 rounded-full bg-gray-400 inline-block flex items-center justify-center\"\n                                                      }, React.createElement(\"i\", {\n                                                            className: \"fas fa-user-times\"\n                                                          }))\n                                                ];\n                                              }\n                                              var coachTitle = match[1];\n                                              return React.createElement(\"div\", {\n                                                          key: CoursesCurriculum__Feedback.id(feedback),\n                                                          className: \"bg-white border-t p-4 md:p-6\"\n                                                        }, React.createElement(\"div\", {\n                                                              className: \"flex items-center\"\n                                                            }, React.createElement(\"div\", {\n                                                                  className: \"flex-shrink-0 w-12 h-12 bg-gray-300 rounded-full overflow-hidden mr-3 object-cover\"\n                                                                }, match[2]), React.createElement(\"div\", undefined, React.createElement(\"p\", {\n                                                                      className: \"text-xs leading-tight\"\n                                                                    }, \"Feedback from:\"), React.createElement(\"div\", undefined, React.createElement(\"h4\", {\n                                                                          className: \"font-semibold text-base leading-tight block md:inline-flex self-end\"\n                                                                        }, match[0]), coachTitle !== undefined ? React.createElement(\"span\", {\n                                                                            className: \"block md:inline-flex text-xs text-gray-800 md:ml-2 leading-tight self-end\"\n                                                                          }, \"(\" + (coachTitle + \")\")) : null))), React.createElement(MarkdownBlock.make, {\n                                                              markdown: CoursesCurriculum__Feedback.feedback(feedback),\n                                                              className: \"md:ml-15\",\n                                                              profile: /* Permissive */2\n                                                            }));\n                                            }), List.filter((function (feedback) {\n                                                    return CoursesCurriculum__Feedback.submissionId(feedback) === CoursesCurriculum__Submission.id(submission);\n                                                  }))(CoursesCurriculum__TargetDetails.feedback(targetDetails))))));\n                  }), CoursesCurriculum__Submission.sort(CoursesCurriculum__TargetDetails.submissions(targetDetails))));\n}\n\nfunction addSubmission(setShowSubmissionForm, addSubmissionCB, submission) {\n  Curry._1(setShowSubmissionForm, (function (param) {\n          return false;\n        }));\n  return Curry._1(addSubmissionCB, submission);\n}\n\nfunction CoursesCurriculum__SubmissionsAndFeedback(Props) {\n  var targetDetails = Props.targetDetails;\n  var target = Props.target;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var addSubmissionCB = Props.addSubmissionCB;\n  var targetStatus = Props.targetStatus;\n  var coaches = Props.coaches;\n  var users = Props.users;\n  var preview = Props.preview;\n  var checklist = Props.checklist;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setShowSubmissionForm = match[1];\n  var showSubmissionForm = match[0];\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"flex justify-between items-end border-b pb-2\"\n                }, React.createElement(\"h4\", {\n                      className: \"text-base md:text-xl\"\n                    }, \"Your Submissions\"), CoursesCurriculum__TargetStatus.canSubmit(CoursesCurriculum__Target.resubmittable(target), targetStatus) ? (\n                    showSubmissionForm ? React.createElement(\"button\", {\n                            className: \"btn btn-subtle\",\n                            onClick: (function (param) {\n                                return handleAddAnotherSubmission(setShowSubmissionForm, param);\n                              })\n                          }, React.createElement(PfIcon.make, {\n                                className: \"if i-times-regular text-lg mr-2\"\n                              }), React.createElement(\"span\", {\n                                className: \"hidden md:inline\"\n                              }, \"Cancel\"), React.createElement(\"span\", {\n                                className: \"md:hidden\"\n                              }, \"Cancel\")) : React.createElement(\"button\", {\n                            className: \"btn btn-primary\",\n                            onClick: (function (param) {\n                                return handleAddAnotherSubmission(setShowSubmissionForm, param);\n                              })\n                          }, React.createElement(PfIcon.make, {\n                                className: \"if i-plus-regular text-lg mr-2\"\n                              }), React.createElement(\"span\", {\n                                className: \"hidden md:inline\"\n                              }, \"Add another submission\"), React.createElement(\"span\", {\n                                className: \"md:hidden\"\n                              }, \"Add another\"))\n                  ) : null), showSubmissionForm ? React.createElement(CoursesCurriculum__SubmissionBuilder.make, {\n                    target: target,\n                    addSubmissionCB: (function (param) {\n                        Curry._1(setShowSubmissionForm, (function (param) {\n                                return false;\n                              }));\n                        return Curry._1(addSubmissionCB, param);\n                      }),\n                    preview: preview,\n                    checklist: checklist\n                  }) : submissions(target, targetStatus, targetDetails, evaluationCriteria, coaches, users));\n}\n\nvar make = CoursesCurriculum__SubmissionsAndFeedback;\n\nexports.str = str;\nexports.gradeBar = gradeBar;\nexports.statusBar = statusBar;\nexports.submissionStatusIcon = submissionStatusIcon;\nexports.undoSubmissionCB = undoSubmissionCB;\nexports.gradingSection = gradingSection;\nexports.handleAddAnotherSubmission = handleAddAnotherSubmission;\nexports.submissions = submissions;\nexports.addSubmission = addSubmission;\nexports.make = make;\n/*  Not a pure module */\n"]},"metadata":{},"sourceType":"module"}