{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar $$String = require(\"bs-platform/lib/js/string.js\");\n\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\n\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\n\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\n\nfunction title(t) {\n  return t.title;\n}\n\nfunction kind(t) {\n  return t.kind;\n}\n\nfunction optional(t) {\n  return t.optional;\n}\n\nfunction actionStringForKind(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case\n      /* Files */\n      0:\n        return \"Upload Files\";\n\n      case\n      /* Link */\n      1:\n        return \"Attach a Link\";\n\n      case\n      /* ShortText */\n      2:\n        return \"Write Short Text\";\n\n      case\n      /* LongText */\n      3:\n        return \"Write Long Text\";\n    }\n  } else {\n    return \"Choose from a list\";\n  }\n}\n\nfunction kindAsString(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case\n      /* Files */\n      0:\n        return \"files\";\n\n      case\n      /* Link */\n      1:\n        return \"link\";\n\n      case\n      /* ShortText */\n      2:\n        return \"shortText\";\n\n      case\n      /* LongText */\n      3:\n        return \"longText\";\n    }\n  } else {\n    return \"multiChoice\";\n  }\n}\n\nfunction make(title, kind, optional) {\n  return {\n    title: title,\n    kind: kind,\n    optional: optional\n  };\n}\n\nfunction updateTitle(title, t) {\n  return {\n    title: title,\n    kind: t.kind,\n    optional: t.optional\n  };\n}\n\nfunction updateKind(kind, t) {\n  return {\n    title: t.title,\n    kind: kind,\n    optional: t.optional\n  };\n}\n\nfunction updateOptional(optional, t) {\n  return {\n    title: t.title,\n    kind: t.kind,\n    optional: optional\n  };\n}\n\nfunction removeItem(index, list) {\n  return list.filter(function (_item, i) {\n    return i !== index;\n  });\n}\n\nvar moveUp = ArrayUtils.swapUp;\nvar moveDown = ArrayUtils.swapDown;\n\nfunction copy(i, list) {\n  return ArrayUtils.flatten($$Array.mapi(function (index, item) {\n    if (i === index) {\n      return (\n        /* :: */\n        [item,\n        /* :: */\n        [item,\n        /* [] */\n        0]]\n      );\n    } else {\n      return (\n        /* :: */\n        [item,\n        /* [] */\n        0]\n      );\n    }\n  }, list));\n}\n\nfunction removeMultichoiceOption(choiceIndex, t) {\n  var match = t.kind;\n\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = ArrayUtils.flatten($$Array.mapi(function (i, choice) {\n      if (i === choiceIndex) {\n        return (\n          /* [] */\n          0\n        );\n      } else {\n        return (\n          /* :: */\n          [choice,\n          /* [] */\n          0]\n        );\n      }\n    }, match[0]));\n    return updateKind(\n    /* MultiChoice */\n    [updatedChoices], t);\n  }\n}\n\nfunction addMultichoiceOption(t) {\n  var match = t.kind;\n\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = $$Array.append(match[0], [\"\"]);\n    return updateKind(\n    /* MultiChoice */\n    [updatedChoices], t);\n  }\n}\n\nfunction updateMultichoiceOption(choiceIndex, newOption, t) {\n  var match = t.kind;\n\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = $$Array.mapi(function (i, choice) {\n      if (i === choiceIndex) {\n        return newOption;\n      } else {\n        return choice;\n      }\n    }, match[0]);\n    return updateKind(\n    /* MultiChoice */\n    [updatedChoices], t);\n  }\n}\n\nfunction isFilesKind(t) {\n  var match = t.kind;\n\n  if (typeof match === \"number\") {\n    return match === 0;\n  } else {\n    return false;\n  }\n}\n\nfunction isValidChecklistItem(t) {\n  var match = t.kind;\n\n  if (typeof match === \"number\") {\n    return $$String.trim(t.title).length >= 1;\n  } else if (ArrayUtils.isEmpty(match[0].filter(function (choice) {\n    return $$String.trim(choice) === \"\";\n  }))) {\n    return $$String.trim(t.title).length >= 1;\n  } else {\n    return false;\n  }\n}\n\nfunction decodeMetadata(kind, json) {\n  return Json_decode.field(\"choices\", function (param) {\n    return Json_decode.array(Json_decode.string, param);\n  }, json);\n}\n\nfunction decode(json) {\n  var otherKind = Json_decode.field(\"kind\", Json_decode.string, json);\n  var tmp;\n\n  switch (otherKind) {\n    case \"files\":\n      tmp =\n      /* Files */\n      0;\n      break;\n\n    case \"link\":\n      tmp =\n      /* Link */\n      1;\n      break;\n\n    case \"longText\":\n      tmp =\n      /* LongText */\n      3;\n      break;\n\n    case \"multiChoice\":\n      tmp =\n      /* MultiChoice */\n      [Json_decode.field(\"metadata\", function (param) {\n        return decodeMetadata(\n        /* MultiChoice */\n        288683674, param);\n      }, json)];\n      break;\n\n    case \"shortText\":\n      tmp =\n      /* ShortText */\n      2;\n      break;\n\n    default:\n      Rollbar.error(\"Unkown kind: \" + (otherKind + \"received in CurriculumEditor__TargetChecklistItem\"));\n      tmp =\n      /* LongText */\n      3;\n  }\n\n  return {\n    title: Json_decode.field(\"title\", Json_decode.string, json),\n    kind: tmp,\n    optional: Json_decode.field(\"optional\", Json_decode.bool, json)\n  };\n}\n\nfunction encodeMetadata(kind) {\n  if (typeof kind === \"number\") {\n    return Json_encode.object_(\n    /* [] */\n    0);\n  } else {\n    return Json_encode.object_(\n    /* :: */\n    [\n    /* tuple */\n    [\"choices\", kind[0]],\n    /* [] */\n    0]);\n  }\n}\n\nfunction encode(t) {\n  return Json_encode.object_(\n  /* :: */\n  [\n  /* tuple */\n  [\"kind\", kindAsString(t.kind)],\n  /* :: */\n  [\n  /* tuple */\n  [\"title\", t.title],\n  /* :: */\n  [\n  /* tuple */\n  [\"optional\", t.optional],\n  /* :: */\n  [\n  /* tuple */\n  [\"metadata\", encodeMetadata(t.kind)],\n  /* [] */\n  0]]]]);\n}\n\nfunction encodeChecklist(checklist) {\n  return Json_encode.array(encode, checklist);\n}\n\nvar longText = {\n  title: \"\",\n  kind:\n  /* LongText */\n  3,\n  optional: false\n};\nexports.title = title;\nexports.kind = kind;\nexports.optional = optional;\nexports.actionStringForKind = actionStringForKind;\nexports.kindAsString = kindAsString;\nexports.make = make;\nexports.updateTitle = updateTitle;\nexports.updateKind = updateKind;\nexports.updateOptional = updateOptional;\nexports.removeItem = removeItem;\nexports.moveUp = moveUp;\nexports.moveDown = moveDown;\nexports.copy = copy;\nexports.removeMultichoiceOption = removeMultichoiceOption;\nexports.addMultichoiceOption = addMultichoiceOption;\nexports.updateMultichoiceOption = updateMultichoiceOption;\nexports.longText = longText;\nexports.isFilesKind = isFilesKind;\nexports.isValidChecklistItem = isValidChecklistItem;\nexports.decodeMetadata = decodeMetadata;\nexports.decode = decode;\nexports.encodeMetadata = encodeMetadata;\nexports.encode = encode;\nexports.encodeChecklist = encodeChecklist;\n/* ArrayUtils Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/types/curriculum_editor/TargetChecklistItem.bs.js"],"names":["$$Array","require","$$String","ArrayUtils","Json_decode","Json_encode","title","t","kind","optional","actionStringForKind","kindAsString","make","updateTitle","updateKind","updateOptional","removeItem","index","list","filter","_item","i","moveUp","swapUp","moveDown","swapDown","copy","flatten","mapi","item","removeMultichoiceOption","choiceIndex","match","updatedChoices","choice","addMultichoiceOption","append","updateMultichoiceOption","newOption","isFilesKind","isValidChecklistItem","trim","length","isEmpty","decodeMetadata","json","field","param","array","string","decode","otherKind","tmp","Rollbar","error","bool","encodeMetadata","object_","encode","encodeChecklist","checklist","longText","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar $$String = require(\"bs-platform/lib/js/string.js\");\nvar ArrayUtils = require(\"../../../../shared/utils/ArrayUtils.bs.js\");\nvar Json_decode = require(\"@glennsl/bs-json/src/Json_decode.bs.js\");\nvar Json_encode = require(\"@glennsl/bs-json/src/Json_encode.bs.js\");\n\nfunction title(t) {\n  return t.title;\n}\n\nfunction kind(t) {\n  return t.kind;\n}\n\nfunction optional(t) {\n  return t.optional;\n}\n\nfunction actionStringForKind(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case /* Files */0 :\n          return \"Upload Files\";\n      case /* Link */1 :\n          return \"Attach a Link\";\n      case /* ShortText */2 :\n          return \"Write Short Text\";\n      case /* LongText */3 :\n          return \"Write Long Text\";\n      \n    }\n  } else {\n    return \"Choose from a list\";\n  }\n}\n\nfunction kindAsString(kind) {\n  if (typeof kind === \"number\") {\n    switch (kind) {\n      case /* Files */0 :\n          return \"files\";\n      case /* Link */1 :\n          return \"link\";\n      case /* ShortText */2 :\n          return \"shortText\";\n      case /* LongText */3 :\n          return \"longText\";\n      \n    }\n  } else {\n    return \"multiChoice\";\n  }\n}\n\nfunction make(title, kind, optional) {\n  return {\n          title: title,\n          kind: kind,\n          optional: optional\n        };\n}\n\nfunction updateTitle(title, t) {\n  return {\n          title: title,\n          kind: t.kind,\n          optional: t.optional\n        };\n}\n\nfunction updateKind(kind, t) {\n  return {\n          title: t.title,\n          kind: kind,\n          optional: t.optional\n        };\n}\n\nfunction updateOptional(optional, t) {\n  return {\n          title: t.title,\n          kind: t.kind,\n          optional: optional\n        };\n}\n\nfunction removeItem(index, list) {\n  return list.filter((function (_item, i) {\n                return i !== index;\n              }));\n}\n\nvar moveUp = ArrayUtils.swapUp;\n\nvar moveDown = ArrayUtils.swapDown;\n\nfunction copy(i, list) {\n  return ArrayUtils.flatten($$Array.mapi((function (index, item) {\n                    if (i === index) {\n                      return /* :: */[\n                              item,\n                              /* :: */[\n                                item,\n                                /* [] */0\n                              ]\n                            ];\n                    } else {\n                      return /* :: */[\n                              item,\n                              /* [] */0\n                            ];\n                    }\n                  }), list));\n}\n\nfunction removeMultichoiceOption(choiceIndex, t) {\n  var match = t.kind;\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = ArrayUtils.flatten($$Array.mapi((function (i, choice) {\n                if (i === choiceIndex) {\n                  return /* [] */0;\n                } else {\n                  return /* :: */[\n                          choice,\n                          /* [] */0\n                        ];\n                }\n              }), match[0]));\n    return updateKind(/* MultiChoice */[updatedChoices], t);\n  }\n}\n\nfunction addMultichoiceOption(t) {\n  var match = t.kind;\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = $$Array.append(match[0], [\"\"]);\n    return updateKind(/* MultiChoice */[updatedChoices], t);\n  }\n}\n\nfunction updateMultichoiceOption(choiceIndex, newOption, t) {\n  var match = t.kind;\n  if (typeof match === \"number\") {\n    return t;\n  } else {\n    var updatedChoices = $$Array.mapi((function (i, choice) {\n            if (i === choiceIndex) {\n              return newOption;\n            } else {\n              return choice;\n            }\n          }), match[0]);\n    return updateKind(/* MultiChoice */[updatedChoices], t);\n  }\n}\n\nfunction isFilesKind(t) {\n  var match = t.kind;\n  if (typeof match === \"number\") {\n    return match === 0;\n  } else {\n    return false;\n  }\n}\n\nfunction isValidChecklistItem(t) {\n  var match = t.kind;\n  if (typeof match === \"number\") {\n    return $$String.trim(t.title).length >= 1;\n  } else if (ArrayUtils.isEmpty(match[0].filter((function (choice) {\n                return $$String.trim(choice) === \"\";\n              })))) {\n    return $$String.trim(t.title).length >= 1;\n  } else {\n    return false;\n  }\n}\n\nfunction decodeMetadata(kind, json) {\n  return Json_decode.field(\"choices\", (function (param) {\n                return Json_decode.array(Json_decode.string, param);\n              }), json);\n}\n\nfunction decode(json) {\n  var otherKind = Json_decode.field(\"kind\", Json_decode.string, json);\n  var tmp;\n  switch (otherKind) {\n    case \"files\" :\n        tmp = /* Files */0;\n        break;\n    case \"link\" :\n        tmp = /* Link */1;\n        break;\n    case \"longText\" :\n        tmp = /* LongText */3;\n        break;\n    case \"multiChoice\" :\n        tmp = /* MultiChoice */[Json_decode.field(\"metadata\", (function (param) {\n                  return decodeMetadata(/* MultiChoice */288683674, param);\n                }), json)];\n        break;\n    case \"shortText\" :\n        tmp = /* ShortText */2;\n        break;\n    default:\n      Rollbar.error(\"Unkown kind: \" + (otherKind + \"received in CurriculumEditor__TargetChecklistItem\"));\n      tmp = /* LongText */3;\n  }\n  return {\n          title: Json_decode.field(\"title\", Json_decode.string, json),\n          kind: tmp,\n          optional: Json_decode.field(\"optional\", Json_decode.bool, json)\n        };\n}\n\nfunction encodeMetadata(kind) {\n  if (typeof kind === \"number\") {\n    return Json_encode.object_(/* [] */0);\n  } else {\n    return Json_encode.object_(/* :: */[\n                /* tuple */[\n                  \"choices\",\n                  kind[0]\n                ],\n                /* [] */0\n              ]);\n  }\n}\n\nfunction encode(t) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"kind\",\n                kindAsString(t.kind)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"title\",\n                  t.title\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"optional\",\n                    t.optional\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"metadata\",\n                      encodeMetadata(t.kind)\n                    ],\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction encodeChecklist(checklist) {\n  return Json_encode.array(encode, checklist);\n}\n\nvar longText = {\n  title: \"\",\n  kind: /* LongText */3,\n  optional: false\n};\n\nexports.title = title;\nexports.kind = kind;\nexports.optional = optional;\nexports.actionStringForKind = actionStringForKind;\nexports.kindAsString = kindAsString;\nexports.make = make;\nexports.updateTitle = updateTitle;\nexports.updateKind = updateKind;\nexports.updateOptional = updateOptional;\nexports.removeItem = removeItem;\nexports.moveUp = moveUp;\nexports.moveDown = moveDown;\nexports.copy = copy;\nexports.removeMultichoiceOption = removeMultichoiceOption;\nexports.addMultichoiceOption = addMultichoiceOption;\nexports.updateMultichoiceOption = updateMultichoiceOption;\nexports.longText = longText;\nexports.isFilesKind = isFilesKind;\nexports.isValidChecklistItem = isValidChecklistItem;\nexports.decodeMetadata = decodeMetadata;\nexports.decode = decode;\nexports.encodeMetadata = encodeMetadata;\nexports.encode = encode;\nexports.encodeChecklist = encodeChecklist;\n/* ArrayUtils Not a pure module */\n"]},"metadata":{},"sourceType":"module"}