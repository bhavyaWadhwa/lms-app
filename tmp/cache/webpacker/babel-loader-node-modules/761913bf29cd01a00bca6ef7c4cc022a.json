{"ast":null,"code":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\n\nvar React = require(\"react\");\n\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\n\nvar SchoolAdmin__EditorDrawer = require(\"../../components/SchoolAdmin__EditorDrawer.bs.js\");\n\nvar EvaluationCriterionEditor__Form = require(\"./evaluation_criteria_editor/EvaluationCriterionEditor__Form.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction openEditor($$event, evaluationCriterion, setState) {\n  $$event.preventDefault();\n  return Curry._1(setState, function (state) {\n    return {\n      editorAction:\n      /* ShowEditor */\n      [evaluationCriterion],\n      evaluationCriteria: state.evaluationCriteria\n    };\n  });\n}\n\nfunction showEvaluationCriterion(evaluationCriterion, setState) {\n  return React.createElement(\"div\", {\n    key: EvaluationCriterion.id(evaluationCriterion),\n    className: \"flex items-center shadow bg-white rounded-lg mb-4\"\n  }, React.createElement(\"div\", {\n    className: \"course-faculty__list-item flex w-full items-center\"\n  }, React.createElement(\"a\", {\n    className: \"course-faculty__list-item-details flex flex-1 items-center justify-between border border-transparent cursor-pointer rounded-l-lg hover:bg-gray-100 hover:text-primary-500 hover:border-primary-400\",\n    title: \"Edit \" + EvaluationCriterion.name(evaluationCriterion),\n    onClick: function onClick($$event) {\n      return openEditor($$event, evaluationCriterion, setState);\n    }\n  }, React.createElement(\"div\", {\n    className: \"flex w-full text-sm justify-between\"\n  }, React.createElement(\"span\", {\n    className: \"flex-1 font-semibold py-5 px-5\"\n  }, EvaluationCriterion.name(evaluationCriterion)), React.createElement(\"span\", {\n    className: \"ml-2 py-5 px-5 font-semibold text-gray-700 hover:text-primary-500\"\n  }, React.createElement(\"i\", {\n    className: \"fas fa-edit text-normal\"\n  }), React.createElement(\"span\", {\n    className: \"ml-1\"\n  }, \"Edit\"))))));\n}\n\nfunction _addOrUpdateCriterionCB(state, setState, criterion) {\n  var updatedCriteria = $$Array.append([criterion], state.evaluationCriteria.filter(function (ec) {\n    return EvaluationCriterion.id(ec) !== EvaluationCriterion.id(criterion);\n  }));\n  return Curry._1(setState, function (param) {\n    return {\n      editorAction:\n      /* Hidden */\n      0,\n      evaluationCriteria: updatedCriteria\n    };\n  });\n}\n\nfunction EvaluationCriteria__Index(Props) {\n  var courseId = Props.courseId;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var match = React.useState(function () {\n    return {\n      editorAction:\n      /* Hidden */\n      0,\n      evaluationCriteria: evaluationCriteria\n    };\n  });\n  var setState = match[1];\n  var state = match[0];\n  var match$1 = state.editorAction;\n  return React.createElement(\"div\", {\n    className: \"flex-1 flex flex-col overflow-y-scroll bg-gray-200\"\n  }, match$1 ? React.createElement(SchoolAdmin__EditorDrawer.make, {\n    closeDrawerCB: function closeDrawerCB(param) {\n      return Curry._1(setState, function (state) {\n        return {\n          editorAction:\n          /* Hidden */\n          0,\n          evaluationCriteria: state.evaluationCriteria\n        };\n      });\n    },\n    children: React.createElement(EvaluationCriterionEditor__Form.make, {\n      evaluationCriterion: match$1[0],\n      courseId: courseId,\n      addOrUpdateCriterionCB: function addOrUpdateCriterionCB(param) {\n        return _addOrUpdateCriterionCB(state, setState, param);\n      }\n    })\n  }) : null, React.createElement(\"div\", {\n    className: \"flex px-6 py-2 items-center justify-between\"\n  }, React.createElement(\"button\", {\n    className: \"max-w-2xl w-full flex mx-auto items-center justify-center relative bg-white text-primary-500 hover:bg-gray-100 hover:text-primary-600 hover:shadow-lg focus:outline-none border-2 border-gray-400 border-dashed hover:border-primary-300 p-6 rounded-lg mt-8 cursor-pointer\",\n    onClick: function onClick(param) {\n      return Curry._1(setState, function (state) {\n        return {\n          editorAction:\n          /* ShowEditor */\n          [undefined],\n          evaluationCriteria: state.evaluationCriteria\n        };\n      });\n    }\n  }, React.createElement(\"i\", {\n    className: \"fas fa-plus-circle\"\n  }), React.createElement(\"h5\", {\n    className: \"font-semibold ml-2\"\n  }, \"Add New Evaluation Criterion\"))), React.createElement(\"div\", {\n    className: \"px-6 pb-4 mt-5 flex flex-1\"\n  }, React.createElement(\"div\", {\n    className: \"max-w-2xl w-full mx-auto relative\"\n  }, $$Array.map(function (ec) {\n    return showEvaluationCriterion(ec, setState);\n  }, EvaluationCriterion.sort(state.evaluationCriteria)))));\n}\n\nvar make = EvaluationCriteria__Index;\nexports.str = str;\nexports.openEditor = openEditor;\nexports.showEvaluationCriterion = showEvaluationCriterion;\nexports.addOrUpdateCriterionCB = _addOrUpdateCriterionCB;\nexports.make = make;\n/* react Not a pure module */","map":{"version":3,"sources":["/home/kochar/Documents/pupilfirst-master/app/javascript/schools/courses/components/EvaluationCriteria__Index.bs.js"],"names":["$$Array","require","Curry","React","EvaluationCriterion","SchoolAdmin__EditorDrawer","EvaluationCriterionEditor__Form","str","prim","openEditor","$$event","evaluationCriterion","setState","preventDefault","_1","state","editorAction","evaluationCriteria","showEvaluationCriterion","createElement","key","id","className","title","name","onClick","addOrUpdateCriterionCB","criterion","updatedCriteria","append","filter","ec","param","EvaluationCriteria__Index","Props","courseId","match","useState","match$1","make","closeDrawerCB","children","undefined","map","sort","exports"],"mappings":"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","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar $$Array = require(\"bs-platform/lib/js/array.js\");\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar EvaluationCriterion = require(\"../../../shared/types/EvaluationCriterion.bs.js\");\nvar SchoolAdmin__EditorDrawer = require(\"../../components/SchoolAdmin__EditorDrawer.bs.js\");\nvar EvaluationCriterionEditor__Form = require(\"./evaluation_criteria_editor/EvaluationCriterionEditor__Form.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction openEditor($$event, evaluationCriterion, setState) {\n  $$event.preventDefault();\n  return Curry._1(setState, (function (state) {\n                return {\n                        editorAction: /* ShowEditor */[evaluationCriterion],\n                        evaluationCriteria: state.evaluationCriteria\n                      };\n              }));\n}\n\nfunction showEvaluationCriterion(evaluationCriterion, setState) {\n  return React.createElement(\"div\", {\n              key: EvaluationCriterion.id(evaluationCriterion),\n              className: \"flex items-center shadow bg-white rounded-lg mb-4\"\n            }, React.createElement(\"div\", {\n                  className: \"course-faculty__list-item flex w-full items-center\"\n                }, React.createElement(\"a\", {\n                      className: \"course-faculty__list-item-details flex flex-1 items-center justify-between border border-transparent cursor-pointer rounded-l-lg hover:bg-gray-100 hover:text-primary-500 hover:border-primary-400\",\n                      title: \"Edit \" + EvaluationCriterion.name(evaluationCriterion),\n                      onClick: (function ($$event) {\n                          return openEditor($$event, evaluationCriterion, setState);\n                        })\n                    }, React.createElement(\"div\", {\n                          className: \"flex w-full text-sm justify-between\"\n                        }, React.createElement(\"span\", {\n                              className: \"flex-1 font-semibold py-5 px-5\"\n                            }, EvaluationCriterion.name(evaluationCriterion)), React.createElement(\"span\", {\n                              className: \"ml-2 py-5 px-5 font-semibold text-gray-700 hover:text-primary-500\"\n                            }, React.createElement(\"i\", {\n                                  className: \"fas fa-edit text-normal\"\n                                }), React.createElement(\"span\", {\n                                  className: \"ml-1\"\n                                }, \"Edit\"))))));\n}\n\nfunction addOrUpdateCriterionCB(state, setState, criterion) {\n  var updatedCriteria = $$Array.append([criterion], state.evaluationCriteria.filter((function (ec) {\n              return EvaluationCriterion.id(ec) !== EvaluationCriterion.id(criterion);\n            })));\n  return Curry._1(setState, (function (param) {\n                return {\n                        editorAction: /* Hidden */0,\n                        evaluationCriteria: updatedCriteria\n                      };\n              }));\n}\n\nfunction EvaluationCriteria__Index(Props) {\n  var courseId = Props.courseId;\n  var evaluationCriteria = Props.evaluationCriteria;\n  var match = React.useState((function () {\n          return {\n                  editorAction: /* Hidden */0,\n                  evaluationCriteria: evaluationCriteria\n                };\n        }));\n  var setState = match[1];\n  var state = match[0];\n  var match$1 = state.editorAction;\n  return React.createElement(\"div\", {\n              className: \"flex-1 flex flex-col overflow-y-scroll bg-gray-200\"\n            }, match$1 ? React.createElement(SchoolAdmin__EditorDrawer.make, {\n                    closeDrawerCB: (function (param) {\n                        return Curry._1(setState, (function (state) {\n                                      return {\n                                              editorAction: /* Hidden */0,\n                                              evaluationCriteria: state.evaluationCriteria\n                                            };\n                                    }));\n                      }),\n                    children: React.createElement(EvaluationCriterionEditor__Form.make, {\n                          evaluationCriterion: match$1[0],\n                          courseId: courseId,\n                          addOrUpdateCriterionCB: (function (param) {\n                              return addOrUpdateCriterionCB(state, setState, param);\n                            })\n                        })\n                  }) : null, React.createElement(\"div\", {\n                  className: \"flex px-6 py-2 items-center justify-between\"\n                }, React.createElement(\"button\", {\n                      className: \"max-w-2xl w-full flex mx-auto items-center justify-center relative bg-white text-primary-500 hover:bg-gray-100 hover:text-primary-600 hover:shadow-lg focus:outline-none border-2 border-gray-400 border-dashed hover:border-primary-300 p-6 rounded-lg mt-8 cursor-pointer\",\n                      onClick: (function (param) {\n                          return Curry._1(setState, (function (state) {\n                                        return {\n                                                editorAction: /* ShowEditor */[undefined],\n                                                evaluationCriteria: state.evaluationCriteria\n                                              };\n                                      }));\n                        })\n                    }, React.createElement(\"i\", {\n                          className: \"fas fa-plus-circle\"\n                        }), React.createElement(\"h5\", {\n                          className: \"font-semibold ml-2\"\n                        }, \"Add New Evaluation Criterion\"))), React.createElement(\"div\", {\n                  className: \"px-6 pb-4 mt-5 flex flex-1\"\n                }, React.createElement(\"div\", {\n                      className: \"max-w-2xl w-full mx-auto relative\"\n                    }, $$Array.map((function (ec) {\n                            return showEvaluationCriterion(ec, setState);\n                          }), EvaluationCriterion.sort(state.evaluationCriteria)))));\n}\n\nvar make = EvaluationCriteria__Index;\n\nexports.str = str;\nexports.openEditor = openEditor;\nexports.showEvaluationCriterion = showEvaluationCriterion;\nexports.addOrUpdateCriterionCB = addOrUpdateCriterionCB;\nexports.make = make;\n/* react Not a pure module */\n"]},"metadata":{},"sourceType":"module"}